(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"/6Yf":function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n.d(e,"b",function(){return a});var r=n("mrSG"),i=n("qOnz"),o=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t}(),s="[DEFAULT]",u=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(t){void 0===t&&(t=s);var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new i.a;this.instancesDeferred.set(e,n);try{var r=this.getOrInitializeService(e);r&&n.resolve(r)}catch(o){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=Object(r.a)({identifier:s,optional:!1},t),n=e.optional,i=this.normalizeInstanceIdentifier(e.identifier);try{var o=this.getOrInitializeService(i);if(!o){if(n)return null;throw Error("Service "+this.name+" is not available")}return o}catch(u){if(n)return null;throw u}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService(s)}catch(h){}try{for(var i=Object(r.g)(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var u=Object(r.e)(o.value,2),a=u[1],c=this.normalizeInstanceIdentifier(u[0]);try{var l=this.getOrInitializeService(c);a.resolve(l)}catch(h){}}}catch(f){e={error:f}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}},t.prototype.clearInstance=function(t){void 0===t&&(t=s),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return Object(r.b)(this,void 0,void 0,function(){var t;return Object(r.d)(this,function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(Object(r.f)(Object(r.f)([],Object(r.e)(t.filter(function(t){return"INTERNAL"in t}).map(function(t){return t.INTERNAL.delete()}))),Object(r.e)(t.filter(function(t){return"_delete"in t}).map(function(t){return t._delete()}))))];case 1:return e.sent(),[2]}})})},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.isInitialized=function(t){return void 0===t&&(t=s),this.instances.has(t)},t.prototype.getOrInitializeService=function(t){var e=this.instances.get(t);return!e&&this.component&&(e=this.component.instanceFactory(this.container,function(t){return t===s?void 0:t}(t)),this.instances.set(t,e)),e||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:s:t},t}(),a=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new u(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}()},0:function(t,e,n){t.exports=n("zUnb")},"2QA8":function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())()},"2fFW":function(t,e,n){"use strict";n.d(e,"a",function(){return i});let r=!1;const i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=t},get useDeprecatedSynchronousErrorHandling(){return r}}},"3N8a":function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("quSY");class i extends r.a{constructor(t,e){super()}schedule(t,e=0){return this}}class o extends i{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n,r=!1;try{this.work(t)}catch(i){r=!0,n=!!i&&i||new Error(i)}if(r)return this.unsubscribe(),n}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}},"3UD+":function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},"5+tZ":function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("ZUHj"),i=n("l7GE"),o=n("51Dv"),s=n("lJxs"),u=n("Cfvw");function a(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?r=>r.pipe(a((n,r)=>Object(u.a)(t(n,r)).pipe(Object(s.a)((t,i)=>e(n,t,r,i))),n)):("number"==typeof e&&(n=e),e=>e.lift(new c(t,n)))}class c{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new l(t,this.project,this.concurrent))}}class l extends i.a{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e,t,n)}_innerSub(t,e,n){const i=new o.a(this,e,n),s=this.destination;s.add(i);const u=Object(r.a)(this,t,void 0,void 0,i);u!==i&&s.add(u)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t,e,n,r,i){this.destination.next(e)}notifyComplete(t){const e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},"51Dv":function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("7o/Q");class i extends r.a{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}},"7o/Q":function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n("n6bG"),i=n("gRHU"),o=n("quSY"),s=n("2QA8"),u=n("2fFW"),a=n("NJ4a");class c extends o.a{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=i.a;break;case 1:if(!t){this.destination=i.a;break}if("object"==typeof t){t instanceof c?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new l(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new l(this,t,e,n)}}[s.a](){return this}static create(t,e,n){const r=new c(t,e,n);return r.syncErrorThrowable=!1,r}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class l extends c{constructor(t,e,n,o){let s;super(),this._parentSubscriber=t;let u=this;Object(r.a)(e)?s=e:e&&(s=e.next,n=e.error,o=e.complete,e!==i.a&&(u=Object.create(e),Object(r.a)(u.unsubscribe)&&this.add(u.unsubscribe.bind(u)),u.unsubscribe=this.unsubscribe.bind(this))),this._context=u,this._next=s,this._error=n,this._complete=o}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;u.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=u.a;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):Object(a.a)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;Object(a.a)(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);u.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),u.a.useDeprecatedSynchronousErrorHandling)throw n;Object(a.a)(n)}}__tryOrSetError(t,e,n){if(!u.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return u.a.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(Object(a.a)(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}},"9ppp":function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})()},Cfvw:function(t,e,n){"use strict";n.d(e,"a",function(){return h});var r=n("HDdC"),i=n("SeVD"),o=n("quSY"),s=n("kJWO"),u=n("jZKg"),a=n("Lhse"),c=n("c2HN"),l=n("I55L");function h(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[s.a]}(t))return function(t,e){return new r.a(n=>{const r=new o.a;return r.add(e.schedule(()=>{const i=t[s.a]();r.add(i.subscribe({next(t){r.add(e.schedule(()=>n.next(t)))},error(t){r.add(e.schedule(()=>n.error(t)))},complete(){r.add(e.schedule(()=>n.complete()))}}))})),r})}(t,e);if(Object(c.a)(t))return function(t,e){return new r.a(n=>{const r=new o.a;return r.add(e.schedule(()=>t.then(t=>{r.add(e.schedule(()=>{n.next(t),r.add(e.schedule(()=>n.complete()))}))},t=>{r.add(e.schedule(()=>n.error(t)))}))),r})}(t,e);if(Object(l.a)(t))return Object(u.a)(t,e);if(function(t){return t&&"function"==typeof t[a.a]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new r.a(n=>{const r=new o.a;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(e.schedule(()=>{i=t[a.a](),r.add(e.schedule(function(){if(n.closed)return;let t,e;try{const n=i.next();t=n.value,e=n.done}catch(r){return void n.error(r)}e?n.complete():(n.next(t),this.schedule())}))})),r})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof r.a?t:new r.a(Object(i.a)(t))}},D0XW:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("3N8a");const i=new(n("IjjT").a)(r.a)},DH7j:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>Array.isArray||(t=>t&&"number"==typeof t.length))()},EQ5u:function(t,e,n){"use strict";n.d(e,"a",function(){return u}),n.d(e,"b",function(){return a});var r=n("XNiG"),i=n("HDdC"),o=(n("7o/Q"),n("quSY")),s=n("x+ZX");class u extends i.a{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new o.a,t.add(this.source.subscribe(new c(this.getSubject(),this))),t.closed&&(this._connection=null,t=o.a.EMPTY)),t}refCount(){return Object(s.a)()(this)}}const a=(()=>{const t=u.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class c extends r.b{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}},EY2u:function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"b",function(){return o});var r=n("HDdC");const i=new r.a(t=>t.complete());function o(t){return t?function(t){return new r.a(e=>t.schedule(()=>e.complete()))}(t):i}},HDdC:function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n("7o/Q"),i=n("2QA8"),o=n("gRHU"),s=n("kJWO"),u=n("SpAZ"),a=n("2fFW");let c=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:s}=this,u=function(t,e,n){if(t){if(t instanceof r.a)return t;if(t[i.a])return t[i.a]()}return t||e||n?new r.a(t,e,n):new r.a(o.a)}(t,e,n);if(u.add(s?s.call(u,this.source):this.source||a.a.useDeprecatedSynchronousErrorHandling&&!u.syncErrorThrowable?this._subscribe(u):this._trySubscribe(u)),a.a.useDeprecatedSynchronousErrorHandling&&u.syncErrorThrowable&&(u.syncErrorThrowable=!1,u.syncErrorThrown))throw u.syncErrorValue;return u}_trySubscribe(t){try{return this._subscribe(t)}catch(e){a.a.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:i}=t;if(e||i)return!1;t=n&&n instanceof r.a?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=l(e))((e,n)=>{let r;r=this.subscribe(e=>{try{t(e)}catch(i){n(i),r&&r.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[s.a](){return this}pipe(...t){return 0===t.length?this:(0===(e=t).length?u.a:1===e.length?e[0]:function(t){return e.reduce((t,e)=>e(t),t)})(this);var e}toPromise(t){return new(t=l(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function l(t){if(t||(t=a.a.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},I55L:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=t=>t&&"number"==typeof t.length&&"function"!=typeof t},IjjT:function(t,e,n){"use strict";n.d(e,"a",function(){return i});let r=(()=>{class t{constructor(e,n=t.now){this.SchedulerAction=e,this.now=n}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}return t.now=()=>Date.now(),t})();class i extends r{constructor(t,e=r.now){super(t,()=>i.delegate&&i.delegate!==this?i.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return i.delegate&&i.delegate!==this?i.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}},Jgta:function(t,e,n){"use strict";var r=n("zIRd");n.d(e,"a",function(){return r.a}),r.a.registerVersion("firebase","8.3.0","app")},LRne:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("z+Ro"),i=n("yCtX"),o=n("jZKg");function s(...t){let e=t[t.length-1];return Object(r.a)(e)?(t.pop(),Object(o.a)(t,e)):Object(i.a)(t)}},Lhse:function(t,e,n){"use strict";function r(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}n.d(e,"a",function(){return i});const i=r()},NJ4a:function(t,e,n){"use strict";function r(t){setTimeout(()=>{throw t},0)}n.d(e,"a",function(){return r})},SeVD:function(t,e,n){"use strict";n.d(e,"a",function(){return l});var r=n("ngJS"),i=n("NJ4a"),o=n("Lhse"),s=n("kJWO"),u=n("I55L"),a=n("c2HN"),c=n("XoHu");const l=t=>{if(t&&"function"==typeof t[s.a])return l=t,t=>{const e=l[s.a]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(Object(u.a)(t))return Object(r.a)(t);if(Object(a.a)(t))return n=t,t=>(n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,i.a),t);if(t&&"function"==typeof t[o.a])return e=t,t=>{const n=e[o.a]();for(;;){const e=n.next();if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t};{const e=Object(c.a)(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var e,n,l}},SpAZ:function(t,e,n){"use strict";function r(t){return t}n.d(e,"a",function(){return r})},VRyK:function(t,e,n){"use strict";n.d(e,"a",function(){return u});var r=n("HDdC"),i=n("z+Ro"),o=n("bHdf"),s=n("yCtX");function u(...t){let e=Number.POSITIVE_INFINITY,n=null,u=t[t.length-1];return Object(i.a)(u)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof u&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof r.a?t[0]:Object(o.a)(e)(Object(s.a)(t,n))}},XNiG:function(t,e,n){"use strict";n.d(e,"b",function(){return c}),n.d(e,"a",function(){return l});var r=n("HDdC"),i=n("7o/Q"),o=n("quSY"),s=n("9ppp"),u=n("Ylt2"),a=n("2QA8");class c extends i.a{constructor(t){super(t),this.destination=t}}let l=(()=>{class t extends r.a{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[a.a](){return new c(this)}lift(t){const e=new h(this,this);return e.operator=t,e}next(t){if(this.closed)throw new s.a;if(!this.isStopped){const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].next(t)}}error(t){if(this.closed)throw new s.a;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].error(t);this.observers.length=0}complete(){if(this.closed)throw new s.a;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let r=0;r<e;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new s.a;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new s.a;return this.hasError?(t.error(this.thrownError),o.a.EMPTY):this.isStopped?(t.complete(),o.a.EMPTY):(this.observers.push(t),new u.a(this,t))}asObservable(){const t=new r.a;return t.source=this,t}}return t.create=(t,e)=>new h(t,e),t})();class h extends l{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):o.a.EMPTY}}},XoHu:function(t,e,n){"use strict";function r(t){return null!==t&&"object"==typeof t}n.d(e,"a",function(){return r})},Ylt2:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("quSY");class i extends r.a{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},ZUHj:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("51Dv"),i=n("SeVD"),o=n("HDdC");function s(t,e,n,s,u=new r.a(t,n,s)){if(!u.closed)return e instanceof o.a?e.subscribe(u):Object(i.a)(e)(u)}},bHdf:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("5+tZ"),i=n("SpAZ");function o(t=Number.POSITIVE_INFINITY){return Object(r.a)(i.a,t)}},c2HN:function(t,e,n){"use strict";function r(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}n.d(e,"a",function(){return r})},fXoL:function(t,e,n){"use strict";n.d(e,"a",function(){return Ye}),n.d(e,"b",function(){return hu}),n.d(e,"c",function(){return su}),n.d(e,"d",function(){return iu}),n.d(e,"e",function(){return ou}),n.d(e,"f",function(){return ia}),n.d(e,"g",function(){return Wu}),n.d(e,"h",function(){return ds}),n.d(e,"i",function(){return Ou}),n.d(e,"j",function(){return Lo}),n.d(e,"k",function(){return pu}),n.d(e,"l",function(){return Ho}),n.d(e,"m",function(){return or}),n.d(e,"n",function(){return Hs}),n.d(e,"o",function(){return Di}),n.d(e,"p",function(){return fn}),n.d(e,"q",function(){return j}),n.d(e,"r",function(){return We}),n.d(e,"s",function(){return Yi}),n.d(e,"t",function(){return ss}),n.d(e,"u",function(){return as}),n.d(e,"v",function(){return du}),n.d(e,"w",function(){return Is}),n.d(e,"x",function(){return Ku}),n.d(e,"y",function(){return Es}),n.d(e,"z",function(){return zu}),n.d(e,"A",function(){return Tu}),n.d(e,"B",function(){return dn}),n.d(e,"C",function(){return lu}),n.d(e,"D",function(){return cu}),n.d(e,"E",function(){return Bo}),n.d(e,"F",function(){return zo}),n.d(e,"G",function(){return cr}),n.d(e,"H",function(){return $o}),n.d(e,"I",function(){return tr}),n.d(e,"J",function(){return pn}),n.d(e,"K",function(){return Zu}),n.d(e,"L",function(){return bs}),n.d(e,"M",function(){return Nu}),n.d(e,"N",function(){return Ke}),n.d(e,"O",function(){return Wo}),n.d(e,"P",function(){return Qo}),n.d(e,"Q",function(){return Ss}),n.d(e,"R",function(){return R}),n.d(e,"S",function(){return Bu}),n.d(e,"T",function(){return Hu}),n.d(e,"U",function(){return Fu}),n.d(e,"V",function(){return na}),n.d(e,"W",function(){return Ru}),n.d(e,"X",function(){return fu}),n.d(e,"Y",function(){return Mi}),n.d(e,"Z",function(){return ko}),n.d(e,"ab",function(){return Xn}),n.d(e,"bb",function(){return Rn}),n.d(e,"cb",function(){return In}),n.d(e,"db",function(){return Sn}),n.d(e,"eb",function(){return An}),n.d(e,"fb",function(){return Cn}),n.d(e,"gb",function(){return xn}),n.d(e,"hb",function(){return jn}),n.d(e,"ib",function(){return xo}),n.d(e,"jb",function(){return ea}),n.d(e,"kb",function(){return Co}),n.d(e,"lb",function(){return jo}),n.d(e,"mb",function(){return Tn}),n.d(e,"nb",function(){return F}),n.d(e,"ob",function(){return Zi}),n.d(e,"pb",function(){return go}),n.d(e,"qb",function(){return fo}),n.d(e,"rb",function(){return po}),n.d(e,"sb",function(){return So}),n.d(e,"tb",function(){return It}),n.d(e,"ub",function(){return h}),n.d(e,"vb",function(){return En}),n.d(e,"wb",function(){return mt}),n.d(e,"xb",function(){return $r}),n.d(e,"yb",function(){return no}),n.d(e,"zb",function(){return tu}),n.d(e,"Ab",function(){return J}),n.d(e,"Bb",function(){return it}),n.d(e,"Cb",function(){return w}),n.d(e,"Db",function(){return _}),n.d(e,"Eb",function(){return et}),n.d(e,"Fb",function(){return ot}),n.d(e,"Gb",function(){return oo}),n.d(e,"Hb",function(){return lo}),n.d(e,"Ib",function(){return co}),n.d(e,"Jb",function(){return ao}),n.d(e,"Kb",function(){return ho}),n.d(e,"Lb",function(){return Oo}),n.d(e,"Mb",function(){return cn}),n.d(e,"Nb",function(){return Ge}),n.d(e,"Ob",function(){return ru}),n.d(e,"Pb",function(){return vo}),n.d(e,"Qb",function(){return eu}),n.d(e,"Rb",function(){return so}),n.d(e,"Sb",function(){return Zs}),n.d(e,"Tb",function(){return io}),n.d(e,"Ub",function(){return Ht}),n.d(e,"Vb",function(){return er}),n.d(e,"Wb",function(){return nt}),n.d(e,"Xb",function(){return ro}),n.d(e,"Yb",function(){return bo}),n.d(e,"Zb",function(){return wo});var r=n("XNiG"),i=n("quSY"),o=n("HDdC"),s=n("VRyK"),u=n("EQ5u"),a=n("x+ZX");function c(){return new r.a}function l(t){for(let e in t)if(t[e]===l)return e;throw Error("Could not find renamed property on target object.")}function h(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(h).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function f(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const d=l({__forward_ref__:l});function p(t){return t.__forward_ref__=p,t.toString=function(){return h(this())},t}function g(t){return"function"==typeof(e=t)&&e.hasOwnProperty(d)&&e.__forward_ref__===p?t():t;var e}class v extends Error{constructor(t,e){super(function(t,e){return`${t?`NG0${t}: `:""}${e}`}(t,e)),this.code=t}}function y(t){return"string"==typeof t?t:null==t?"":String(t)}function m(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():y(t)}function b(t,e){const n=e?` in ${e}`:"";throw new v("201",`No provider for ${m(t)} found${n}`)}function w(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function _(t){return{providers:t.providers||[],imports:t.imports||[]}}function O(t){return E(t,T)||E(t,x)}function E(t,e){return t.hasOwnProperty(e)?t[e]:null}function I(t){return t&&(t.hasOwnProperty(S)||t.hasOwnProperty(C))?t[S]:null}const T=l({"\u0275prov":l}),S=l({"\u0275inj":l}),x=l({ngInjectableDef:l}),C=l({ngInjectorDef:l});var j=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});let A;function k(t){const e=A;return A=t,e}function N(t,e,n){const r=O(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&j.Optional?null:void 0!==e?e:void b(h(t),"Injector")}function P(t){return{toString:t}.toString()}var D=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}({}),R=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}({});const M="undefined"!=typeof globalThis&&globalThis,L="undefined"!=typeof window&&window,U="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,V="undefined"!=typeof global&&global,F=M||V||L||U,H={},q=[],z=l({"\u0275cmp":l}),B=l({"\u0275dir":l}),G=l({"\u0275pipe":l}),$=l({"\u0275mod":l}),Q=l({"\u0275loc":l}),W=l({"\u0275fac":l}),Y=l({__NG_ELEMENT_ID__:l});let K=0;function J(t){return P(()=>{const e={},n={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===D.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||q,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||R.Emulated,id:"c",styles:t.styles||q,_:null,setInput:null,schemas:t.schemas||null,tView:null},r=t.directives,i=t.features,o=t.pipes;return n.id+=K++,n.inputs=rt(t.inputs,e),n.outputs=rt(t.outputs),i&&i.forEach(t=>t(n)),n.directiveDefs=r?()=>("function"==typeof r?r():r).map(X):null,n.pipeDefs=o?()=>("function"==typeof o?o():o).map(Z):null,n})}function X(t){return st(t)||function(t){return t[B]||null}(t)}function Z(t){return function(t){return t[G]||null}(t)}const tt={};function et(t){const e={type:t.type,bootstrap:t.bootstrap||q,declarations:t.declarations||q,imports:t.imports||q,exports:t.exports||q,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&P(()=>{tt[t.id]=t.type}),e}function nt(t,e){return P(()=>{const n=ut(t,!0);n.declarations=e.declarations||q,n.imports=e.imports||q,n.exports=e.exports||q})}function rt(t,e){if(null==t)return H;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,e&&(e[i]=o)}return n}const it=J;function ot(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function st(t){return t[z]||null}function ut(t,e){const n=t[$]||null;if(!n&&!0===e)throw new Error(`Type ${h(t)} does not have '\u0275mod' property.`);return n}const at=20,ct=10;function lt(t){return Array.isArray(t)&&"object"==typeof t[1]}function ht(t){return Array.isArray(t)&&!0===t[1]}function ft(t){return 0!=(8&t.flags)}function dt(t){return 2==(2&t.flags)}function pt(t){return 1==(1&t.flags)}function gt(t){return null!==t.template}function vt(t,e){return t.hasOwnProperty(W)?t[W]:null}class yt{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}function mt(){return bt}function bt(t){return t.type.prototype.ngOnChanges&&(t.setInput=_t),wt}function wt(){const t=Ot(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===H)t.previous=e;else for(let t in e)n[t]=e[t];t.current=null,this.ngOnChanges(e)}}function _t(t,e,n,r){const i=Ot(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:H,current:null}),o=i.current||(i.current={}),s=i.previous,u=this.declaredInputs[n],a=s[u];o[u]=new yt(a&&a.currentValue,e,s===H),t[r]=e}function Ot(t){return t.__ngSimpleChanges__||null}let Et;function It(t){Et=t}function Tt(t){return!!t.listen}mt.ngInherit=!0;const St={createRenderer:(t,e)=>void 0!==Et?Et:"undefined"!=typeof document?document:void 0};function xt(t){for(;Array.isArray(t);)t=t[0];return t}function Ct(t,e){return xt(e[t.index])}function jt(t,e){return t.data[e]}function At(t,e){const n=e[t];return lt(n)?n:n[0]}function kt(t){const e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function Nt(t){return 4==(4&t[2])}function Pt(t){return 128==(128&t[2])}function Dt(t,e){return null==e?null:t[e]}function Rt(t){t[18]=0}function Mt(t,e){t[5]+=e;let n=t,r=t[3];for(;null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}const Lt={lFrame:re(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Ut(){return Lt.bindingsEnabled}function Vt(){return Lt.lFrame.lView}function Ft(){return Lt.lFrame.tView}function Ht(t){Lt.lFrame.contextLView=t}function qt(){let t=zt();for(;null!==t&&64===t.type;)t=t.parent;return t}function zt(){return Lt.lFrame.currentTNode}function Bt(t,e){const n=Lt.lFrame;n.currentTNode=t,n.isParent=e}function Gt(){return Lt.lFrame.isParent}function $t(){return Lt.isInCheckNoChangesMode}function Qt(t){Lt.isInCheckNoChangesMode=t}function Wt(){return Lt.lFrame.bindingIndex++}function Yt(t,e){const n=Lt.lFrame;n.bindingIndex=n.bindingRootIndex=t,Kt(e)}function Kt(t){Lt.lFrame.currentDirectiveIndex=t}function Jt(){return Lt.lFrame.currentQueryIndex}function Xt(t){Lt.lFrame.currentQueryIndex=t}function Zt(t){const e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function te(t,e,n){if(n&j.SkipSelf){let r=e,i=t;for(;r=r.parent,!(null!==r||n&j.Host||(r=Zt(i),null===r)||(i=i[15],10&r.type)););if(null===r)return!1;e=r,t=i}const r=Lt.lFrame=ne();return r.currentTNode=e,r.lView=t,!0}function ee(t){const e=ne(),n=t[1];Lt.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function ne(){const t=Lt.lFrame,e=null===t?null:t.child;return null===e?re(t):e}function re(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function ie(){const t=Lt.lFrame;return Lt.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const oe=ie;function se(){const t=ie();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function ue(){return Lt.lFrame.selectedIndex}function ae(t){Lt.lFrame.selectedIndex=t}function ce(){const t=Lt.lFrame;return jt(t.tView,t.selectedIndex)}function le(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const e=t.data[n].type.prototype,{ngAfterContentInit:r,ngAfterContentChecked:i,ngAfterViewInit:o,ngAfterViewChecked:s,ngOnDestroy:u}=e;r&&(t.contentHooks||(t.contentHooks=[])).push(-n,r),i&&((t.contentHooks||(t.contentHooks=[])).push(n,i),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,i)),o&&(t.viewHooks||(t.viewHooks=[])).push(-n,o),s&&((t.viewHooks||(t.viewHooks=[])).push(n,s),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,s)),null!=u&&(t.destroyHooks||(t.destroyHooks=[])).push(n,u)}}function he(t,e,n){pe(t,e,3,n)}function fe(t,e,n,r){(3&t[2])===n&&pe(t,e,n,r)}function de(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function pe(t,e,n,r){const i=null!=r?r:-1,o=e.length-1;let s=0;for(let u=void 0!==r?65535&t[18]:0;u<o;u++)if("number"==typeof e[u+1]){if(s=e[u],null!=r&&s>=r)break}else e[u]<0&&(t[18]+=65536),(s<i||-1==i)&&(ge(t,n,e,u),t[18]=(4294901760&t[18])+u+2),u++}function ge(t,e,n,r){const i=n[r]<0,o=n[r+1],s=t[i?-n[r]:n[r]];i?t[2]>>11<t[18]>>16&&(3&t[2])===e&&(t[2]+=2048,o.call(s)):o.call(s)}const ve=-1;class ye{constructor(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}function me(t,e,n){const r=Tt(t);let i=0;for(;i<n.length;){const o=n[i];if("number"==typeof o){if(0!==o)break;i++;const s=n[i++],u=n[i++],a=n[i++];r?t.setAttribute(e,u,a,s):e.setAttributeNS(s,u,a)}else{const s=o,u=n[++i];we(s)?r&&t.setProperty(e,s,u):r?t.setAttribute(e,s,u):e.setAttribute(s,u),i++}}return i}function be(t){return 3===t||4===t||6===t}function we(t){return 64===t.charCodeAt(0)}function _e(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||Oe(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function Oe(t,e,n,r,i){let o=0,s=t.length;if(-1===e)s=-1;else for(;o<t.length;){const n=t[o++];if("number"==typeof n){if(n===e){s=-1;break}if(n>e){s=o-1;break}}}for(;o<t.length;){const e=t[o];if("number"==typeof e)break;if(e===n){if(null===r)return void(null!==i&&(t[o+1]=i));if(r===t[o+1])return void(t[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),null!==r&&t.splice(o++,0,r),null!==i&&t.splice(o++,0,i)}function Ee(t){return t!==ve}function Ie(t){return 32767&t}function Te(t,e){let n=t>>16,r=e;for(;n>0;)r=r[15],n--;return r}let Se=!0;function xe(t){const e=Se;return Se=t,e}let Ce=0;function je(t,e){const n=ke(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,Ae(r.data,t),Ae(e,null),Ae(r.blueprint,null));const i=Ne(t,e),o=t.injectorIndex;if(Ee(i)){const t=Ie(i),n=Te(i,e),r=n[1].data;for(let i=0;i<8;i++)e[o+i]=n[t+i]|r[t+i]}return e[o+8]=i,o}function Ae(t,e){t.push(0,0,0,0,0,0,0,0,e)}function ke(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function Ne(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){const t=i[1],e=t.type;if(r=2===e?t.declTNode:1===e?i[6]:null,null===r)return ve;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return ve}function Pe(t,e,n){!function(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Y)&&(r=n[Y]),null==r&&(r=n[Y]=Ce++);const i=255&r;e.data[t+(i>>5)]|=1<<i}(t,e,n)}function De(t,e,n){if(n&j.Optional)return t;b(e,"NodeInjector")}function Re(t,e,n,r){if(n&j.Optional&&void 0===r&&(r=null),0==(n&(j.Self|j.Host))){const i=t[9],o=k(void 0);try{return i?i.get(e,r,n&j.Optional):N(e,r,n&j.Optional)}finally{k(o)}}return De(r,e,n)}function Me(t,e,n,r=j.Default,i){if(null!==t){const o=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(Y)?t[Y]:void 0;return"number"==typeof e?e>=0?255&e:Ue:e}(n);if("function"==typeof o){if(!te(e,t,r))return r&j.Host?De(i,n,r):Re(e,n,r,i);try{const t=o();if(null!=t||r&j.Optional)return t;b(n)}finally{oe()}}else if("number"==typeof o){let i=null,s=ke(t,e),u=ve,a=r&j.Host?e[16][6]:null;for((-1===s||r&j.SkipSelf)&&(u=-1===s?Ne(t,e):e[s+8],u!==ve&&ze(r,!1)?(i=e[1],s=Ie(u),e=Te(u,e)):s=-1);-1!==s;){const t=e[1];if(qe(o,s,t.data)){const t=Ve(s,e,n,i,r,a);if(t!==Le)return t}u=e[s+8],u!==ve&&ze(r,e[1].data[s+8]===a)&&qe(o,s,e)?(i=t,s=Ie(u),e=Te(u,e)):s=-1}}}return Re(e,n,r,i)}const Le={};function Ue(){return new Be(qt(),Vt())}function Ve(t,e,n,r,i,o){const s=e[1],u=s.data[t+8],a=Fe(u,s,n,null==r?dt(u)&&Se:r!=s&&0!=(3&u.type),i&j.Host&&o===u);return null!==a?He(e,s,a,u):Le}function Fe(t,e,n,r,i){const o=t.providerIndexes,s=e.data,u=1048575&o,a=t.directiveStart,c=o>>20,l=i?u+c:t.directiveEnd;for(let h=r?u:u+c;h<l;h++){const t=s[h];if(h<a&&n===t||h>=a&&t.type===n)return h}if(i){const t=s[a];if(t&&gt(t)&&t.type===n)return a}return null}function He(t,e,n,r){let i=t[n];const o=e.data;if(i instanceof ye){const s=i;s.resolving&&function(t,e){throw new v("200",`Circular dependency in DI detected for ${t}`)}(m(o[n]));const u=xe(s.canSeeViewProviders);s.resolving=!0;const a=s.injectImpl?k(s.injectImpl):null;te(t,r,j.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){const r=bt(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,r)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,i),o&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,o))}(n,o[n],e)}finally{null!==a&&k(a),xe(u),s.resolving=!1,oe()}}return i}function qe(t,e,n){return!!(n[e+(t>>5)]&1<<t)}function ze(t,e){return!(t&j.Self||t&j.Host&&e)}class Be{constructor(t,e){this._tNode=t,this._lView=e}get(t,e){return Me(this._tNode,this._lView,t,void 0,e)}}function Ge(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const t=n.length;let r=0;for(;r<t;){const i=n[r];if(be(i))break;if(0===i)r+=2;else if("number"==typeof i)for(r++;r<t&&"string"==typeof n[r];)r++;else{if(i===e)return n[r+1];r+=2}}}return null}(qt(),t)}const $e="__parameters__";function Qe(t,e,n){return P(()=>{const r=function(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}(e);function i(...t){if(this instanceof i)return r.apply(this,t),this;const e=new i(...t);return n.annotation=e,n;function n(t,n,r){const i=t.hasOwnProperty($e)?t[$e]:Object.defineProperty(t,$e,{value:[]})[$e];for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(e),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}class We{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=w({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Ye=new We("AnalyzeForEntryComponents"),Ke=Function;function Je(t,e){void 0===e&&(e=t);for(let n=0;n<t.length;n++){let r=t[n];Array.isArray(r)?(e===t&&(e=t.slice(0,n)),Je(r,e)):e!==t&&e.push(r)}return e}function Xe(t,e){t.forEach(t=>Array.isArray(t)?Xe(t,e):e(t))}function Ze(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function tn(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}const en={},nn=/\n/gm,rn="__source",on=l({provide:String,useValue:l});let sn;function un(t){const e=sn;return sn=t,e}function an(t,e=j.Default){if(void 0===sn)throw new Error("inject() must be called from an injection context");return null===sn?N(t,void 0,e):sn.get(t,e&j.Optional?null:void 0,e)}function cn(t,e=j.Default){return(A||an)(g(t),e)}function ln(t){const e=[];for(let n=0;n<t.length;n++){const r=g(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let t,n=j.Default;for(let e=0;e<r.length;e++){const i=r[e],o=i.__NG_DI_FLAG__;"number"==typeof o?-1===o?t=i.token:n|=o:t=i}e.push(cn(t,n))}else e.push(cn(r))}return e}function hn(t,e){return t.__NG_DI_FLAG__=e,t.prototype.__NG_DI_FLAG__=e,t}const fn=hn(Qe("Inject",t=>({token:t})),-1),dn=hn(Qe("Optional"),8),pn=hn(Qe("SkipSelf"),4);let gn;function vn(t){var e;return(null===(e=function(){if(void 0===gn&&(gn=null,F.trustedTypes))try{gn=F.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(e){}return gn}())||void 0===e?void 0:e.createHTML(t))||t}class yn{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class mn extends yn{getTypeName(){return"HTML"}}class bn extends yn{getTypeName(){return"Style"}}class wn extends yn{getTypeName(){return"Script"}}class _n extends yn{getTypeName(){return"URL"}}class On extends yn{getTypeName(){return"ResourceURL"}}function En(t){return t instanceof yn?t.changingThisBreaksApplicationSecurity:t}function In(t,e){const n=Tn(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===e}function Tn(t){return t instanceof yn&&t.getTypeName()||null}function Sn(t){return new mn(t)}function xn(t){return new bn(t)}function Cn(t){return new wn(t)}function jn(t){return new _n(t)}function An(t){return new On(t)}class kn{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(vn(t),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(t):(e.removeChild(e.firstChild),e)}catch(e){return null}}}class Nn{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const e=this.inertDocument.createElement("body");t.appendChild(e)}}getInertBodyElement(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=vn(t),e;const n=this.inertDocument.createElement("body");return n.innerHTML=vn(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(t){const e=t.attributes;for(let r=e.length-1;0<r;r--){const n=e.item(r).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||t.removeAttribute(n)}let n=t.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const Pn=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Dn=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Rn(t){return(t=String(t)).match(Pn)||t.match(Dn)?t:"unsafe:"+t}function Mn(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function Ln(...t){const e={};for(const n of t)for(const t in n)n.hasOwnProperty(t)&&(e[t]=!0);return e}const Un=Mn("area,br,col,hr,img,wbr"),Vn=Mn("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Fn=Mn("rp,rt"),Hn=Ln(Fn,Vn),qn=Ln(Un,Ln(Vn,Mn("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Ln(Fn,Mn("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Hn),zn=Mn("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Bn=Mn("srcset"),Gn=Ln(zn,Bn,Mn("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Mn("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),$n=Mn("script,style,template");class Qn{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,n=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let t=this.checkClobberedElement(e,e.nextSibling);if(t){e=t;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!qn.hasOwnProperty(e))return this.sanitizedSomething=!0,!$n.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const n=t.attributes;for(let i=0;i<n.length;i++){const t=n.item(i),e=t.name,o=e.toLowerCase();if(!Gn.hasOwnProperty(o)){this.sanitizedSomething=!0;continue}let s=t.value;zn[o]&&(s=Rn(s)),Bn[o]&&(r=s,s=(r=String(r)).split(",").map(t=>Rn(t.trim())).join(", ")),this.buf.push(" ",e,'="',Kn(s),'"')}var r;return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();qn.hasOwnProperty(e)&&!Un.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(Kn(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return e}}const Wn=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Yn=/([^\#-~ |!])/g;function Kn(t){return t.replace(/&/g,"&amp;").replace(Wn,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(Yn,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Jn;function Xn(t,e){let n=null;try{Jn=Jn||function(t){const e=new Nn(t);return function(){try{return!!(new window.DOMParser).parseFromString(vn(""),"text/html")}catch(t){return!1}}()?new kn(e):e}(t);let r=e?String(e):"";n=Jn.getInertBodyElement(r);let i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=Jn.getInertBodyElement(r)}while(r!==o);return vn((new Qn).sanitizeChildren(Zn(n)||n))}finally{if(n){const t=Zn(n)||n;for(;t.firstChild;)t.removeChild(t.firstChild)}}}function Zn(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var tr=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}({});function er(t){const e=function(){const t=Vt();return t&&t[12]}();return e?e.sanitize(tr.URL,t)||"":In(t,"URL")?En(t):Rn(y(t))}function nr(t){return t.ngDebugContext}function rr(t){return t.ngOriginalError}function ir(t,...e){t.error(...e)}class or{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t.ngErrorLogger||ir}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?nr(t)?nr(t):this._findContext(rr(t)):null}_findOriginalError(t){let e=rr(t);for(;e&&rr(e);)e=rr(e);return e}}function sr(t,e){t.__ngContext__=e}const ur=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(F))();function ar(t){return t instanceof Function?t():t}var cr=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}({});function lr(t,e){return(void 0)(t,e)}function hr(t){const e=t[3];return ht(e)?e[3]:e}function fr(t){return pr(t[13])}function dr(t){return pr(t[4])}function pr(t){for(;null!==t&&!ht(t);)t=t[4];return t}function gr(t,e,n,r,i){if(null!=r){let o,s=!1;ht(r)?o=r:lt(r)&&(s=!0,r=r[0]);const u=xt(r);0===t&&null!==n?null==i?Or(e,n,u):_r(e,n,u,i||null,!0):1===t&&null!==n?_r(e,n,u,i||null,!0):2===t?function(t,e,n){const r=Ir(t,e);r&&function(t,e,n,r){Tt(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}(e,u,s):3===t&&e.destroyNode(u),null!=o&&function(t,e,n,r,i){const o=n[7];o!==xt(n)&&gr(e,t,r,o,i);for(let s=ct;s<n.length;s++){const i=n[s];Ar(i[1],i,t,e,r,o)}}(e,t,o,n,i)}}function vr(t,e,n){return Tt(t)?t.createElement(e,n):null===n?t.createElement(e):t.createElementNS(n,e)}function yr(t,e){const n=t[9],r=n.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,Mt(i,-1)),n.splice(r,1)}function mr(t,e){if(t.length<=ct)return;const n=ct+e,r=t[n];if(r){const o=r[17];null!==o&&o!==t&&yr(o,r),e>0&&(t[n-1][4]=r[4]);const s=tn(t,ct+e);Ar(r[1],i=r,i[11],2,null,null),i[0]=null,i[6]=null;const u=s[19];null!==u&&u.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-129}var i;return r}function br(t,e){if(!(256&e[2])){const n=e[11];Tt(n)&&n.destroyNode&&Ar(t,e,n,3,null,null),function(t){let e=t[13];if(!e)return wr(t[1],t);for(;e;){let n=null;if(lt(e))n=e[13];else{const t=e[10];t&&(n=t)}if(!n){for(;e&&!e[4]&&e!==t;)lt(e)&&wr(e[1],e),e=e[3];null===e&&(e=t),lt(e)&&wr(e[1],e),n=e&&e[4]}e=n}}(e)}}function wr(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const t=e[n[r]];if(!(t instanceof ye)){const e=n[r+1];if(Array.isArray(e))for(let n=0;n<e.length;n+=2)e[n+1].call(t[e[n]]);else e.call(t)}}}(t,e),function(t,e){const n=t.cleanup,r=e[7];let i=-1;if(null!==n)for(let o=0;o<n.length-1;o+=2)if("string"==typeof n[o]){const t=n[o+1],s="function"==typeof t?t(e):xt(e[t]),u=r[i=n[o+2]],a=n[o+3];"boolean"==typeof a?s.removeEventListener(n[o],u,a):a>=0?r[i=a]():r[i=-a].unsubscribe(),o+=2}else{const t=r[i=n[o+1]];n[o].call(t)}if(null!==r){for(let t=i+1;t<r.length;t++)(0,r[t])();e[7]=null}}(t,e),1===e[1].type&&Tt(e[11])&&e[11].destroy();const n=e[17];if(null!==n&&ht(e[3])){n!==e[3]&&yr(n,e);const r=e[19];null!==r&&r.detachView(t)}}}function _r(t,e,n,r,i){Tt(t)?t.insertBefore(e,n,r,i):e.insertBefore(n,r,i)}function Or(t,e,n){Tt(t)?t.appendChild(e,n):e.appendChild(n)}function Er(t,e,n,r,i){null!==r?_r(t,e,n,r,i):Or(t,e,n)}function Ir(t,e){return Tt(t)?t.parentNode(e):e.parentNode}function Tr(t,e,n,r){const i=function(t,e,n){return function(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[0];if(2&r.flags){const e=t.data[r.directiveStart].encapsulation;if(e===R.None||e===R.Emulated)return null}return Ct(r,n)}(t,e.parent,n)}(t,r,e),o=e[11],s=function(t,e,n){return function(t,e,n){return 40&t.type?Ct(t,n):null}(t,0,n)}(r.parent||e[6],0,e);if(null!=i)if(Array.isArray(n))for(let u=0;u<n.length;u++)Er(o,i,n[u],s,!1);else Er(o,i,n,s,!1)}function Sr(t,e){if(null!==e){const n=e.type;if(3&n)return Ct(e,t);if(4&n)return Cr(-1,t[e.index]);if(8&n){const n=e.child;if(null!==n)return Sr(t,n);{const n=t[e.index];return ht(n)?Cr(-1,n):xt(n)}}if(32&n)return lr(e,t)()||xt(t[e.index]);{const n=xr(t,e);return null!==n?Array.isArray(n)?n[0]:Sr(hr(t[16]),n):Sr(t,e.next)}}return null}function xr(t,e){return null!==e?t[16][6].projection[e.projection]:null}function Cr(t,e){const n=ct+t+1;if(n<e.length){const t=e[n],r=t[1].firstChild;if(null!==r)return Sr(t,r)}return e[7]}function jr(t,e,n,r,i,o,s){for(;null!=n;){const u=r[n.index],a=n.type;if(s&&0===e&&(u&&sr(xt(u),r),n.flags|=4),64!=(64&n.flags))if(8&a)jr(t,e,n.child,r,i,o,!1),gr(e,t,i,u,o);else if(32&a){const s=lr(n,r);let a;for(;a=s();)gr(e,t,i,a,o);gr(e,t,i,u,o)}else 16&a?kr(t,e,r,n,i,o):gr(e,t,i,u,o);n=s?n.projectionNext:n.next}}function Ar(t,e,n,r,i,o){jr(n,r,t.firstChild,e,i,o,!1)}function kr(t,e,n,r,i,o){const s=n[16],u=s[6].projection[r.projection];if(Array.isArray(u))for(let a=0;a<u.length;a++)gr(e,t,i,u[a],o);else jr(t,e,u,s[3],i,o,!0)}function Nr(t,e,n){Tt(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function Pr(t,e,n){Tt(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}function Dr(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const n=e.length;if(i+n===r||t.charCodeAt(i+n)<=32)return i}n=i+1}}const Rr="ng-template";function Mr(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==Dr(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function Lr(t){return 4===t.type&&t.value!==Rr}function Ur(t,e,n){return e===(4!==t.type||n?t.value:Rr)}function Vr(t,e,n){let r=4;const i=t.attrs||[],o=function(t){for(let e=0;e<t.length;e++)if(be(t[e]))return e;return t.length}(i);let s=!1;for(let u=0;u<e.length;u++){const a=e[u];if("number"!=typeof a){if(!s)if(4&r){if(r=2|1&r,""!==a&&!Ur(t,a,n)||""===a&&1===e.length){if(Fr(r))return!1;s=!0}}else{const c=8&r?a:e[++u];if(8&r&&null!==t.attrs){if(!Mr(t.attrs,c,n)){if(Fr(r))return!1;s=!0}continue}const l=Hr(8&r?"class":a,i,Lr(t),n);if(-1===l){if(Fr(r))return!1;s=!0;continue}if(""!==c){let t;t=l>o?"":i[l+1].toLowerCase();const e=8&r?t:null;if(e&&-1!==Dr(e,c,0)||2&r&&c!==t){if(Fr(r))return!1;s=!0}}}}else{if(!s&&!Fr(r)&&!Fr(a))return!1;if(s&&Fr(a))continue;s=!1,r=a|1&r}}return Fr(r)||s}function Fr(t){return 0==(1&t)}function Hr(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let n=!1;for(;i<e.length;){const r=e[i];if(r===t)return i;if(3===r||6===r)n=!0;else{if(1===r||2===r){let t=e[++i];for(;"string"==typeof t;)t=e[++i];continue}if(4===r)break;if(0===r){i+=4;continue}}i+=n?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function qr(t,e,n=!1){for(let r=0;r<e.length;r++)if(Vr(t,e[r],n))return!0;return!1}function zr(t,e){return t?":not("+e.trim()+")":e}function Br(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if("string"==typeof s)if(2&r){const e=t[++n];i+="["+s+(e.length>0?'="'+e+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""===i||Fr(s)||(e+=zr(o,i),i=""),r=s,o=o||!Fr(r);n++}return""!==i&&(e+=zr(o,i)),e}const Gr={};function $r(t){Qr(Ft(),Vt(),ue()+t,$t())}function Qr(t,e,n,r){if(!r)if(3==(3&e[2])){const r=t.preOrderCheckHooks;null!==r&&he(e,r,n)}else{const r=t.preOrderHooks;null!==r&&fe(e,r,0,n)}ae(n)}function Wr(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],o=n[r+1];if(-1!==o){const n=t.data[o];Xt(i),n.contentQueries(2,e[o],o)}}}function Yr(t,e,n,r,i,o,s,u,a,c){const l=e.blueprint.slice();return l[0]=i,l[2]=140|r,Rt(l),l[3]=l[15]=t,l[8]=n,l[10]=s||t&&t[10],l[11]=u||t&&t[11],l[12]=a||t&&t[12]||null,l[9]=c||t&&t[9]||null,l[6]=o,l[16]=2==e.type?t[16]:l,l}function Kr(t,e,n,r,i){let o=t.data[e];if(null===o)o=function(t,e,n,r,i){const o=zt(),s=Gt(),u=t.data[e]=function(t,e,n,r,i,o){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=u),null!==o&&(s?null==o.child&&null!==u.parent&&(o.child=u):null===o.next&&(o.next=u)),u}(t,e,n,r,i),Lt.lFrame.inI18n&&(o.flags|=64);else if(64&o.type){o.type=n,o.value=r,o.attrs=i;const t=function(){const t=Lt.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();o.injectorIndex=null===t?-1:t.injectorIndex}return Bt(o,!0),o}function Jr(t,e,n,r){if(0===n)return-1;const i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function Xr(t,e,n){ee(e);try{const r=t.viewQuery;null!==r&&xi(1,r,n);const i=t.template;null!==i&&ei(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Wr(t,e),t.staticViewQueries&&xi(2,t.viewQuery,n);const o=t.components;null!==o&&function(t,e){for(let n=0;n<e.length;n++)Oi(t,e[n])}(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),r}finally{e[2]&=-5,se()}}function Zr(t,e,n,r){const i=e[2];if(256==(256&i))return;ee(e);const o=$t();try{Rt(e),Lt.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&ei(t,e,n,2,r);const s=3==(3&i);if(!o)if(s){const n=t.preOrderCheckHooks;null!==n&&he(e,n,null)}else{const n=t.preOrderHooks;null!==n&&fe(e,n,0,null),de(e,0)}if(function(t){for(let e=fr(t);null!==e;e=dr(e)){if(!e[2])continue;const t=e[9];for(let e=0;e<t.length;e++){const n=t[e],r=n[3];0==(1024&n[2])&&Mt(r,1),n[2]|=1024}}}(e),function(t){for(let e=fr(t);null!==e;e=dr(e))for(let t=ct;t<e.length;t++){const n=e[t],r=n[1];Pt(n)&&Zr(r,n,r.template,n[8])}}(e),null!==t.contentQueries&&Wr(t,e),!o)if(s){const n=t.contentCheckHooks;null!==n&&he(e,n)}else{const n=t.contentHooks;null!==n&&fe(e,n,1),de(e,1)}!function(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let t=0;t<n.length;t++){const r=n[t];if(r<0)ae(~r);else{const i=r,o=n[++t],s=n[++t];Yt(o,i),s(2,e[i])}}}finally{ae(-1)}}(t,e);const u=t.components;null!==u&&function(t,e){for(let n=0;n<e.length;n++)wi(t,e[n])}(e,u);const a=t.viewQuery;if(null!==a&&xi(2,a,r),!o)if(s){const n=t.viewCheckHooks;null!==n&&he(e,n)}else{const n=t.viewHooks;null!==n&&fe(e,n,2),de(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),o||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,Mt(e[3],-1))}finally{se()}}function ti(t,e,n,r){const i=e[10],o=!$t(),s=Nt(e);try{o&&!s&&i.begin&&i.begin(),s&&Xr(t,e,r),Zr(t,e,n,r)}finally{o&&!s&&i.end&&i.end()}}function ei(t,e,n,r,i){const o=ue();try{ae(-1),2&r&&e.length>at&&Qr(t,e,at,$t()),n(r,i)}finally{ae(o)}}function ni(t,e,n){Ut()&&(function(t,e,n,r){const i=n.directiveStart,o=n.directiveEnd;t.firstCreatePass||je(n,e),sr(r,e);const s=n.initialInputs;for(let u=i;u<o;u++){const r=t.data[u],o=gt(r);o&&vi(e,n,r);const a=He(e,t,u,n);sr(a,e),null!==s&&yi(0,u-i,a,r,0,s),o&&(At(n.index,e)[8]=a)}}(t,e,n,Ct(n,e)),128==(128&n.flags)&&function(t,e,n){const r=n.directiveStart,i=n.directiveEnd,o=n.index,s=Lt.lFrame.currentDirectiveIndex;try{ae(o);for(let n=r;n<i;n++){const r=t.data[n],i=e[n];Kt(n),null===r.hostBindings&&0===r.hostVars&&null===r.hostAttrs||hi(r,i)}}finally{ae(-1),Kt(s)}}(t,e,n))}function ri(t,e,n=Ct){const r=e.localNames;if(null!==r){let i=e.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],u=-1===s?n(e,t):t[s];t[i++]=u}}}function ii(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=oi(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function oi(t,e,n,r,i,o,s,u,a,c){const l=at+r,h=l+i,f=function(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:Gr);return n}(l,h),d="function"==typeof c?c():c;return f[1]={type:t,blueprint:f,template:n,queries:null,viewQuery:u,declTNode:e,data:f.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:a,consts:d,incompleteFirstPass:!1}}function si(t,e,n,r){const i=ji(e);null===n?i.push(r):(i.push(n),t.firstCreatePass&&Ai(t).push(r,i.length-1))}function ui(t,e,n){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function ai(t,e,n,r,i,o,s,u){const a=Ct(e,n);let c,l=e.inputs;var h;!u&&null!=l&&(c=l[r])?(Ni(t,n,c,r,i),dt(e)&&function(t,e){const n=At(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3&e.type&&(r="class"===(h=r)?"className":"for"===h?"htmlFor":"formaction"===h?"formAction":"innerHtml"===h?"innerHTML":"readonly"===h?"readOnly":"tabindex"===h?"tabIndex":h,i=null!=s?s(i,e.value||"",r):i,Tt(o)?o.setProperty(a,r,i):we(r)||(a.setProperty?a.setProperty(r,i):a[r]=i))}function ci(t,e,n,r){let i=!1;if(Ut()){const o=function(t,e,n){const r=t.directiveRegistry;let i=null;if(r)for(let o=0;o<r.length;o++){const s=r[o];qr(n,s.selectors,!1)&&(i||(i=[]),Pe(je(n,e),t,s.type),gt(s)?(fi(t,n),i.unshift(s)):i.push(s))}return i}(t,e,n),s=null===r?null:{"":-1};if(null!==o){i=!0,pi(n,t.data.length,o.length);for(let t=0;t<o.length;t++){const e=o[t];e.providersResolver&&e.providersResolver(e)}let r=!1,u=!1,a=Jr(t,e,o.length,null);for(let i=0;i<o.length;i++){const c=o[i];n.mergedAttrs=_e(n.mergedAttrs,c.hostAttrs),gi(t,n,e,a,c),di(a,c,s),null!==c.contentQueries&&(n.flags|=8),null===c.hostBindings&&null===c.hostAttrs&&0===c.hostVars||(n.flags|=128);const l=c.type.prototype;!r&&(l.ngOnChanges||l.ngOnInit||l.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),r=!0),u||!l.ngOnChanges&&!l.ngDoCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),u=!0),a++}!function(t,e){const n=e.directiveEnd,r=t.data,i=e.attrs,o=[];let s=null,u=null;for(let a=e.directiveStart;a<n;a++){const t=r[a],n=t.inputs,c=null===i||Lr(e)?null:mi(n,i);o.push(c),s=ui(n,a,s),u=ui(t.outputs,a,u)}null!==s&&(s.hasOwnProperty("class")&&(e.flags|=16),s.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=s,e.outputs=u}(t,n)}s&&function(t,e,n){if(e){const r=t.localNames=[];for(let t=0;t<e.length;t+=2){const i=n[e[t+1]];if(null==i)throw new v("301",`Export of name '${e[t+1]}' not found!`);r.push(e[t],i)}}}(n,r,s)}return n.mergedAttrs=_e(n.mergedAttrs,n.attrs),i}function li(t,e,n,r,i,o){const s=o.hostBindings;if(s){let n=t.hostBindingOpCodes;null===n&&(n=t.hostBindingOpCodes=[]);const o=~e.index;(function(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(n)!=o&&n.push(o),n.push(r,i,s)}}function hi(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function fi(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function di(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;gt(e)&&(n[""]=t)}}function pi(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function gi(t,e,n,r,i){t.data[r]=i;const o=i.factory||(i.factory=vt(i.type)),s=new ye(o,gt(i),null);t.blueprint[r]=s,n[r]=s,li(t,e,0,r,Jr(t,n,i.hostVars,Gr),i)}function vi(t,e,n){const r=Ct(e,t),i=ii(n),o=t[10],s=Ei(t,Yr(t,i,null,n.onPush?64:16,r,e,o,o.createRenderer(r,n),null,null));t[e.index]=s}function yi(t,e,n,r,i,o){const s=o[e];if(null!==s){const t=r.setInput;for(let e=0;e<s.length;){const i=s[e++],o=s[e++],u=s[e++];null!==t?r.setInput(n,u,i,o):n[o]=u}}}function mi(t,e){let n=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function bi(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function wi(t,e){const n=At(e,t);if(Pt(n)){const t=n[1];80&n[2]?Zr(t,n,t.template,n[8]):n[5]>0&&_i(n)}}function _i(t){for(let n=fr(t);null!==n;n=dr(n))for(let t=ct;t<n.length;t++){const e=n[t];if(1024&e[2]){const t=e[1];Zr(t,e,t.template,e[8])}else e[5]>0&&_i(e)}const e=t[1].components;if(null!==e)for(let n=0;n<e.length;n++){const r=At(e[n],t);Pt(r)&&r[5]>0&&_i(r)}}function Oi(t,e){const n=At(e,t),r=n[1];!function(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n),Xr(r,n,n[8])}function Ei(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function Ii(t){for(;t;){t[2]|=64;const e=hr(t);if(0!=(512&t[2])&&!e)return t;t=e}return null}function Ti(t,e,n){const r=e[10];r.begin&&r.begin();try{Zr(t,e,t.template,n)}catch(i){throw ki(e,i),i}finally{r.end&&r.end()}}function Si(t){!function(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],r=kt(n),i=r[1];ti(i,r,i.template,n)}}(t[8])}function xi(t,e,n){Xt(0),e(t,n)}const Ci=(()=>Promise.resolve(null))();function ji(t){return t[7]||(t[7]=[])}function Ai(t){return t.cleanup||(t.cleanup=[])}function ki(t,e){const n=t[9],r=n?n.get(or,null):null;r&&r.handleError(e)}function Ni(t,e,n,r,i){for(let o=0;o<n.length;){const s=n[o++],u=n[o++],a=e[s],c=t.data[s];null!==c.setInput?c.setInput(a,i,r,u):a[u]=i}}function Pi(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const t=e[s];"number"==typeof t?o=t:1==o?i=f(i,t):2==o&&(r=f(r,t+": "+e[++s]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}const Di=new We("INJECTOR",-1);class Ri{get(t,e=en){if(e===en){const e=new Error(`NullInjectorError: No provider for ${h(t)}!`);throw e.name="NullInjectorError",e}return e}}const Mi=new We("Set Injector scope."),Li={},Ui={},Vi=[];let Fi;function Hi(){return void 0===Fi&&(Fi=new Ri),Fi}function qi(t,e=null,n=null,r){return new zi(t,n,e||Hi(),r)}class zi{constructor(t,e,n,r=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const i=[];e&&Xe(e,n=>this.processProvider(n,t,e)),Xe([t],t=>this.processInjectorType(t,[],i)),this.records.set(Di,Gi(void 0,this));const o=this.records.get(Mi);this.scope=null!=o?o.value:null,this.source=r||("object"==typeof t?null:h(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=en,n=j.Default){this.assertNotDestroyed();const r=un(this);try{if(!(n&j.SkipSelf)){let e=this.records.get(t);if(void 0===e){const n=("function"==typeof(i=t)||"object"==typeof i&&i instanceof We)&&O(t);e=n&&this.injectableDefInScope(n)?Gi(Bi(t),Li):null,this.records.set(t,e)}if(null!=e)return this.hydrate(t,e)}return(n&j.Self?Hi():this.parent).get(t,e=n&j.Optional&&e===en?null:e)}catch(o){if("NullInjectorError"===o.name){if((o.ngTempTokenPath=o.ngTempTokenPath||[]).unshift(h(t)),r)throw o;return function(t,e,n,r){const i=t.ngTempTokenPath;throw e[rn]&&i.unshift(e[rn]),t.message=function(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let i=h(e);if(Array.isArray(e))i=e.map(h).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let r=e[n];t.push(n+":"+("string"==typeof r?JSON.stringify(r):h(r)))}i=`{${t.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(nn,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t.ngTempTokenPath=null,t}(o,t,"R3InjectorError",this.source)}throw o}finally{un(r)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((e,n)=>t.push(h(n))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,n){if(!(t=g(t)))return!1;let r=I(t);const i=null==r&&t.ngModule||void 0,o=void 0===i?t:i,s=-1!==n.indexOf(o);if(void 0!==i&&(r=I(i)),null==r)return!1;if(null!=r.imports&&!s){let t;n.push(o);try{Xe(r.imports,r=>{this.processInjectorType(r,e,n)&&(void 0===t&&(t=[]),t.push(r))})}finally{}if(void 0!==t)for(let e=0;e<t.length;e++){const{ngModule:n,providers:r}=t[e];Xe(r,t=>this.processProvider(t,n,r||Vi))}}this.injectorDefTypes.add(o);const u=vt(o)||(()=>new o);this.records.set(o,Gi(u,Li));const a=r.providers;if(null!=a&&!s){const e=t;Xe(a,t=>this.processProvider(t,e,a))}return void 0!==i&&void 0!==t.providers}processProvider(t,e,n){let r=Qi(t=g(t))?t:g(t&&t.provide);const i=function(t,e,n){return $i(t)?Gi(void 0,t.useValue):Gi(function(t,e,n){let r;if(Qi(t)){const e=g(t);return vt(e)||Bi(e)}if($i(t))r=()=>g(t.useValue);else if((i=t)&&i.useFactory)r=()=>t.useFactory(...ln(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))r=()=>cn(g(t.useExisting));else{const e=g(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return vt(e)||Bi(e);r=()=>new e(...ln(t.deps))}var i;return r}(t),Li)}(t);if(Qi(t)||!0!==t.multi)this.records.get(r);else{let e=this.records.get(r);e||(e=Gi(void 0,Li,!0),e.factory=()=>ln(e.multi),this.records.set(r,e)),r=t,e.multi.push(t)}this.records.set(r,i)}hydrate(t,e){var n;return e.value===Li&&(e.value=Ui,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||t.providedIn===this.scope:this.injectorDefTypes.has(t.providedIn))}}function Bi(t){const e=O(t),n=null!==e?e.factory:vt(t);if(null!==n)return n;if(t instanceof We)throw new Error(`Token ${h(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const n=function(t,e){const n=[];for(let r=0;r<t;r++)n.push("?");return n}(e);throw new Error(`Can't resolve all parameters for ${h(t)}: (${n.join(", ")}).`)}const n=function(t){const e=t&&(t[T]||t[x]);if(e){const n=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function Gi(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function $i(t){return null!==t&&"object"==typeof t&&on in t}function Qi(t){return"function"==typeof t}const Wi=function(t,e,n){return function(t,e=null,n=null,r){const i=qi(t,e,n,r);return i._resolveInjectorDefTypes(),i}({name:n},e,t,n)};let Yi=(()=>{class t{static create(t,e){return Array.isArray(t)?Wi(t,e,""):Wi(t.providers,t.parent,t.name||"")}}return t.THROW_IF_NOT_FOUND=en,t.NULL=new Ri,t.\u0275prov=w({token:t,providedIn:"any",factory:()=>cn(Di)}),t.__NG_ELEMENT_ID__=-1,t})();function Ki(t,e){le(kt(t)[1],qt())}let Ji=null;function Xi(){if(!Ji){const t=F.Symbol;if(t&&t.iterator)Ji=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(Ji=n)}}}return Ji}function Zi(t){return!!to(t)&&(Array.isArray(t)||!(t instanceof Map)&&Xi()in t)}function to(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function eo(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function no(t,e,n,r){const i=Vt();return eo(i,Wt(),e)&&(Ft(),function(t,e,n,r,i,o){const s=Ct(t,e);!function(t,e,n,r,i,o,s){if(null==o)Tt(t)?t.removeAttribute(e,i,n):e.removeAttribute(i);else{const u=null==s?y(o):s(o,r||"",i);Tt(t)?t.setAttribute(e,i,u,n):n?e.setAttributeNS(n,i,u):e.setAttribute(i,u)}}(e[11],s,o,t.value,n,r,i)}(ce(),i,t,e,n,r)),no}function ro(t,e,n,r,i,o,s,u){const a=Vt(),c=Ft(),l=t+at,h=c.firstCreatePass?function(t,e,n,r,i,o,s,u,a){const c=e.consts,l=Kr(e,t,4,s||null,Dt(c,u));ci(e,n,l,Dt(c,a)),le(e,l);const h=l.tViews=oi(2,l,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,l),h.queries=e.queries.embeddedTView(l)),l}(l,c,a,e,n,r,i,o,s):c.data[l];Bt(h,!1);const f=a[11].createComment("");Tr(c,a,f,h),sr(f,a),Ei(a,a[l]=bi(f,a,f,h)),pt(h)&&ni(c,a,h),null!=s&&ri(a,h,u)}function io(t){return function(t,e){return t[e]}(Lt.lFrame.contextLView,at+t)}function oo(t,e=j.Default){const n=Vt();return null===n?cn(t,e):Me(qt(),n,g(t),e)}function so(t,e,n){const r=Vt();return eo(r,Wt(),e)&&ai(Ft(),ce(),r,t,e,r[11],n,!1),so}function uo(t,e,n,r,i){const o=i?"class":"style";Ni(t,n,e.inputs[o],o,r)}function ao(t,e,n,r){const i=Vt(),o=Ft(),s=at+t,u=i[11],a=i[s]=vr(u,e,Lt.lFrame.currentNamespace),c=o.firstCreatePass?function(t,e,n,r,i,o,s){const u=e.consts,a=Kr(e,t,2,i,Dt(u,o));return ci(e,n,a,Dt(u,s)),null!==a.attrs&&Pi(a,a.attrs,!1),null!==a.mergedAttrs&&Pi(a,a.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,a),a}(s,o,i,0,e,n,r):o.data[s];Bt(c,!0);const l=c.mergedAttrs;null!==l&&me(u,a,l);const h=c.classes;null!==h&&Pr(u,a,h);const f=c.styles;null!==f&&Nr(u,a,f),64!=(64&c.flags)&&Tr(o,i,a,c),0===Lt.lFrame.elementDepthCount&&sr(a,i),Lt.lFrame.elementDepthCount++,pt(c)&&(ni(o,i,c),function(t,e,n){if(ft(e)){const r=e.directiveEnd;for(let i=e.directiveStart;i<r;i++){const e=t.data[i];e.contentQueries&&e.contentQueries(1,n[i],i)}}}(o,c,i)),null!==r&&ri(i,c)}function co(){let t=qt();Gt()?Lt.lFrame.isParent=!1:(t=t.parent,Bt(t,!1));const e=t;Lt.lFrame.elementDepthCount--;const n=Ft();n.firstCreatePass&&(le(n,t),ft(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&uo(n,e,Vt(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&uo(n,e,Vt(),e.stylesWithoutHost,!1)}function lo(t,e,n,r){ao(t,e,n,r),co()}function ho(){return Vt()}function fo(t){return!!t&&"function"==typeof t.then}function po(t){return!!t&&"function"==typeof t.subscribe}const go=po;function vo(t,e,n=!1,r){const i=Vt(),o=Ft(),s=qt();return function(t,e,n,r,i,o,s=!1,u){const a=pt(r),c=t.firstCreatePass&&Ai(t),l=ji(e);let h=!0;if(3&r.type){const f=Ct(r,e),d=u?u(f):H,p=d.target||f,g=l.length,v=u?t=>u(xt(t[r.index])).target:r.index;if(Tt(n)){let s=null;if(!u&&a&&(s=function(t,e,n,r){const i=t.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const t=i[o];if(t===n&&i[o+1]===r){const t=e[7],n=i[o+2];return t.length>n?t[n]:null}"string"==typeof t&&(o+=2)}return null}(t,e,i,r.index)),null!==s)(s.__ngLastListenerFn__||s).__ngNextListenerFn__=o,s.__ngLastListenerFn__=o,h=!1;else{o=mo(r,e,o,!1);const t=n.listen(d.name||p,i,o);l.push(o,t),c&&c.push(i,v,g,g+1)}}else o=mo(r,e,o,!0),p.addEventListener(i,o,s),l.push(o),c&&c.push(i,v,g,s)}else o=mo(r,e,o,!1);const f=r.outputs;let d;if(h&&null!==f&&(d=f[i])){const t=d.length;if(t)for(let n=0;n<t;n+=2){const t=e[d[n]][d[n+1]].subscribe(o),s=l.length;l.push(o,t),c&&c.push(i,r.index,s,-(s+1))}}}(o,i,i[11],s,t,e,n,r),vo}function yo(t,e,n){try{return!1!==e(n)}catch(r){return ki(t,r),!1}}function mo(t,e,n,r){return function i(o){if(o===Function)return n;const s=2&t.flags?At(t.index,e):e;0==(32&e[2])&&Ii(s);let u=yo(e,n,o),a=i.__ngNextListenerFn__;for(;a;)u=yo(e,a,o)&&u,a=a.__ngNextListenerFn__;return r&&!1===u&&(o.preventDefault(),o.returnValue=!1),u}}function bo(t,e=""){const n=Vt(),r=Ft(),i=t+at,o=r.firstCreatePass?Kr(r,i,1,e,null):r.data[i],s=n[i]=function(t,e){return Tt(t)?t.createText(e):t.createTextNode(e)}(n[11],e);Tr(r,n,s,o),Bt(o,!1)}function wo(t){return _o("",t,""),wo}function _o(t,e,n){const r=Vt(),i=function(t,e,n,r){return eo(t,Wt(),n)?e+y(n)+r:Gr}(r,t,e,n);return i!==Gr&&function(t,e,n){const r=function(t,e){return xt(e[t])}(e,t);!function(t,e,n){Tt(t)?t.setValue(e,n):e.textContent=n}(t[11],r,n)}(r,ue(),i),_o}function Oo(t,e,n){const r=Vt();return eo(r,Wt(),e)&&ai(Ft(),ce(),r,t,e,r[11],n,!0),Oo}const Eo=void 0;var Io=["en",[["a","p"],["AM","PM"],Eo],[["AM","PM"],Eo,Eo],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Eo,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Eo,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Eo,"{1} 'at' {0}",Eo],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let To={};function So(t,e,n){"string"!=typeof e&&(n=e,e=t[ko.LocaleId]),e=e.toLowerCase().replace(/_/g,"-"),To[e]=t,n&&(To[e][ko.ExtraData]=n)}function xo(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=Ao(e);if(n)return n;const r=e.split("-")[0];if(n=Ao(r),n)return n;if("en"===r)return Io;throw new Error(`Missing locale data for the locale "${t}".`)}function Co(t){return xo(t)[ko.CurrencyCode]||null}function jo(t){return xo(t)[ko.PluralCase]}function Ao(t){return t in To||(To[t]=F.ng&&F.ng.common&&F.ng.common.locales&&F.ng.common.locales[t]),To[t]}var ko=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}({});const No="en-US";let Po=No;function Do(t){var e,n;n="Expected localeId to be defined",null==(e=t)&&function(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t} [Expected=> null != ${e} <=Actual]`)}(n,e),"string"==typeof t&&(Po=t.toLowerCase().replace(/_/g,"-"))}class Ro{}class Mo{resolveComponentFactory(t){throw function(t){const e=Error(`No component factory found for ${h(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(t)}}let Lo=(()=>{class t{}return t.NULL=new Mo,t})();function Uo(...t){}function Vo(t,e){return new Ho(Ct(t,e))}const Fo=function(){return Vo(qt(),Vt())};let Ho=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=Fo,t})();function qo(t){return t instanceof Ho?t.nativeElement:t}class zo{}let Bo=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Go(),t})();const Go=function(){const t=Vt(),e=At(qt().index,t);return function(t){return t[11]}(lt(e)?e:t)};let $o=(()=>{class t{}return t.\u0275prov=w({token:t,providedIn:"root",factory:()=>null}),t})();class Qo{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const Wo=new Qo("11.2.6");class Yo{constructor(){}supports(t){return Zi(t)}create(t){return new Jo(t)}}const Ko=(t,e)=>e;class Jo{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||Ko}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,r=0,i=null;for(;e||n;){const o=!n||e&&e.currentIndex<es(n,r,i)?e:n,s=es(o,r,i),u=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(e=e._next,null==o.previousIndex)r++;else{i||(i=[]);const t=s-r,e=u-r;if(t!=e){for(let n=0;n<t;n++){const r=n<i.length?i[n]:i[n]=0,o=r+n;e<=o&&o<t&&(i[n]=r+1)}i[o.previousIndex]=e-t}}s!==u&&t(o,s,u)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!Zi(t))throw new Error(`Error trying to diff '${h(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,r,i=this._itHead,o=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)n=t[e],r=this._trackByFn(e,n),null!==i&&Object.is(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,n,r,e)),Object.is(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,e),o=!0),i=i._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Xi()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(t,t=>{r=this._trackByFn(e,t),null!==i&&Object.is(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,t,r,e)),Object.is(i.item,t)||this._addIdentityChange(i,t)):(i=this._mismatch(i,t,r,e),o=!0),i=i._next,e++}),this.length=e;return this._truncate(i),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,r){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):t=this._addAfter(new Xo(e,n),i,r),t}_verifyReinsertion(t,e,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new ts),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new ts),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class Xo{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Zo{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class ts{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new Zo,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function es(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class ns{constructor(){}supports(t){return t instanceof Map||to(t)}create(){return new rs}}class rs{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||to(t)))throw new Error(`Error trying to diff '${h(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const r=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,r)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new is(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class is{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function os(){return new ss([new Yo])}let ss=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>t.create(e,n||os()),deps:[[t,new pn,new dn]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}return t.\u0275prov=w({token:t,providedIn:"root",factory:os}),t})();function us(){return new as([new ns])}let as=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>t.create(e,n||us()),deps:[[t,new pn,new dn]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.\u0275prov=w({token:t,providedIn:"root",factory:us}),t})();function cs(t,e,n,r,i=!1){for(;null!==n;){const o=e[n.index];if(null!==o&&r.push(xt(o)),ht(o))for(let t=ct;t<o.length;t++){const e=o[t],n=e[1].firstChild;null!==n&&cs(e[1],e,n,r)}const s=n.type;if(8&s)cs(t,e,n.child,r);else if(32&s){const t=lr(n,e);let i;for(;i=t();)r.push(i)}else if(16&s){const t=xr(e,n);if(Array.isArray(t))r.push(...t);else{const n=hr(e[16]);cs(n[1],n,t,r,!0)}}n=i?n.projectionNext:n.next}return r}class ls{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,e=t[1];return cs(e,t,e.firstChild,[])}get context(){return this._lView[8]}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(ht(t)){const e=t[8],n=e?e.indexOf(this):-1;n>-1&&(mr(t,n),tn(e,n))}this._attachedToViewContainer=!1}br(this._lView[1],this._lView)}onDestroy(t){si(this._lView[1],this._lView,null,t)}markForCheck(){Ii(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Ti(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,n){Qt(!0);try{Ti(t,e,n)}finally{Qt(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var t;this._appRef=null,Ar(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class hs extends ls{constructor(t){super(t),this._view=t}detectChanges(){Si(this._view)}checkNoChanges(){!function(t){Qt(!0);try{Si(t)}finally{Qt(!1)}}(this._view)}get context(){return null}}const fs=ps;let ds=(()=>{class t{}return t.__NG_ELEMENT_ID__=fs,t.__ChangeDetectorRef__=!0,t})();function ps(t=!1){return function(t,e,n){if(!n&&dt(t)){const n=At(t.index,e);return new ls(n,n)}return 47&t.type?new ls(e[16],e):null}(qt(),Vt(),t)}const gs=[new ns],vs=new ss([new Yo]),ys=new as(gs),ms=function(){return Os(qt(),Vt())};let bs=(()=>{class t{}return t.__NG_ELEMENT_ID__=ms,t})();const ws=bs,_s=class extends ws{constructor(t,e,n){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=n}createEmbeddedView(t){const e=this._declarationTContainer.tViews,n=Yr(this._declarationLView,e,t,16,null,e.declTNode,null,null,null,null);n[17]=this._declarationLView[this._declarationTContainer.index];const r=this._declarationLView[19];return null!==r&&(n[19]=r.createEmbeddedView(e)),Xr(e,n,t),new ls(n)}};function Os(t,e){return 4&t.type?new _s(e,t,Vo(t,e)):null}class Es{}class Is{}const Ts=function(){return ks(qt(),Vt())};let Ss=(()=>{class t{}return t.__NG_ELEMENT_ID__=Ts,t})();const xs=Ss,Cs=class extends xs{constructor(t,e,n){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=n}get element(){return Vo(this._hostTNode,this._hostLView)}get injector(){return new Be(this._hostTNode,this._hostLView)}get parentInjector(){const t=Ne(this._hostTNode,this._hostLView);if(Ee(t)){const e=Te(t,this._hostLView),n=Ie(t);return new Be(e[1].data[n+8],e)}return new Be(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=js(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-ct}createEmbeddedView(t,e,n){const r=t.createEmbeddedView(e||{});return this.insert(r,n),r}createComponent(t,e,n,r,i){const o=n||this.parentInjector;if(!i&&null==t.ngModule&&o){const t=o.get(Es,null);t&&(i=t)}const s=t.create(o,r,void 0,i);return this.insert(s.hostView,e),s}insert(t,e){const n=t._lView,r=n[1];if(ht(n[3])){const e=this.indexOf(t);if(-1!==e)this.detach(e);else{const e=n[3],r=new Cs(e,e[6],e[3]);r.detach(r.indexOf(t))}}const i=this._adjustIndex(e),o=this._lContainer;!function(t,e,n,r){const i=ct+r,o=n.length;r>0&&(n[i-1][4]=e),r<o-ct?(e[4]=n[i],Ze(n,ct+r,e)):(n.push(e),e[4]=null),e[3]=n;const s=e[17];null!==s&&n!==s&&function(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(s,e);const u=e[19];null!==u&&u.insertView(t),e[2]|=128}(r,n,o,i);const s=Cr(i,o),u=n[11],a=Ir(u,o[7]);return null!==a&&function(t,e,n,r,i,o){r[0]=i,r[6]=e,Ar(t,r,n,1,i,o)}(r,o[6],u,n,a,s),t.attachToViewContainerRef(),Ze(As(o),i,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=js(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),n=mr(this._lContainer,e);n&&(tn(As(this._lContainer),e),br(n[1],n))}detach(t){const e=this._adjustIndex(t,-1),n=mr(this._lContainer,e);return n&&null!=tn(As(this._lContainer),e)?new ls(n):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}};function js(t){return t[8]}function As(t){return t[8]||(t[8]=[])}function ks(t,e){let n;const r=e[t.index];if(ht(r))n=r;else{let i;if(8&t.type)i=xt(r);else{const n=e[11];i=n.createComment("");const r=Ct(t,e);_r(n,Ir(n,r),i,function(t,e){return Tt(t)?t.nextSibling(e):e.nextSibling}(n,r),!1)}e[t.index]=n=bi(r,e,i,t),Ei(e,n)}return new Cs(n,t,e)}const Ns={};class Ps extends Lo{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=st(t);return new Ms(e,this.ngModule)}}function Ds(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const Rs=new We("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>ur});class Ms extends Ro{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=t.selectors.map(Br).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return Ds(this.componentDef.inputs)}get outputs(){return Ds(this.componentDef.outputs)}create(t,e,n,r){const i=(r=r||this.ngModule)?function(t,e){return{get:(n,r,i)=>{const o=t.get(n,Ns,i);return o!==Ns||r===Ns?o:e.get(n,r,i)}}}(t,r.injector):t,o=i.get(zo,St),s=i.get($o,null),u=o.createRenderer(null,this.componentDef),a=this.componentDef.selectors[0][0]||"div",c=n?function(t,e,n){if(Tt(t))return t.selectRootElement(e,n===R.ShadowDom);let r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(u,n,this.componentDef.encapsulation):vr(o.createRenderer(null,this.componentDef),a,function(t){const e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(a)),l=this.componentDef.onPush?576:528,h={components:[],scheduler:ur,clean:Ci,playerHandler:null,flags:0},f=oi(0,null,null,1,0,null,null,null,null,null),d=Yr(null,f,h,l,null,null,o,u,s,i);let p,g;ee(d);try{const t=function(t,e,n,r,i,o){const s=n[1];n[20]=t;const u=Kr(s,20,2,"#host",null),a=u.mergedAttrs=e.hostAttrs;null!==a&&(Pi(u,a,!0),null!==t&&(me(i,t,a),null!==u.classes&&Pr(i,t,u.classes),null!==u.styles&&Nr(i,t,u.styles)));const c=r.createRenderer(t,e),l=Yr(n,ii(e),null,e.onPush?64:16,n[20],u,r,c,null,null);return s.firstCreatePass&&(Pe(je(u,n),s,e.type),fi(s,u),pi(u,n.length,1)),Ei(n,l),n[20]=l}(c,this.componentDef,d,o,u);if(c)if(n)me(u,c,["ng-version",Wo.full]);else{const{attrs:t,classes:e}=function(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let o=t[r];if("string"==typeof o)2===i?""!==o&&e.push(o,t[++r]):8===i&&n.push(o);else{if(!Fr(i))break;i=o}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);t&&me(u,c,t),e&&e.length>0&&Pr(u,c,e.join(" "))}if(g=jt(f,at),void 0!==e){const t=g.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const r=e[n];t.push(null!=r?Array.from(r):null)}}p=function(t,e,n,r,i){const o=n[1],s=function(t,e,n){const r=qt();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),gi(t,r,e,Jr(t,e,1,null),n));const i=He(e,t,r.directiveStart,r);sr(i,e);const o=Ct(r,e);return o&&sr(o,e),i}(o,n,e);if(r.components.push(s),t[8]=s,i&&i.forEach(t=>t(s,e)),e.contentQueries){const t=qt();e.contentQueries(1,s,t.directiveStart)}const u=qt();return!o.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(ae(u.index),li(n[1],u,0,u.directiveStart,u.directiveEnd,e),hi(e,s)),s}(t,this.componentDef,d,h,[Ki]),Xr(f,d,null)}finally{se()}return new Ls(this.componentType,p,Vo(g,d),d,g)}}class Ls extends class{}{constructor(t,e,n,r,i){super(),this.location=n,this._rootLView=r,this._tNode=i,this.instance=e,this.hostView=this.changeDetectorRef=new hs(r),this.componentType=t}get injector(){return new Be(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}const Us=new Map;class Vs extends Es{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Ps(this);const n=ut(t),r=t[Q]||null;r&&Do(r),this._bootstrapComponents=ar(n.bootstrap),this._r3Injector=qi(t,e,[{provide:Es,useValue:this},{provide:Lo,useValue:this.componentFactoryResolver}],h(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=Yi.THROW_IF_NOT_FOUND,n=j.Default){return t===Yi||t===Es||t===Di?this:this._r3Injector.get(t,e,n)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class Fs extends Is{constructor(t){super(),this.moduleType=t,null!==ut(t)&&function(t){const e=new Set;!function t(n){const r=ut(n,!0),i=r.id;null!==i&&(function(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${h(e)} vs ${h(e.name)}`)}(i,Us.get(i),n),Us.set(i,n));const o=ar(r.imports);for(const s of o)e.has(s)||(e.add(s),t(s))}(t)}(t)}create(t){return new Vs(this.moduleType,t)}}const Hs=class extends r.a{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){let r,o=t=>null,s=()=>null;t&&"object"==typeof t?(r=this.__isAsync?e=>{setTimeout(()=>t.next(e))}:e=>{t.next(e)},t.error&&(o=this.__isAsync?e=>{setTimeout(()=>t.error(e))}:e=>{t.error(e)}),t.complete&&(s=this.__isAsync?()=>{setTimeout(()=>t.complete())}:()=>{t.complete()})):(r=this.__isAsync?e=>{setTimeout(()=>t(e))}:e=>{t(e)},e&&(o=this.__isAsync?t=>{setTimeout(()=>e(t))}:t=>{e(t)}),n&&(s=this.__isAsync?()=>{setTimeout(()=>n())}:()=>{n()}));const u=super.subscribe(r,o,s);return t instanceof i.a&&t.add(u),u}};function qs(){return this._results[Xi()]()}class zs{constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=Xi(),n=zs.prototype;n[e]||(n[e]=qs)}get changes(){return this._changes||(this._changes=new Hs)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){const n=this;n.dirty=!1;const r=Je(t);(this._changesDetected=!function(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],o=e[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}(n._results,r,e))&&(n._results=r,n.length=r.length,n.last=r[this.length-1],n.first=r[0])}notifyOnChanges(){!this._changes||!this._changesDetected&&this._emitDistinctChangesOnly||this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}class Bs{constructor(t){this.queryList=t,this.matches=null}clone(){return new Bs(this.queryList)}setDirty(){this.queryList.setDirty()}}class Gs{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const n=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let t=0;t<n;t++){const n=e.getByIndex(t);r.push(this.queries[n.indexInDeclarationView].clone())}return new Gs(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==nu(t,e).matches&&this.queries[e].setDirty()}}class $s{constructor(t,e,n=null){this.predicate=t,this.flags=e,this.read=n}}class Qs{constructor(t=[]){this.queries=t}elementStart(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let n=0;n<this.length;n++){const r=null!==e?e.length:0,i=this.getByIndex(n).embeddedTView(t,r);i&&(i.indexInDeclarationView=n,null!==e?e.push(i):e=[i])}return null!==e?new Qs(e):null}template(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class Ws{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new Ws(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let n=t.parent;for(;null!==n&&8&n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const n=this.metadata.predicate;if(Array.isArray(n))for(let r=0;r<n.length;r++){const i=n[r];this.matchTNodeWithReadOption(t,e,Ys(e,i)),this.matchTNodeWithReadOption(t,e,Fe(e,t,i,!1,!1))}else n===bs?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,Fe(e,t,n,!1,!1))}matchTNodeWithReadOption(t,e,n){if(null!==n){const r=this.metadata.read;if(null!==r)if(r===Ho||r===Ss||r===bs&&4&e.type)this.addMatch(e.index,-2);else{const n=Fe(e,t,r,!1,!1);null!==n&&this.addMatch(e.index,n)}else this.addMatch(e.index,n)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function Ys(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function Ks(t,e,n,r){return-1===n?function(t,e){return 11&t.type?Vo(t,e):4&t.type?Os(t,e):null}(e,t):-2===n?function(t,e,n){return n===Ho?Vo(e,t):n===bs?Os(e,t):n===Ss?ks(e,t):void 0}(t,e,r):He(t,t[1],n,e)}function Js(t,e,n,r){const i=e[19].queries[r];if(null===i.matches){const r=t.data,o=n.matches,s=[];for(let t=0;t<o.length;t+=2){const i=o[t];s.push(i<0?null:Ks(e,r[i],o[t+1],n.metadata.read))}i.matches=s}return i.matches}function Xs(t,e,n,r){const i=t.queries.getByIndex(n),o=i.matches;if(null!==o){const s=Js(t,e,i,n);for(let t=0;t<o.length;t+=2){const n=o[t];if(n>0)r.push(s[t/2]);else{const i=o[t+1],s=e[-n];for(let t=ct;t<s.length;t++){const e=s[t];e[17]===e[3]&&Xs(e[1],e,i,r)}if(null!==s[9]){const t=s[9];for(let e=0;e<t.length;e++){const n=t[e];Xs(n[1],n,i,r)}}}}}return r}function Zs(t){const e=Vt(),n=Ft(),r=Jt();Xt(r+1);const i=nu(n,r);if(t.dirty&&Nt(e)===(2==(2&i.metadata.flags))){if(null===i.matches)t.reset([]);else{const o=i.crossesNgTemplate?Xs(n,e,r,[]):Js(n,e,i,r);t.reset(o,qo),t.notifyOnChanges()}return!0}return!1}function tu(t,e,n,r){const i=Ft();if(i.firstCreatePass){const o=qt();(function(t,e,n){null===t.queries&&(t.queries=new Qs),t.queries.track(new Ws(e,n))})(i,new $s(e,n,r),o.index),function(t,e){const n=t.contentQueries||(t.contentQueries=[]);e!==(n.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(i,t),2==(2&n)&&(i.staticContentQueries=!0)}!function(t,e,n){const r=new zs(4==(4&n));si(t,e,r,r.destroy),null===e[19]&&(e[19]=new Gs),e[19].queries.push(new Bs(r))}(i,Vt(),n)}function eu(){return t=Vt(),e=Jt(),t[19].queries[e].queryList;var t,e}function nu(t,e){return t.queries.getByIndex(e)}function ru(t=j.Default){const e=ps(!0);if(null!=e||t&j.Optional)return e;b("ChangeDetectorRef")}const iu=new We("Application Initializer");let ou=(()=>{class t{constructor(t){this.appInits=t,this.resolve=Uo,this.reject=Uo,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();fo(e)&&t.push(e)}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(cn(iu,8))},t.\u0275prov=w({token:t,factory:t.\u0275fac}),t})();const su=new We("AppId"),uu={provide:su,useFactory:function(){return`${au()}${au()}${au()}`},deps:[]};function au(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const cu=new We("Platform Initializer"),lu=new We("Platform ID"),hu=new We("appBootstrapListener");let fu=(()=>{class t{log(t){console.log(t)}warn(t){console.warn(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=w({token:t,factory:t.\u0275fac}),t})();const du=new We("LocaleId"),pu=new We("DefaultCurrencyCode");class gu{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const vu=function(t){return new Fs(t)},yu=vu,mu=function(t){return Promise.resolve(vu(t))},bu=function(t){const e=vu(t),n=ar(ut(t).declarations).reduce((t,e)=>{const n=st(e);return n&&t.push(new Ms(n)),t},[]);return new gu(e,n)},wu=bu,_u=function(t){return Promise.resolve(bu(t))};let Ou=(()=>{class t{constructor(){this.compileModuleSync=yu,this.compileModuleAsync=mu,this.compileModuleAndAllComponentsSync=wu,this.compileModuleAndAllComponentsAsync=_u}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=w({token:t,factory:t.\u0275fac}),t})();const Eu=(()=>Promise.resolve(0))();function Iu(t){"undefined"==typeof Zone?Eu.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class Tu{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:n=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Hs(!1),this.onMicrotaskEmpty=new Hs(!1),this.onStable=new Hs(!1),this.onError=new Hs(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!n&&e,r.shouldCoalesceRunChangeDetection=n,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function(){let t=F.requestAnimationFrame,e=F.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=()=>{!function(t){-1===t.lastRequestAnimationFrameId&&(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(F,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Cu(t),xu(t)},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Cu(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,o,s,u)=>{try{return ju(t),n.invokeTask(i,o,s,u)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||t.shouldCoalesceRunChangeDetection)&&e(),Au(t)}},onInvoke:(n,r,i,o,s,u,a)=>{try{return ju(t),n.invoke(i,o,s,u,a)}finally{t.shouldCoalesceRunChangeDetection&&e(),Au(t)}},onHasTask:(e,n,r,i)=>{e.hasTask(r,i),n===r&&("microTask"==i.change?(t._hasPendingMicrotasks=i.microTask,Cu(t),xu(t)):"macroTask"==i.change&&(t.hasPendingMacrotasks=i.macroTask))},onHandleError:(e,n,r,i)=>(e.handleError(r,i),t.runOutsideAngular(()=>t.onError.emit(i)),!1)})}(r)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Tu.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Tu.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,r){const i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,t,Su,Uo,Uo);try{return i.runTask(o,e,n)}finally{i.cancelTask(o)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}const Su={};function xu(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Cu(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function ju(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Au(t){t._nesting--,xu(t)}class ku{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Hs,this.onMicrotaskEmpty=new Hs,this.onStable=new Hs,this.onError=new Hs}run(t,e,n){return t.apply(e,n)}runGuarded(t,e,n){return t.apply(e,n)}runOutsideAngular(t){return t()}runTask(t,e,n,r){return t.apply(e,n)}}let Nu=(()=>{class t{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Tu.assertNotInAngularZone(),Iu(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Iu(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let r=-1;e&&e>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==r),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:r,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}return t.\u0275fac=function(e){return new(e||t)(cn(Tu))},t.\u0275prov=w({token:t,factory:t.\u0275fac}),t})(),Pu=(()=>{class t{constructor(){this._applications=new Map,Lu.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return Lu.findTestabilityInTree(this,t,e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=w({token:t,factory:t.\u0275fac}),t})();class Du{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}function Ru(t){Lu=t}let Mu,Lu=new Du,Uu=!0,Vu=!1;function Fu(){return Vu=!0,Uu}function Hu(){if(Vu)throw new Error("Cannot enable prod mode after platform setup.");Uu=!1}const qu=new We("AllowMultipleToken");class zu{constructor(t,e){this.name=t,this.token=e}}function Bu(t,e,n=[]){const r=`Platform: ${e}`,i=new We(r);return(e=[])=>{let o=Gu();if(!o||o.injector.get(qu,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{const t=n.concat(e).concat({provide:i,useValue:!0},{provide:Mi,useValue:"platform"});!function(t){if(Mu&&!Mu.destroyed&&!Mu.injector.get(qu,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Mu=t.get($u);const e=t.get(cu,null);e&&e.forEach(t=>t())}(Yi.create({providers:t,name:r}))}return function(t){const e=Gu();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function Gu(){return Mu&&!Mu.destroyed?Mu:null}let $u=(()=>{class t{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n=function(t,e){let n;return n="noop"===t?new ku:("zone.js"===t?void 0:t)||new Tu({enableLongStackTrace:Fu(),shouldCoalesceEventChangeDetection:!!(null==e?void 0:e.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==e?void 0:e.ngZoneRunCoalescing)}),n}(e?e.ngZone:void 0,{ngZoneEventCoalescing:e&&e.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:e&&e.ngZoneRunCoalescing||!1}),r=[{provide:Tu,useValue:n}];return n.run(()=>{const e=Yi.create({providers:r,parent:this.injector,name:t.moduleType.name}),i=t.create(e),o=i.injector.get(or,null);if(!o)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.runOutsideAngular(()=>{const t=n.onError.subscribe({next:t=>{o.handleError(t)}});i.onDestroy(()=>{Yu(this._modules,i),t.unsubscribe()})}),function(t,e,n){try{const r=n();return fo(r)?r.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(o,n,()=>{const t=i.injector.get(ou);return t.runInitializers(),t.donePromise.then(()=>(Do(i.injector.get(du,No)||No),this._moduleDoBootstrap(i),i))})})}bootstrapModule(t,e=[]){const n=Qu({},e);return function(t,e,n){const r=new Fs(n);return Promise.resolve(r)}(0,0,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(Wu);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${h(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(cn(Yi))},t.\u0275prov=w({token:t,factory:t.\u0275fac}),t})();function Qu(t,e){return Array.isArray(e)?e.reduce(Qu,t):Object.assign(Object.assign({},t),e)}let Wu=(()=>{class t{constructor(t,e,n,r,i){this._zone=t,this._injector=e,this._exceptionHandler=n,this._componentFactoryResolver=r,this._initStatus=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const l=new o.a(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),h=new o.a(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{Tu.assertNotInAngularZone(),Iu(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{Tu.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=Object(s.a)(l,h.pipe(t=>{return Object(a.a)()((e=c,function(t){let n;n="function"==typeof e?e:function(){return e};const r=Object.create(t,u.b);return r.source=t,r.subjectFactory=n,r})(t));var e}))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof Ro?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const r=n.isBoundToModule?void 0:this._injector.get(Es),i=n.create(Yi.NULL,[],e||n.selector,r),o=i.location.nativeElement,s=i.injector.get(Nu,null),u=s&&i.injector.get(Pu);return s&&u&&u.registerApplication(o,s),i.onDestroy(()=>{this.detachView(i.hostView),Yu(this.components,i),u&&u.unregisterApplication(o)}),this._loadComponent(i),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;Yu(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(hu,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(e){return new(e||t)(cn(Tu),cn(Yi),cn(or),cn(Lo),cn(ou))},t.\u0275prov=w({token:t,factory:t.\u0275fac}),t})();function Yu(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class Ku{}class Ju{}const Xu={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let Zu=(()=>{class t{constructor(t,e){this._compiler=t,this._config=e||Xu}load(t){return this.loadAndCompile(t)}loadAndCompile(t){let[e,r]=t.split("#");return void 0===r&&(r="default"),n("zn8P")(e).then(t=>t[r]).then(t=>ta(t,e,r)).then(t=>this._compiler.compileModuleAsync(t))}loadFactory(t){let[e,r]=t.split("#"),i="NgFactory";return void 0===r&&(r="default",i=""),n("zn8P")(this._config.factoryPathPrefix+e+this._config.factoryPathSuffix).then(t=>t[r+i]).then(t=>ta(t,e,r))}}return t.\u0275fac=function(e){return new(e||t)(cn(Ou),cn(Ju,8))},t.\u0275prov=w({token:t,factory:t.\u0275fac}),t})();function ta(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}const ea=function(t){return null},na=Bu(null,"core",[{provide:lu,useValue:"unknown"},{provide:$u,deps:[Yi]},{provide:Pu,deps:[]},{provide:fu,deps:[]}]),ra=[{provide:Wu,useClass:Wu,deps:[Tu,Yi,or,Lo,ou]},{provide:Rs,deps:[Tu],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:ou,useClass:ou,deps:[[new dn,iu]]},{provide:Ou,useClass:Ou,deps:[]},uu,{provide:ss,useFactory:function(){return vs},deps:[]},{provide:as,useFactory:function(){return ys},deps:[]},{provide:du,useFactory:function(t){return Do(t=t||"undefined"!=typeof $localize&&$localize.locale||No),t},deps:[[new fn(du),new dn,new pn]]},{provide:pu,useValue:"USD"}];let ia=(()=>{class t{constructor(t){}}return t.\u0275fac=function(e){return new(e||t)(cn(Wu))},t.\u0275mod=et({type:t}),t.\u0275inj=_({providers:ra}),t})()},gRHU:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("2fFW"),i=n("NJ4a");const o={closed:!0,next(t){},error(t){if(r.a.useDeprecatedSynchronousErrorHandling)throw t;Object(i.a)(t)},complete(){}}},jZKg:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("HDdC"),i=n("quSY");function o(t,e){return new r.a(n=>{const r=new i.a;let o=0;return r.add(e.schedule(function(){o!==t.length?(n.next(t[o++]),n.closed||r.add(this.schedule())):n.complete()})),r})}},kJWO:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")()},l7GE:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("7o/Q");class i extends r.a{notifyNext(t,e,n,r,i){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}},lJxs:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("7o/Q");function i(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new o(t,e))}}class o{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new s(t,this.project,this.thisArg))}}class s extends r.a{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}},mrSG:function(t,e,n){"use strict";n.d(e,"c",function(){return i}),n.d(e,"a",function(){return o}),n.d(e,"b",function(){return s}),n.d(e,"d",function(){return u}),n.d(e,"g",function(){return a}),n.d(e,"e",function(){return c}),n.d(e,"f",function(){return l});var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function s(t,e,n,r){return new(n||(n=Promise))(function(i,o){function s(t){try{a(r.next(t))}catch(e){o(e)}}function u(t){try{a(r.throw(t))}catch(e){o(e)}}function a(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,u)}a((r=r.apply(t,e||[])).next())})}function u(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function u(o){return function(u){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(u){o=[6,u],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,u])}}}function a(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function c(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(u){i={error:u}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function l(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t}},n6bG:function(t,e,n){"use strict";function r(t){return"function"==typeof t}n.d(e,"a",function(){return r})},ngJS:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=t=>e=>{for(let n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()}},pxpQ:function(t,e,n){"use strict";n.d(e,"b",function(){return a}),n.d(e,"a",function(){return l});var r=n("7o/Q"),i=n("EY2u"),o=n("LRne"),s=n("HDdC");let u=(()=>{class t{constructor(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}accept(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}toObservable(){switch(this.kind){case"N":return Object(o.a)(this.value);case"E":return t=this.error,new s.a(e=>e.error(t));case"C":return Object(i.b)()}var t;throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}static createError(e){return new t("E",void 0,e)}static createComplete(){return t.completeNotification}}return t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t})();function a(t,e=0){return function(n){return n.lift(new c(t,e))}}class c{constructor(t,e=0){this.scheduler=t,this.delay=e}call(t,e){return e.subscribe(new l(t,this.scheduler,this.delay))}}class l extends r.a{constructor(t,e,n=0){super(t),this.scheduler=e,this.delay=n}static dispatch(t){const{notification:e,destination:n}=t;e.observe(n),this.unsubscribe()}scheduleMessage(t){this.destination.add(this.scheduler.schedule(l.dispatch,this.delay,new h(t,this.destination)))}_next(t){this.scheduleMessage(u.createNext(t))}_error(t){this.scheduleMessage(u.createError(t)),this.unsubscribe()}_complete(){this.scheduleMessage(u.createComplete()),this.unsubscribe()}}class h{constructor(t,e){this.notification=t,this.destination=e}}},"q/0M":function(t,e,n){"use strict";function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,u=o.length;s<u;s++,i++)r[i]=o[s];return r}var i;n.d(e,"a",function(){return s}),n.d(e,"b",function(){return h}),n.d(e,"c",function(){return f}),n.d(e,"d",function(){return d});var o=[],s=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),u={debug:s.DEBUG,verbose:s.VERBOSE,info:s.INFO,warn:s.WARN,error:s.ERROR,silent:s.SILENT},a=s.INFO,c=((i={})[s.DEBUG]="log",i[s.VERBOSE]="log",i[s.INFO]="info",i[s.WARN]="warn",i[s.ERROR]="error",i),l=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var o=(new Date).toISOString(),s=c[e];if(!s)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[s].apply(console,r(["["+o+"]  "+t.name+":"],n))}},h=function(){function t(t){this.name=t,this._logLevel=a,this._logHandler=l,this._userLogHandler=null,o.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in s))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?u[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.DEBUG],t)),this._logHandler.apply(this,r([this,s.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.VERBOSE],t)),this._logHandler.apply(this,r([this,s.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.INFO],t)),this._logHandler.apply(this,r([this,s.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.WARN],t)),this._logHandler.apply(this,r([this,s.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.ERROR],t)),this._logHandler.apply(this,r([this,s.ERROR],t))},t}();function f(t){o.forEach(function(e){e.setLogLevel(t)})}function d(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=u[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var u=i.map(function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}}).filter(function(t){return t}).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:s[n].toLowerCase(),message:u,args:i,type:e.name})}},r=0,i=o;r<i.length;r++)n(i[r])}},qOnz:function(t,e,n){"use strict";n.d(e,"a",function(){return s}),n.d(e,"b",function(){return y}),n.d(e,"c",function(){return w}),n.d(e,"d",function(){return _}),n.d(e,"e",function(){return i}),n.d(e,"f",function(){return o}),n.d(e,"g",function(){return u}),n.d(e,"h",function(){return l}),n.d(e,"i",function(){return h}),n.d(e,"j",function(){return d}),n.d(e,"k",function(){return p}),n.d(e,"l",function(){return a}),n.d(e,"m",function(){return c}),n.d(e,"n",function(){return f}),n.d(e,"o",function(){return g});var r=n("mrSG");function i(t){return o(void 0,t)}function o(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=o(t[n],e[n]));return t}var s=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch(function(){}),1===t.length?t(n):t(n,r))}},t}();function u(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function a(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(u())}function c(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}function l(){return"object"==typeof self&&self.self===self}function h(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function f(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function d(){return u().indexOf("Electron/")>=0}function p(){var t=u();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function g(){return u().indexOf("MSAppHost/")>=0}var v=function(t){function e(n,r,i){var o=t.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,y.prototype.create),o}return Object(r.c)(e,t),e}(Error),y=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],s=o?m(o,r):"Error",u=this.serviceName+": "+s+" ("+i+").",a=new v(i,u,r);return a},t}();function m(t,e){return t.replace(b,function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"})}var b=/\{\$([^}]+)}/g;function w(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function _(t,e){var n=new O(t,e);return n.subscribe.bind(n)}var O=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(function(){t(n)}).catch(function(t){n.error(t)})}return t.prototype.next=function(t){this.forEachObserver(function(e){e.next(t)})},t.prototype.error=function(t){this.forEachObserver(function(e){e.error(t)}),this.close(t)},t.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=E),void 0===r.error&&(r.error=E),void 0===r.complete&&(r.complete=E);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}}),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}})},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(function(){e.observers=void 0,e.onNoObservers=void 0}))},t}();function E(){}},qgXg:function(t,e,n){"use strict";n.d(e,"a",function(){return u});var r=n("3N8a");class i extends r.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(t,e,n):t.flush(this)}}var o=n("IjjT");class s extends o.a{}const u=new s(i)},quSY:function(t,e,n){"use strict";n.d(e,"a",function(){return u});var r=n("DH7j"),i=n("XoHu"),o=n("n6bG");const s=(()=>{function t(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t})();let u=(()=>{class t{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:n,_unsubscribe:u,_subscriptions:c}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(let t=0;t<n.length;++t)n[t].remove(this);if(Object(o.a)(u))try{u.call(this)}catch(l){e=l instanceof s?a(l.errors):[l]}if(Object(r.a)(c)){let t=-1,n=c.length;for(;++t<n;){const n=c[t];if(Object(i.a)(n))try{n.unsubscribe()}catch(l){e=e||[],l instanceof s?e=e.concat(a(l.errors)):e.push(l)}}}if(e)throw new s(e)}add(e){let n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){const e=n;n=new t,n._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:r}=n;if(null===r)n._parentOrParents=this;else if(r instanceof t){if(r===this)return n;n._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return n;r.push(this)}const i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}var e;return t.EMPTY=((e=new t).closed=!0,e),t})();function a(t){return t.reduce((t,e)=>t.concat(e instanceof s?e.errors:e),[])}},spgP:function(t,e,n){"use strict";(function(t){n.d(e,"a",function(){return S}),n.d(e,"b",function(){return b}),n.d(e,"c",function(){return m}),n.d(e,"d",function(){return d}),n.d(e,"e",function(){return y}),n.d(e,"f",function(){return I}),n.d(e,"g",function(){return _}),n.d(e,"h",function(){return p}),n.d(e,"i",function(){return v}),n.d(e,"j",function(){return O});var r=n("qgXg"),i=n("D0XW"),o=n("vkgz"),s=n("tf+s"),u=n("pxpQ"),a=n("fXoL"),c=n("Jgta");function l(){}class h{constructor(t,e=r.a){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,n){const r=this.zone;return this.delegate.schedule(function(e){r.runGuarded(()=>{t.apply(this,[e])})},e,n)}}class f{constructor(t){this.zone=t,this.task=null}call(t,e){const n=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",l,{},l,l)),e.pipe(Object(o.a)({next:n,complete:n,error:n})).subscribe(t).add(n)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}class d{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new h(Zone.current)),this.insideAngular=t.run(()=>new h(Zone.current,i.a))}}function p(t){return function(e){return(e=e.lift(new f(t.ngZone))).pipe(Object(s.a)(t.outsideAngular),Object(u.b)(t.insideAngular))}}const g=["ngOnDestroy"],v=(t,e,n,r={})=>new Proxy(t,{get:(i,o)=>n.runOutsideAngular(()=>{var i;if(t[o])return(null===(i=null==r?void 0:r.spy)||void 0===i?void 0:i.get)&&r.spy.get(o,t[o]),t[o];if(g.indexOf(o)>-1)return()=>{};const s=e.toPromise().then(t=>{const e=t&&t[o];return"function"==typeof e?e.bind(t):e&&e.then?e.then(t=>n.run(()=>t)):n.run(()=>e)});return new Proxy(()=>{},{get:(t,e)=>s[e],apply:(t,e,n)=>s.then(t=>{var e;const i=t&&t(...n);return(null===(e=null==r?void 0:r.spy)||void 0===e?void 0:e.apply)&&r.spy.apply(o,n,i),i})})})}),y=(t,e)=>{e.forEach(e=>{Object.getOwnPropertyNames(e.prototype||e).forEach(n=>{Object.defineProperty(t.prototype,n,Object.getOwnPropertyDescriptor(e.prototype||e,n))})})},m=new a.r("angularfire2.app.options"),b=new a.r("angularfire2.app.nameOrConfig"),w=new a.P("6.1.4");function _(e,n,r){const i="object"==typeof r&&r||{};i.name=i.name||"string"==typeof r&&r||"[DEFAULT]";const o=c.a.apps.filter(t=>t&&t.name===i.name)[0]||n.runOutsideAngular(()=>c.a.initializeApp(e,i));try{JSON.stringify(e)!==JSON.stringify(o.options)&&E("error",`${o.name} Firebase App already initialized with different options${t.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(s){}return o}const O=()=>{E("warn","You may need to import 'firebase/auth' manually in your component rather than rely on AngularFireAuth's dynamic import, when using the emulator suite https://github.com/angular/angularfire/issues/2656")},E=(t,...e)=>{Object(a.U)()&&"undefined"!=typeof console&&console[t](...e)};function I(e,n,r,i,o){const[s,...u]=globalThis.\u0275AngularfireInstanceCache.get(e)||[];if(s){try{o.some((t,e)=>{const n=u[e];return t&&"object"==typeof t?JSON.stringify(t)!==JSON.stringify(n):t!==n})&&E("error",`${n} was already initialized on the ${r.name} Firebase App instance with different settings.${t.hot?" You may need to reload as Firebase is not HMR aware.":""}`)}catch(a){}return s}{const t=i();return globalThis.\u0275AngularfireInstanceCache.set(e,[t,...o]),t}}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=new Map);const T={provide:class{},useFactory:_,deps:[m,a.A,[new a.B,b]]};let S=(()=>{class t{constructor(t){c.a.registerVersion("angularfire",w.full,t.toString()),c.a.registerVersion("angular",a.O.full)}static initializeApp(e,n){return{ngModule:t,providers:[{provide:m,useValue:e},{provide:b,useValue:n}]}}}return t.\u0275fac=function(e){return new(e||t)(a.Mb(a.C))},t.\u0275mod=a.Eb({type:t}),t.\u0275inj=a.Db({providers:[T]}),t})()}).call(this,n("3UD+")(t))},"tf+s":function(t,e,n){"use strict";n.d(e,"a",function(){return v});var r=n("HDdC");let i=1;const o=(()=>Promise.resolve())(),s={};function u(t){return t in s&&(delete s[t],!0)}const a={setImmediate(t){const e=i++;return s[e]=!0,o.then(()=>u(e)&&t()),e},clearImmediate(t){u(t)}};var c=n("3N8a");class l extends c.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=a.setImmediate(t.flush.bind(t,null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(a.clearImmediate(e),t.scheduled=void 0)}}var h=n("IjjT");class f extends h.a{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,r=-1,i=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++r<i&&(t=e.shift()));if(this.active=!1,n){for(;++r<i&&(t=e.shift());)t.unsubscribe();throw n}}}const d=new f(l);var p=n("DH7j");class g extends r.a{constructor(t,e=0,n=d){var r;super(),this.source=t,this.delayTime=e,this.scheduler=n,r=e,(Object(p.a)(r)||!(r-parseFloat(r)+1>=0)||e<0)&&(this.delayTime=0),n&&"function"==typeof n.schedule||(this.scheduler=d)}static create(t,e=0,n=d){return new g(t,e,n)}static dispatch(t){const{source:e,subscriber:n}=t;return this.add(e.subscribe(n))}_subscribe(t){return this.scheduler.schedule(g.dispatch,this.delayTime,{source:this.source,subscriber:t})}}function v(t,e=0){return function(n){return n.lift(new y(t,e))}}class y{constructor(t,e){this.scheduler=t,this.delay=e}call(t,e){return new g(e,this.delay,this.scheduler).subscribe(t)}}},vkgz:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("7o/Q");function i(){}var o=n("n6bG");function s(t,e,n){return function(r){return r.lift(new u(t,e,n))}}class u{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new a(t,this.nextOrObserver,this.error,this.complete))}}class a extends r.a{constructor(t,e,n,r){super(t),this._tapNext=i,this._tapError=i,this._tapComplete=i,this._tapError=n||i,this._tapComplete=r||i,Object(o.a)(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||i,this._tapError=e.error||i,this._tapComplete=e.complete||i)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}},"x+ZX":function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("7o/Q");function i(){return function(t){return t.lift(new o(t))}}class o{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const r=new s(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class s extends r.a{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}},yCtX:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("HDdC"),i=n("ngJS"),o=n("jZKg");function s(t,e){return e?Object(o.a)(t,e):new r.a(Object(i.a)(t))}},"z+Ro":function(t,e,n){"use strict";function r(t){return t&&"function"==typeof t.schedule}n.d(e,"a",function(){return r})},zIRd:function(t,e,n){"use strict";var r,i,o=n("mrSG"),s=n("qOnz"),u=n("/6Yf"),a=n("q/0M"),c=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new s.b("app","Firebase",c),h="@firebase/app",f="[DEFAULT]",d=((i={})[h]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),p=new a.b("@firebase/app"),g=function(){function t(t,e,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=Object(s.e)(t),this.container=new u.b(e.name),this._addComponent(new u.a("app",function(){return r},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(t){return r._addComponent(t)})}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise(function(e){t.checkDestroyed_(),e()}).then(function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map(function(t){return t.delete()}))}).then(function(){t.isDeleted_=!0})},t.prototype._getService=function(t,e){return void 0===e&&(e=f),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e=f),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){p.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},t}();g.prototype.name&&g.prototype.options||g.prototype.delete||console.log("dc");var v=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var o=i;void 0===o.name&&(o.name=f);var u=o.name;if("string"!=typeof u||!u)throw l.create("bad-app-name",{appName:String(u)});if(Object(s.c)(e,u))throw l.create("duplicate-app",{appName:u});var a=new t(n,o,r);return e[u]=a,a},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=d[t])&&void 0!==r?r:t;n&&(i+="-"+n);var s=i.match(/\s|\//),a=e.match(/\s|\//);if(s||a){var c=['Unable to register library "'+i+'" with version "'+e+'":'];return s&&c.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),s&&a&&c.push("and"),a&&c.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void p.warn(c.join(" "))}o(new u.a(i+"-version",function(){return{library:i,version:e}},"VERSION"))},setLogLevel:a.c,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw l.create("invalid-log-argument");Object(a.d)(t,e)},apps:null,SDK_VERSION:"8.3.0",INTERNAL:{registerComponent:o,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(t=t||f,!Object(s.c)(e,t))throw l.create("no-app",{appName:t});return e[t]}function o(o){var u=o.name;if(n.has(u))return p.debug("There were multiple attempts to register component "+u+"."),"PUBLIC"===o.type?r[u]:null;if(n.set(u,o),"PUBLIC"===o.type){var a=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[u])throw l.create("invalid-app-argument",{appName:u});return t[u]()};void 0!==o.serviceProps&&Object(s.f)(a,o.serviceProps),r[u]=a,t.prototype[u]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._getService.bind(this,u).apply(this,o.multipleInstances?t:[])}}for(var c=0,h=Object.keys(e);c<h.length;c++)e[h[c]]._addComponent(o);return"PUBLIC"===o.type?r[u]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map(function(t){return e[t]})}}),i.App=t,r}(g);return e.INTERNAL=Object(o.a)(Object(o.a)({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){Object(s.f)(e,t)},createSubscribe:s.d,ErrorFactory:s.b,deepExtend:s.f}),e}(),y=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null}).filter(function(t){return t}).join(" ")},t}();if(Object(s.h)()&&void 0!==self.firebase){p.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var m=self.firebase.SDK_VERSION;m&&m.indexOf("LITE")>=0&&p.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var b=v.initializeApp;v.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Object(s.m)()&&p.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),b.apply(void 0,t)};var w=v;!function(t,e){t.INTERNAL.registerComponent(new u.a("platform-logger",function(t){return new y(t)},"PRIVATE")),t.registerVersion(h,"0.6.16",void 0),t.registerVersion("fire-js","")}(w),e.a=w},zUnb:function(t,e,n){"use strict";n.r(e);var r=n("fXoL");let i=null;function o(){return i}const s=new r.r("DocumentToken");let u=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Cb)({factory:a,token:t,providedIn:"platform"}),t})();function a(){return Object(r.Mb)(l)}const c=new r.r("Location Initialized");let l=(()=>{class t extends u{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=o().getLocation(),this._history=o().getHistory()}getBaseHrefFromDOM(){return o().getBaseHref(this._doc)}onPopState(t){o().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}onHashChange(t){o().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){h()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){h()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(s))},t.\u0275prov=Object(r.Cb)({factory:f,token:t,providedIn:"platform"}),t})();function h(){return!!window.history.pushState}function f(){return new l(Object(r.Mb)(s))}function d(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function p(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function g(t){return t&&"?"!==t[0]?"?"+t:t}let v=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Cb)({factory:y,token:t,providedIn:"root"}),t})();function y(t){const e=Object(r.Mb)(s).location;return new b(Object(r.Mb)(u),e&&e.origin||"")}const m=new r.r("appBaseHref");let b=(()=>{class t extends v{constructor(t,e){if(super(),this._platformLocation=t,null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return d(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+g(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,r){const i=this.prepareExternalUrl(n+g(r));this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){const i=this.prepareExternalUrl(n+g(r));this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(u),r.Mb(m,8))},t.\u0275prov=r.Cb({token:t,factory:t.\u0275fac}),t})(),w=(()=>{class t extends v{constructor(t,e){super(),this._platformLocation=t,this._baseHref="",null!=e&&(this._baseHref=e)}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}path(t=!1){let e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}prepareExternalUrl(t){const e=d(this._baseHref,t);return e.length>0?"#"+e:e}pushState(t,e,n,r){let i=this.prepareExternalUrl(n+g(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){let i=this.prepareExternalUrl(n+g(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(u),r.Mb(m,8))},t.\u0275prov=r.Cb({token:t,factory:t.\u0275fac}),t})(),_=(()=>{class t{constructor(t,e){this._subject=new r.n,this._urlChangeListeners=[],this._platformStrategy=t;const n=this._platformStrategy.getBaseHref();this._platformLocation=e,this._baseHref=p(E(n)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+g(e))}normalize(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,E(e)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e="",n=null){this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+g(e)),n)}replaceState(t,e="",n=null){this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+g(e)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)}))}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(n=>n(t,e))}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(v),r.Mb(u))},t.normalizeQueryParams=g,t.joinWithSlash=d,t.stripTrailingSlash=p,t.\u0275prov=Object(r.Cb)({factory:O,token:t,providedIn:"root"}),t})();function O(){return new _(Object(r.Mb)(v),Object(r.Mb)(u))}function E(t){return t.replace(/\/index.html$/,"")}var I=function(t){return t[t.Zero=0]="Zero",t[t.One=1]="One",t[t.Two=2]="Two",t[t.Few=3]="Few",t[t.Many=4]="Many",t[t.Other=5]="Other",t}({});const T=r.lb;class S{}let x=(()=>{class t extends S{constructor(t){super(),this.locale=t}getPluralCategory(t,e){switch(T(e||this.locale)(t)){case I.Zero:return"zero";case I.One:return"one";case I.Two:return"two";case I.Few:return"few";case I.Many:return"many";default:return"other"}}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.v))},t.\u0275prov=r.Cb({token:t,factory:t.\u0275fac}),t})(),C=(()=>{class t{constructor(t,e){this._viewContainer=t,this._context=new j,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){A("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){A("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Gb(r.Q),r.Gb(r.L))},t.\u0275dir=r.Bb({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class j{constructor(){this.$implicit=null,this.ngIf=null}}function A(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${Object(r.ub)(e)}'.`)}let k=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Eb({type:t}),t.\u0275inj=r.Db({providers:[{provide:S,useClass:x}]}),t})();function N(t){return"server"===t}let P=(()=>{class t{}return t.\u0275prov=Object(r.Cb)({token:t,providedIn:"root",factory:()=>new D(Object(r.Mb)(s),window)}),t})();class D{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){var e;if(!this.supportsScrolling())return;const n=null!==(e=this.document.getElementById(t))&&void 0!==e?e:this.document.getElementsByName(t)[0];void 0!==n&&(this.scrollToElement(n),this.attemptFocus(n))}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}attemptFocus(t){return t.focus(),this.document.activeElement===t}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=R(this.window.history)||R(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function R(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class M extends class extends class{}{constructor(){super()}supportsDOMEvents(){return!0}}{static makeCurrent(){var t;t=new M,i||(i=t)}getProperty(t,e){return t[e]}log(t){window.console&&window.console.log&&window.console.log(t)}logGroup(t){window.console&&window.console.group&&window.console.group(t)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){return t.parentNode&&t.parentNode.removeChild(t),t}getValue(t){return t.value}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(t){const e=U||(U=document.querySelector("base"),U)?U.getAttribute("href"):null;return null==e?null:(n=e,L||(L=document.createElement("a")),L.setAttribute("href",n),"/"===L.pathname.charAt(0)?L.pathname:"/"+L.pathname);var n}resetBaseElement(){U=null}getUserAgent(){return window.navigator.userAgent}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(t){return function(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[r,i]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(r.trim()===e)return decodeURIComponent(i)}return null}(document.cookie,t)}}let L,U=null;const V=new r.r("TRANSITION_ID"),F=[{provide:r.d,useFactory:function(t,e,n){return()=>{n.get(r.e).donePromise.then(()=>{const n=o();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(e=>e.getAttribute("ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[V,s,r.s],multi:!0}];class H{static init(){Object(r.W)(new H)}addToWindow(t){r.nb.getAngularTestability=(e,n=!0)=>{const r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},r.nb.getAllAngularTestabilities=()=>t.getAllTestabilities(),r.nb.getAllAngularRootElements=()=>t.getAllRootElements(),r.nb.frameworkStabilizers||(r.nb.frameworkStabilizers=[]),r.nb.frameworkStabilizers.push(t=>{const e=r.nb.getAllAngularTestabilities();let n=e.length,i=!1;const o=function(e){i=i||e,n--,0==n&&t(i)};e.forEach(function(t){t.whenStable(o)})})}findTestabilityInTree(t,e,n){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:n?o().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}const q=new r.r("EventManagerPlugins");let z=(()=>{class t{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let r=0;r<n.length;r++){const e=n[r];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error(`No event manager plugin found for event ${t}`)}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(q),r.Mb(r.A))},t.\u0275prov=r.Cb({token:t,factory:t.\u0275fac}),t})();class B{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const r=o().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,n)}}let G=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Cb({token:t,factory:t.\u0275fac}),t})(),$=(()=>{class t extends G{constructor(t){super(),this._doc=t,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(t.head)}_addStylesToHost(t,e){t.forEach(t=>{const n=this._doc.createElement("style");n.textContent=t,this._styleNodes.add(e.appendChild(n))})}addHost(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}removeHost(t){this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach(e=>this._addStylesToHost(t,e))}ngOnDestroy(){this._styleNodes.forEach(t=>o().remove(t))}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(s))},t.\u0275prov=r.Cb({token:t,factory:t.\u0275fac}),t})();const Q={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},W=/%COMP%/g;function Y(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?Y(t,i,n):(i=i.replace(W,t),n.push(i))}return n}function K(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let J=(()=>{class t{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new X(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case r.R.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new Z(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case 1:case r.R.ShadowDom:return new tt(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=Y(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(z),r.Mb($),r.Mb(r.c))},t.\u0275prov=r.Cb({token:t,factory:t.\u0275fac}),t})();class X{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(Q[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,r){if(r){e=r+":"+e;const i=Q[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const r=Q[n];r?t.removeAttributeNS(r,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,i){i&(r.G.DashCase|r.G.Important)?t.style.setProperty(e,n,i&r.G.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&r.G.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,K(n)):this.eventManager.addEventListener(t,e,K(n))}}class Z extends X{constructor(t,e,n,r){super(t),this.component=n;const i=Y(r+"-"+n.id,n.styles,[]);e.addStyles(i),this.contentAttr="_ngcontent-%COMP%".replace(W,r+"-"+n.id),this.hostAttr="_nghost-%COMP%".replace(W,r+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class tt extends X{constructor(t,e,n,r){super(t),this.sharedStylesHost=e,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const i=Y(r.id,r.styles,[]);for(let o=0;o<i.length;o++){const t=document.createElement("style");t.textContent=i[o],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let et=(()=>{class t extends B{constructor(t){super(t)}supports(t){return!0}addEventListener(t,e,n){return t.addEventListener(e,n,!1),()=>this.removeEventListener(t,e,n)}removeEventListener(t,e,n){return t.removeEventListener(e,n)}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(s))},t.\u0275prov=r.Cb({token:t,factory:t.\u0275fac}),t})();const nt=["alt","control","meta","shift"],rt={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},it={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},ot={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let st=(()=>{class t extends B{constructor(t){super(t)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,n,r){const i=t.parseEventName(n),s=t.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>o().onAndCancel(e,i.domEventName,s))}static parseEventName(e){const n=e.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const i=t._normalizeKey(n.pop());let o="";if(nt.forEach(t=>{const e=n.indexOf(t);e>-1&&(n.splice(e,1),o+=t+".")}),o+=i,0!=n.length||0===i.length)return null;const s={};return s.domEventName=r,s.fullKey=o,s}static getEventFullKey(t){let e="",n=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&it.hasOwnProperty(e)&&(e=it[e]))}return rt[e]||e}(t);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),nt.forEach(r=>{r!=n&&(0,ot[r])(t)&&(e+=r+".")}),e+=n,e}static eventCallback(e,n,r){return i=>{t.getEventFullKey(i)===e&&r.runGuarded(()=>n(i))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(s))},t.\u0275prov=r.Cb({token:t,factory:t.\u0275fac}),t})();const ut=[{provide:r.C,useValue:"browser"},{provide:r.D,useValue:function(){M.makeCurrent(),H.init()},multi:!0},{provide:s,useFactory:function(){return Object(r.tb)(document),document},deps:[]}],at=Object(r.S)(r.V,"browser",ut),ct=[[],{provide:r.Y,useValue:"root"},{provide:r.m,useFactory:function(){return new r.m},deps:[]},{provide:q,useClass:et,multi:!0,deps:[s,r.A,r.C]},{provide:q,useClass:st,multi:!0,deps:[s]},[],{provide:J,useClass:J,deps:[z,$,r.c]},{provide:r.F,useExisting:J},{provide:G,useExisting:$},{provide:$,useClass:$,deps:[s]},{provide:r.M,useClass:r.M,deps:[r.A]},{provide:z,useClass:z,deps:[q,r.A]},[]];let lt=(()=>{class t{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:r.c,useValue:e.appId},{provide:V,useExisting:r.c},F]}}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(t,12))},t.\u0275mod=r.Eb({type:t}),t.\u0275inj=r.Db({providers:ct,imports:[k,r.f]}),t})();"undefined"!=typeof window&&window;var ht=n("Cfvw"),ft=n("LRne"),dt=n("XNiG"),pt=n("9ppp");class gt extends dt.a{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new pt.a;return this._value}next(t){super.next(this._value=t)}}var vt=n("z+Ro"),yt=n("DH7j"),mt=n("l7GE"),bt=n("ZUHj"),wt=n("yCtX");const _t={};class Ot{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new Et(t,this.resultSelector))}}class Et extends mt.a{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(_t),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let n=0;n<e;n++){const e=t[n];this.add(Object(bt.a)(this,e,e,n))}}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,n,r,i){const o=this.values,s=this.toRespond?o[n]===_t?--this.toRespond:this.toRespond:0;o[n]=e,0===s&&(this.resultSelector?this._tryResultSelector(o):this.destination.next(o.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}var It=n("HDdC");const Tt=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})();var St=n("bHdf");function xt(...t){return Object(St.a)(1)(Object(ft.a)(...t))}var Ct=n("EY2u");function jt(t){return new It.a(e=>{let n;try{n=t()}catch(r){return void e.error(r)}return(n?Object(ht.a)(n):Object(Ct.b)()).subscribe(e)})}var At=n("EQ5u"),kt=n("lJxs"),Nt=n("51Dv");function Pt(t,e){return"function"==typeof e?n=>n.pipe(Pt((n,r)=>Object(ht.a)(t(n,r)).pipe(Object(kt.a)((t,i)=>e(n,t,r,i))))):e=>e.lift(new Dt(t))}class Dt{constructor(t){this.project=t}call(t,e){return e.subscribe(new Rt(t,this.project))}}class Rt extends mt.a{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e,t,n)}_innerSub(t,e,n){const r=this.innerSubscription;r&&r.unsubscribe();const i=new Nt.a(this,e,n),o=this.destination;o.add(i),this.innerSubscription=Object(bt.a)(this,t,void 0,void 0,i),this.innerSubscription!==i&&o.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=null}notifyComplete(t){this.destination.remove(t),this.innerSubscription=null,this.isStopped&&super._complete()}notifyNext(t,e,n,r,i){this.destination.next(e)}}var Mt=n("7o/Q");const Lt=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})();function Ut(t){return e=>0===t?Object(Ct.b)():e.lift(new Vt(t))}class Vt{constructor(t){if(this.total=t,this.total<0)throw new Lt}call(t,e){return e.subscribe(new Ft(t,this.total))}}class Ft extends Mt.a{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}function Ht(...t){const e=t[t.length-1];return Object(vt.a)(e)?(t.pop(),n=>xt(t,n,e)):e=>xt(t,e)}function qt(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new zt(t,e,n))}}class zt{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new Bt(t,this.accumulator,this.seed,this.hasSeed))}}class Bt extends Mt.a{constructor(t,e,n,r){super(t),this.accumulator=e,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}function Gt(t,e){return function(n){return n.lift(new $t(t,e))}}class $t{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new Qt(t,this.predicate,this.thisArg))}}class Qt extends Mt.a{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}function Wt(t){return function(e){const n=new Yt(t),r=e.lift(n);return n.caught=r}}class Yt{constructor(t){this.selector=t}call(t,e){return e.subscribe(new Kt(t,this.selector,this.caught))}}class Kt extends mt.a{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const r=new Nt.a(this,void 0,void 0);this.add(r);const i=Object(bt.a)(this,n,void 0,void 0,r);i!==r&&this.add(i)}}}var Jt=n("5+tZ");function Xt(t,e){return Object(Jt.a)(t,e,1)}function Zt(t){return function(e){return 0===t?Object(Ct.b)():e.lift(new te(t))}}class te{constructor(t){if(this.total=t,this.total<0)throw new Lt}call(t,e){return e.subscribe(new ee(t,this.total))}}class ee extends Mt.a{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let i=0;i<n;i++){const i=e++%n;t.next(r[i])}}t.complete()}}function ne(t=oe){return e=>e.lift(new re(t))}class re{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new ie(t,this.errorFactory))}}class ie extends Mt.a{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let t;try{t=this.errorFactory()}catch(nb){t=nb}this.destination.error(t)}}}function oe(){return new Tt}function se(t=null){return e=>e.lift(new ue(t))}class ue{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new ae(t,this.defaultValue))}}class ae extends Mt.a{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var ce=n("SpAZ");function le(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Gt((e,n)=>t(e,n,r)):ce.a,Ut(1),n?se(e):ne(()=>new Tt))}var he=n("vkgz"),fe=n("x+ZX"),de=n("quSY");class pe{constructor(t){this.callback=t}call(t,e){return e.subscribe(new ge(t,this.callback))}}class ge extends Mt.a{constructor(t,e){super(t),this.add(new de.a(e))}}class ve{constructor(t,e){this.id=t,this.url=e}}class ye extends ve{constructor(t,e,n="imperative",r=null){super(t,e),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class me extends ve{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class be extends ve{constructor(t,e,n){super(t,e),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class we extends ve{constructor(t,e,n){super(t,e),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class _e extends ve{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Oe extends ve{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ee extends ve{constructor(t,e,n,r,i){super(t,e),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Ie extends ve{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Te extends ve{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Se{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class xe{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Ce{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class je{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ae{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ke{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ne{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Pe="primary";class De{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Re(t){return new De(t)}function Me(t){const e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function Le(t,e,n){const r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let o=0;o<r.length;o++){const e=r[o],n=t[o];if(e.startsWith(":"))i[e.substring(1)]=n;else if(e!==n.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function Ue(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!Ve(t[i],e[i]))return!1;return!0}function Ve(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((t,e)=>r[e]===t)}return t===e}function Fe(t){return Array.prototype.concat.apply([],t)}function He(t){return t.length>0?t[t.length-1]:null}function qe(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function ze(t){return Object(r.pb)(t)?t:Object(r.qb)(t)?Object(ht.a)(Promise.resolve(t)):Object(ft.a)(t)}function Be(t,e,n){return n?function(t,e){return Ue(t,e)}(t.queryParams,e.queryParams)&&Ge(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>Ve(t[n],e[n]))}(t.queryParams,e.queryParams)&&$e(t.root,e.root)}function Ge(t,e){if(!Je(t.segments,e.segments))return!1;if(t.numberOfChildren!==e.numberOfChildren)return!1;for(const n in e.children){if(!t.children[n])return!1;if(!Ge(t.children[n],e.children[n]))return!1}return!0}function $e(t,e){return Qe(t,e,e.segments)}function Qe(t,e,n){if(t.segments.length>n.length)return!!Je(t.segments.slice(0,n.length),n)&&!e.hasChildren();if(t.segments.length===n.length){if(!Je(t.segments,n))return!1;for(const n in e.children){if(!t.children[n])return!1;if(!$e(t.children[n],e.children[n]))return!1}return!0}{const r=n.slice(0,t.segments.length),i=n.slice(t.segments.length);return!!Je(t.segments,r)&&!!t.children.primary&&Qe(t.children.primary,e,i)}}class We{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Re(this.queryParams)),this._queryParamMap}toString(){return tn.serialize(this)}}class Ye{constructor(t,e){this.segments=t,this.children=e,this.parent=null,qe(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return en(this)}}class Ke{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Re(this.parameters)),this._parameterMap}toString(){return cn(this)}}function Je(t,e){return t.length===e.length&&t.every((t,n)=>t.path===e[n].path)}class Xe{}class Ze{parse(t){const e=new pn(t);return new We(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){var e;return`/${nn(t.root,!0)}${function(t){const e=Object.keys(t).map(e=>{const n=t[e];return Array.isArray(n)?n.map(t=>`${on(e)}=${on(t)}`).join("&"):`${on(e)}=${on(n)}`});return e.length?`?${e.join("&")}`:""}(t.queryParams)}${"string"==typeof t.fragment?`#${e=t.fragment,encodeURI(e)}`:""}`}}const tn=new Ze;function en(t){return t.segments.map(t=>cn(t)).join("/")}function nn(t,e){if(!t.hasChildren())return en(t);if(e){const e=t.children.primary?nn(t.children.primary,!1):"",n=[];return qe(t.children,(t,e)=>{e!==Pe&&n.push(`${e}:${nn(t,!1)}`)}),n.length>0?`${e}(${n.join("//")})`:e}{const e=function(t,e){let n=[];return qe(t.children,(t,r)=>{r===Pe&&(n=n.concat(e(t,r)))}),qe(t.children,(t,r)=>{r!==Pe&&(n=n.concat(e(t,r)))}),n}(t,(e,n)=>n===Pe?[nn(t.children.primary,!1)]:[`${n}:${nn(e,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children.primary?`${en(t)}/${e[0]}`:`${en(t)}/(${e.join("//")})`}}function rn(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function on(t){return rn(t).replace(/%3B/gi,";")}function sn(t){return rn(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function un(t){return decodeURIComponent(t)}function an(t){return un(t.replace(/\+/g,"%20"))}function cn(t){return`${sn(t.path)}${e=t.parameters,Object.keys(e).map(t=>`;${sn(t)}=${sn(e[t])}`).join("")}`;var e}const ln=/^[^\/()?;=#]+/;function hn(t){const e=t.match(ln);return e?e[0]:""}const fn=/^[^=?&#]+/,dn=/^[^?&#]+/;class pn{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ye([],{}):new Ye([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new Ye(t,e)),n}parseSegment(){const t=hn(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new Ke(un(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=hn(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=hn(this.remaining);t&&(n=t,this.capture(n))}t[un(e)]=un(n)}parseQueryParam(t){const e=function(t){const e=t.match(fn);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=function(t){const e=t.match(dn);return e?e[0]:""}(this.remaining);t&&(n=t,this.capture(n))}const r=an(e),i=an(n);if(t.hasOwnProperty(r)){let e=t[r];Array.isArray(e)||(e=[e],t[r]=e),e.push(i)}else t[r]=i}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=hn(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let i;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i=Pe);const o=this.parseChildren();e[i]=1===Object.keys(o).length?o.primary:new Ye([],o),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class gn{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=vn(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=vn(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=yn(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return yn(t,this._root).map(t=>t.value)}}function vn(t,e){if(t===e.value)return e;for(const n of e.children){const e=vn(t,n);if(e)return e}return null}function yn(t,e){if(t===e.value)return[e];for(const n of e.children){const r=yn(t,n);if(r.length)return r.unshift(e),r}return[]}class mn{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function bn(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}class wn extends gn{constructor(t,e){super(t),this.snapshot=e,Sn(this,t)}toString(){return this.snapshot.toString()}}function _n(t,e){const n=function(t,e){const n=new In([],{},{},"",{},Pe,e,null,t.root,-1,{});return new Tn("",new mn(n,[]))}(t,e),r=new gt([new Ke("",{})]),i=new gt({}),o=new gt({}),s=new gt({}),u=new gt(""),a=new On(r,i,s,u,o,Pe,e,n.root);return a.snapshot=n.root,new wn(new mn(a,[]),n)}class On{constructor(t,e,n,r,i,o,s,u){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this._futureSnapshot=u}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Object(kt.a)(t=>Re(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Object(kt.a)(t=>Re(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function En(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const t=n[r],e=n[r-1];if(t.routeConfig&&""===t.routeConfig.path)r--;else{if(e.component)break;r--}}return function(t){return t.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class In{constructor(t,e,n,r,i,o,s,u,a,c,l){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this.routeConfig=u,this._urlSegment=a,this._lastPathIndex=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Re(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Re(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Tn extends gn{constructor(t,e){super(e),this.url=t,Sn(this,e)}toString(){return xn(this._root)}}function Sn(t,e){e.value._routerState=t,e.children.forEach(e=>Sn(t,e))}function xn(t){const e=t.children.length>0?` { ${t.children.map(xn).join(", ")} } `:"";return`${t.value}${e}`}function Cn(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Ue(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),Ue(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Ue(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),Ue(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function jn(t,e){return Ue(t.params,e.params)&&function(t,e){return Je(t,e)&&t.every((t,n)=>Ue(t.parameters,e[n].parameters))}(t.url,e.url)&&!(!t.parent!=!e.parent)&&(!t.parent||jn(t.parent,e.parent))}function An(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function(t,e,n){return e.children.map(e=>{for(const r of n.children)if(t.shouldReuseRoute(e.value,r.value.snapshot))return An(t,e,r);return An(t,e)})}(t,e,n);return new mn(r,i)}{const n=t.retrieve(e.value);if(n){const t=n.route;return kn(e,t),t}{const n=new On(new gt((r=e.value).url),new gt(r.params),new gt(r.queryParams),new gt(r.fragment),new gt(r.data),r.outlet,r.component,r),i=e.children.map(e=>An(t,e));return new mn(n,i)}}var r}function kn(t,e){if(t.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=t.value;for(let n=0;n<t.children.length;++n)kn(t.children[n],e.children[n])}function Nn(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Pn(t){return"object"==typeof t&&null!=t&&t.outlets}function Dn(t,e,n,r,i){let o={};return r&&qe(r,(t,e)=>{o[e]=Array.isArray(t)?t.map(t=>`${t}`):`${t}`}),new We(n.root===t?e:Rn(n.root,t,e),o,i)}function Rn(t,e,n){const r={};return qe(t.children,(t,i)=>{r[i]=t===e?n:Rn(t,e,n)}),new Ye(t.segments,r)}class Mn{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&Nn(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(Pn);if(r&&r!==He(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Ln{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function Un(t,e,n){if(t||(t=new Ye([],{})),0===t.segments.length&&t.hasChildren())return Vn(t,e,n);const r=function(t,e,n){let r=0,i=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;const e=t.segments[i],s=n[r];if(Pn(s))break;const u=`${s}`,a=r<n.length-1?n[r+1]:null;if(i>0&&void 0===u)break;if(u&&a&&"object"==typeof a&&void 0===a.outlets){if(!zn(u,a,e))return o;r+=2}else{if(!zn(u,{},e))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const e=new Ye(t.segments.slice(0,r.pathIndex),{});return e.children.primary=new Ye(t.segments.slice(r.pathIndex),t.children),Vn(e,0,i)}return r.match&&0===i.length?new Ye(t.segments,{}):r.match&&!t.hasChildren()?Fn(t,e,n):r.match?Vn(t,0,i):Fn(t,e,n)}function Vn(t,e,n){if(0===n.length)return new Ye(t.segments,{});{const r=function(t){return Pn(t[0])?t[0].outlets:{[Pe]:t}}(n),i={};return qe(r,(n,r)=>{"string"==typeof n&&(n=[n]),null!==n&&(i[r]=Un(t.children[r],e,n))}),qe(t.children,(t,e)=>{void 0===r[e]&&(i[e]=t)}),new Ye(t.segments,i)}}function Fn(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const o=n[i];if(Pn(o)){const t=Hn(o.outlets);return new Ye(r,t)}if(0===i&&Nn(n[0])){r.push(new Ke(t.segments[e].path,qn(n[0]))),i++;continue}const s=Pn(o)?o.outlets.primary:`${o}`,u=i<n.length-1?n[i+1]:null;s&&u&&Nn(u)?(r.push(new Ke(s,qn(u))),i+=2):(r.push(new Ke(s,{})),i++)}return new Ye(r,{})}function Hn(t){const e={};return qe(t,(t,n)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[n]=Fn(new Ye([],{}),0,t))}),e}function qn(t){const e={};return qe(t,(t,n)=>e[n]=`${t}`),e}function zn(t,e,n){return t==n.path&&Ue(e,n.parameters)}class Bn{constructor(t,e,n,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),Cn(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const r=bn(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,r[e],n),delete r[e]}),qe(r,(t,e)=>{this.deactivateRouteAndItsChildren(t,n)})}deactivateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(r===i)if(r.component){const i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(t,e,i.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet);if(n&&n.outlet){const e=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:r})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet),r=n&&t.value.component?n.children:e,i=bn(t);for(const o of Object.keys(i))this.deactivateRouteAndItsChildren(i[o],r);n&&n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated())}activateChildRoutes(t,e,n){const r=bn(e);t.children.forEach(t=>{this.activateRoutes(t,r[t.value.outlet],n),this.forwardEvent(new ke(t.value.snapshot))}),t.children.length&&this.forwardEvent(new je(t.value.snapshot))}activateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(Cn(r),r===i)if(r.component){const i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,i.children)}else this.activateChildRoutes(t,e,n);else if(r.component){const e=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const t=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),Gn(t.route)}else{const n=function(t){for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(r.snapshot),i=n?n.module.componentFactoryResolver:null;e.attachRef=null,e.route=r,e.resolver=i,e.outlet&&e.outlet.activateWith(r,i),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,n)}}function Gn(t){Cn(t.value),t.children.forEach(Gn)}class $n{constructor(t,e){this.routes=t,this.module=e}}function Qn(t){return"function"==typeof t}function Wn(t){return t instanceof We}const Yn=Symbol("INITIAL_VALUE");function Kn(){return Pt(t=>function(...t){let e=null,n=null;return Object(vt.a)(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&Object(yt.a)(t[0])&&(t=t[0]),Object(wt.a)(t,n).lift(new Ot(e))}(t.map(t=>t.pipe(Ut(1),Ht(Yn)))).pipe(qt((t,e)=>{let n=!1;return e.reduce((t,r,i)=>{if(t!==Yn)return t;if(r===Yn&&(n=!0),!n){if(!1===r)return r;if(i===e.length-1||Wn(r))return r}return t},t)},Yn),Gt(t=>t!==Yn),Object(kt.a)(t=>Wn(t)?t:!0===t),Ut(1)))}let Jn=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Ab({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&r.Hb(0,"router-outlet")},directives:function(){return[Br]},encapsulation:2}),t})();function Xn(t,e=""){for(let n=0;n<t.length;n++){const r=t[n];Zn(r,tr(e,r))}}function Zn(t,e){t.children&&Xn(t.children,e)}function tr(t,e){return e?t||e.path?t&&!e.path?`${t}/`:!t&&e.path?e.path:`${t}/${e.path}`:"":t}function er(t){const e=t.children&&t.children.map(er),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&n.outlet!==Pe&&(n.component=Jn),n}function nr(t){return t.outlet||Pe}function rr(t,e){const n=t.filter(t=>nr(t)===e);return n.push(...t.filter(t=>nr(t)!==e)),n}const ir={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function or(t,e,n){var r;if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?Object.assign({},ir):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const i=(e.matcher||Le)(n,t,e);if(!i)return Object.assign({},ir);const o={};qe(i.posParams,(t,e)=>{o[e]=t.path});const s=i.consumed.length>0?Object.assign(Object.assign({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,lastChild:i.consumed.length,parameters:s,positionalParamSegments:null!==(r=i.posParams)&&void 0!==r?r:{}}}function sr(t,e,n,r,i="corrected"){if(n.length>0&&function(t,e,n){return n.some(n=>ur(t,e,n)&&nr(n)!==Pe)}(t,n,r)){const i=new Ye(e,function(t,e,n,r){const i={};i.primary=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const o of n)if(""===o.path&&nr(o)!==Pe){const n=new Ye([],{});n._sourceSegment=t,n._segmentIndexShift=e.length,i[nr(o)]=n}return i}(t,e,r,new Ye(n,t.children)));return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(n=>ur(t,e,n))}(t,n,r)){const o=new Ye(t.segments,function(t,e,n,r,i,o){const s={};for(const u of r)if(ur(t,n,u)&&!i[nr(u)]){const n=new Ye([],{});n._sourceSegment=t,n._segmentIndexShift="legacy"===o?t.segments.length:e.length,s[nr(u)]=n}return Object.assign(Object.assign({},i),s)}(t,e,n,r,t.children,i));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}const o=new Ye(t.segments,t.children);return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}function ur(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}function ar(t,e,n,r){return!!(nr(t)===r||r!==Pe&&ur(e,n,t))&&("**"===t.path||or(e,t,n).matched)}function cr(t,e,n){return 0===e.length&&!t.children[n]}class lr{constructor(t){this.segmentGroup=t||null}}class hr{constructor(t){this.urlTree=t}}function fr(t){return new It.a(e=>e.error(new lr(t)))}function dr(t){return new It.a(e=>e.error(new hr(t)))}function pr(t){return new It.a(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class gr{constructor(t,e,n,i,o){this.configLoader=e,this.urlSerializer=n,this.urlTree=i,this.config=o,this.allowRedirects=!0,this.ngModule=t.get(r.y)}apply(){const t=sr(this.urlTree.root,[],[],this.config).segmentGroup,e=new Ye(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,Pe).pipe(Object(kt.a)(t=>this.createUrlTree(vr(t),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Wt(t=>{if(t instanceof hr)return this.allowRedirects=!1,this.match(t.urlTree);if(t instanceof lr)throw this.noMatchError(t);throw t}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,Pe).pipe(Object(kt.a)(e=>this.createUrlTree(vr(e),t.queryParams,t.fragment))).pipe(Wt(t=>{if(t instanceof lr)throw this.noMatchError(t);throw t}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,n){const r=t.segments.length>0?new Ye([],{[Pe]:t}):t;return new We(r,e,n)}expandSegmentGroup(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(Object(kt.a)(t=>new Ye([],t))):this.expandSegment(t,n,e,n.segments,r,!0)}expandChildren(t,e,n){const r=[];for(const i of Object.keys(n.children))"primary"===i?r.unshift(i):r.push(i);return Object(ht.a)(r).pipe(Xt(r=>{const i=n.children[r],o=rr(e,r);return this.expandSegmentGroup(t,o,i,r).pipe(Object(kt.a)(t=>({segment:t,outlet:r})))}),qt((t,e)=>(t[e.outlet]=e.segment,t),{}),function(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Gt((e,n)=>t(e,n,r)):ce.a,Zt(1),n?se(e):ne(()=>new Tt))}())}expandSegment(t,e,n,r,i,o){return Object(ht.a)(n).pipe(Xt(s=>this.expandSegmentAgainstRoute(t,e,n,s,r,i,o).pipe(Wt(t=>{if(t instanceof lr)return Object(ft.a)(null);throw t}))),le(t=>!!t),Wt((t,n)=>{if(t instanceof Tt||"EmptyError"===t.name){if(cr(e,r,i))return Object(ft.a)(new Ye([],{}));throw new lr(e)}throw t}))}expandSegmentAgainstRoute(t,e,n,r,i,o,s){return ar(r,e,i,o)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i,o):s&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o):fr(e):fr(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,r){const i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?dr(i):this.lineralizeSegments(n,i).pipe(Object(Jt.a)(n=>{const i=new Ye(n,{});return this.expandSegment(t,i,e,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){const{matched:s,consumedSegments:u,lastChild:a,positionalParamSegments:c}=or(e,r,i);if(!s)return fr(e);const l=this.applyRedirectCommands(u,r.redirectTo,c);return r.redirectTo.startsWith("/")?dr(l):this.lineralizeSegments(r,l).pipe(Object(Jt.a)(r=>this.expandSegment(t,e,n,r.concat(i.slice(a)),o,!1)))}matchSegmentAgainstRoute(t,e,n,r,i){if("**"===n.path)return n.loadChildren?(n._loadedConfig?Object(ft.a)(n._loadedConfig):this.configLoader.load(t.injector,n)).pipe(Object(kt.a)(t=>(n._loadedConfig=t,new Ye(r,{})))):Object(ft.a)(new Ye(r,{}));const{matched:o,consumedSegments:s,lastChild:u}=or(e,n,r);if(!o)return fr(e);const a=r.slice(u);return this.getChildConfig(t,n,r).pipe(Object(Jt.a)(t=>{const r=t.module,o=t.routes,{segmentGroup:u,slicedSegments:c}=sr(e,s,a,o),l=new Ye(u.segments,u.children);if(0===c.length&&l.hasChildren())return this.expandChildren(r,o,l).pipe(Object(kt.a)(t=>new Ye(s,t)));if(0===o.length&&0===c.length)return Object(ft.a)(new Ye(s,{}));const h=nr(n)===i;return this.expandSegment(r,l,o,c,h?Pe:i,!0).pipe(Object(kt.a)(t=>new Ye(s.concat(t.segments),t.children)))}))}getChildConfig(t,e,n){return e.children?Object(ft.a)(new $n(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Object(ft.a)(e._loadedConfig):this.runCanLoadGuards(t.injector,e,n).pipe(Object(Jt.a)(n=>n?this.configLoader.load(t.injector,e).pipe(Object(kt.a)(t=>(e._loadedConfig=t,t))):function(t){return new It.a(e=>e.error(Me(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(e))):Object(ft.a)(new $n([],t))}runCanLoadGuards(t,e,n){const r=e.canLoad;if(!r||0===r.length)return Object(ft.a)(!0);const i=r.map(r=>{const i=t.get(r);let o;if(function(t){return t&&Qn(t.canLoad)}(i))o=i.canLoad(e,n);else{if(!Qn(i))throw new Error("Invalid CanLoad guard");o=i(e,n)}return ze(o)});return Object(ft.a)(i).pipe(Kn(),Object(he.a)(t=>{if(!Wn(t))return;const e=Me(`Redirecting to "${this.urlSerializer.serialize(t)}"`);throw e.url=t,e}),Object(kt.a)(t=>!0===t))}lineralizeSegments(t,e){let n=[],r=e.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return Object(ft.a)(n);if(r.numberOfChildren>1||!r.children.primary)return pr(t.redirectTo);r=r.children.primary}}applyRedirectCommands(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreatreUrlTree(t,e,n,r){const i=this.createSegmentGroup(t,e.root,n,r);return new We(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return qe(t,(t,r)=>{if("string"==typeof t&&t.startsWith(":")){const i=t.substring(1);n[r]=e[i]}else n[r]=t}),n}createSegmentGroup(t,e,n,r){const i=this.createSegments(t,e.segments,n,r);let o={};return qe(e.children,(e,i)=>{o[i]=this.createSegmentGroup(t,e,n,r)}),new Ye(i,o)}createSegments(t,e,n,r){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,r):this.findOrReturn(e,n))}findPosParam(t,e,n){const r=n[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let n=0;for(const r of e){if(r.path===t.path)return e.splice(n),r;n++}return t}}function vr(t){const e={};for(const n of Object.keys(t.children)){const r=vr(t.children[n]);(r.segments.length>0||r.hasChildren())&&(e[n]=r)}return function(t){if(1===t.numberOfChildren&&t.children.primary){const e=t.children.primary;return new Ye(t.segments.concat(e.segments),e.children)}return t}(new Ye(t.segments,e))}class yr{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class mr{constructor(t,e){this.component=t,this.route=e}}function br(t,e,n){const r=t._root;return _r(r,e?e._root:null,n,[r.value])}function wr(t,e,n){const r=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function _r(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=bn(e);return t.children.forEach(t=>{!function(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=t.value,s=e?e.value:null,u=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const a=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!Je(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Je(t.url,e.url)||!Ue(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!jn(t,e)||!Ue(t.queryParams,e.queryParams);case"paramsChange":default:return!jn(t,e)}}(s,o,o.routeConfig.runGuardsAndResolvers);a?i.canActivateChecks.push(new yr(r)):(o.data=s.data,o._resolvedData=s._resolvedData),_r(t,e,o.component?u?u.children:null:n,r,i),a&&u&&u.outlet&&u.outlet.isActivated&&i.canDeactivateChecks.push(new mr(u.outlet.component,s))}else s&&Or(e,u,i),i.canActivateChecks.push(new yr(r)),_r(t,null,o.component?u?u.children:null:n,r,i)}(t,o[t.value.outlet],n,r.concat([t.value]),i),delete o[t.value.outlet]}),qe(o,(t,e)=>Or(t,n.getContext(e),i)),i}function Or(t,e,n){const r=bn(t),i=t.value;qe(r,(t,r)=>{Or(t,i.component?e?e.children.getContext(r):null:e,n)}),n.canDeactivateChecks.push(new mr(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}class Er{}function Ir(t){return new It.a(e=>e.error(t))}class Tr{constructor(t,e,n,r,i,o){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=o}recognize(){const t=sr(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,Pe);if(null===e)return null;const n=new In([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Pe,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new mn(n,e),i=new Tn(this.url,r);return this.inheritParamsAndData(i._root),i}inheritParamsAndData(t){const e=t.value,n=En(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}processChildren(t,e){const n=[];for(const i of Object.keys(e.children)){const r=e.children[i],o=rr(t,i),s=this.processSegmentGroup(o,r,i);if(null===s)return null;n.push(...s)}const r=function(t){const e=[];for(const n of t){if(!Sr(n)){e.push(n);continue}const t=e.find(t=>n.value.routeConfig===t.value.routeConfig);void 0!==t?t.children.push(...n.children):e.push(n)}return e}(n);return r.sort((t,e)=>t.value.outlet===Pe?-1:e.value.outlet===Pe?1:t.value.outlet.localeCompare(e.value.outlet)),r}processSegment(t,e,n,r){for(const i of t){const t=this.processSegmentAgainstRoute(i,e,n,r);if(null!==t)return t}return cr(e,n,r)?[]:null}processSegmentAgainstRoute(t,e,n,r){if(t.redirectTo||!ar(t,e,n,r))return null;let i,o=[],s=[];if("**"===t.path){const r=n.length>0?He(n).parameters:{};i=new In(n,r,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,jr(t),nr(t),t.component,t,xr(e),Cr(e)+n.length,Ar(t))}else{const r=or(e,t,n);if(!r.matched)return null;o=r.consumedSegments,s=n.slice(r.lastChild),i=new In(o,r.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,jr(t),nr(t),t.component,t,xr(e),Cr(e)+o.length,Ar(t))}const u=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),{segmentGroup:a,slicedSegments:c}=sr(e,o,s,u.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution);if(0===c.length&&a.hasChildren()){const t=this.processChildren(u,a);return null===t?null:[new mn(i,t)]}if(0===u.length&&0===c.length)return[new mn(i,[])];const l=nr(t)===r,h=this.processSegment(u,a,c,l?Pe:r);return null===h?null:[new mn(i,h)]}}function Sr(t){const e=t.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function xr(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Cr(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function jr(t){return t.data||{}}function Ar(t){return t.resolve||{}}function kr(t){return Pt(e=>{const n=t(e);return n?Object(ht.a)(n).pipe(Object(kt.a)(()=>e)):Object(ft.a)(e)})}class Nr extends class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const Pr=new r.r("ROUTES");class Dr{constructor(t,e,n,r){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=r}load(t,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const n=this.loadModuleFactory(e.loadChildren).pipe(Object(kt.a)(n=>{this.onLoadEndListener&&this.onLoadEndListener(e);const i=n.create(t);return new $n(Fe(i.injector.get(Pr,void 0,r.q.Self|r.q.Optional)).map(er),i)}),Wt(t=>{throw e._loader$=void 0,t}));return e._loader$=new At.a(n,()=>new dt.a).pipe(Object(fe.a)()),e._loader$}loadModuleFactory(t){return"string"==typeof t?Object(ht.a)(this.loader.load(t)):ze(t()).pipe(Object(Jt.a)(t=>t instanceof r.w?Object(ft.a)(t):Object(ht.a)(this.compiler.compileModuleAsync(t))))}}class Rr{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Mr,this.attachRef=null}}class Mr{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new Rr,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class Lr{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function Ur(t){throw t}function Vr(t,e,n){return e.parse("/")}function Fr(t,e){return Object(ft.a)(null)}let Hr=(()=>{class t{constructor(t,e,n,i,o,s,u,a){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=i,this.config=a,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new dt.a,this.errorHandler=Ur,this.malformedUriErrorHandler=Vr,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Fr,afterPreactivation:Fr},this.urlHandlingStrategy=new Lr,this.routeReuseStrategy=new Nr,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.ngModule=o.get(r.y),this.console=o.get(r.X);const c=o.get(r.A);this.isNgZoneEnabled=c instanceof r.A&&r.A.isInAngularZone(),this.resetConfig(a),this.currentUrlTree=new We(new Ye([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Dr(s,u,t=>this.triggerEvent(new Se(t)),t=>this.triggerEvent(new xe(t))),this.routerState=_n(this.currentUrlTree,this.rootComponentType),this.transitions=new gt({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(t){const e=this.events;return t.pipe(Gt(t=>0!==t.id),Object(kt.a)(t=>Object.assign(Object.assign({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),Pt(t=>{let n=!1,r=!1;return Object(ft.a)(t).pipe(Object(he.a)(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Pt(t=>{const n=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return Object(ft.a)(t).pipe(Pt(t=>{const n=this.transitions.getValue();return e.next(new ye(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),n!==this.transitions.getValue()?Ct.a:Promise.resolve(t)}),(r=this.ngModule.injector,i=this.configLoader,o=this.urlSerializer,s=this.config,Pt(t=>function(t,e,n,r,i){return new gr(t,e,n,r,i).apply()}(r,i,o,t.extractedUrl,s).pipe(Object(kt.a)(e=>Object.assign(Object.assign({},t),{urlAfterRedirects:e}))))),Object(he.a)(t=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:t.urlAfterRedirects})}),function(t,e,n,r,i){return Object(Jt.a)(o=>function(t,e,n,r,i="emptyOnly",o="legacy"){try{const s=new Tr(t,e,n,r,i,o).recognize();return null===s?Ir(new Er):Object(ft.a)(s)}catch(nb){return Ir(nb)}}(t,e,o.urlAfterRedirects,n(o.urlAfterRedirects),r,i).pipe(Object(kt.a)(t=>Object.assign(Object.assign({},o),{targetSnapshot:t}))))}(this.rootComponentType,this.config,t=>this.serializeUrl(t),this.paramsInheritanceStrategy,this.relativeLinkResolution),Object(he.a)(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects);const n=new _e(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.next(n)}));var r,i,o,s;if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:r,source:i,restoredState:o,extras:s}=t,u=new ye(n,this.serializeUrl(r),i,o);e.next(u);const a=_n(r,this.rootComponentType).snapshot;return Object(ft.a)(Object.assign(Object.assign({},t),{targetSnapshot:a,urlAfterRedirects:r,extras:Object.assign(Object.assign({},s),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),Ct.a}),kr(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.beforePreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),Object(he.a)(t=>{const e=new Oe(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Object(kt.a)(t=>Object.assign(Object.assign({},t),{guards:br(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(t,e){return Object(Jt.a)(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return 0===s.length&&0===o.length?Object(ft.a)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,r){return Object(ht.a)(t).pipe(Object(Jt.a)(t=>function(t,e,n,r,i){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||0===o.length)return Object(ft.a)(!0);const s=o.map(o=>{const s=wr(o,e,i);let u;if(function(t){return t&&Qn(t.canDeactivate)}(s))u=ze(s.canDeactivate(t,e,n,r));else{if(!Qn(s))throw new Error("Invalid CanDeactivate guard");u=ze(s(t,e,n,r))}return u.pipe(le())});return Object(ft.a)(s).pipe(Kn())}(t.component,t.route,n,e,r)),le(t=>!0!==t,!0))}(s,r,i,t).pipe(Object(Jt.a)(n=>n&&"boolean"==typeof n?function(t,e,n,r){return Object(ht.a)(e).pipe(Xt(e=>xt(function(t,e){return null!==t&&e&&e(new Ce(t)),Object(ft.a)(!0)}(e.route.parent,r),function(t,e){return null!==t&&e&&e(new Ae(t)),Object(ft.a)(!0)}(e.route,r),function(t,e,n){const r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(t=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)).filter(t=>null!==t).map(e=>jt(()=>{const i=e.guards.map(i=>{const o=wr(i,e.node,n);let s;if(function(t){return t&&Qn(t.canActivateChild)}(o))s=ze(o.canActivateChild(r,t));else{if(!Qn(o))throw new Error("Invalid CanActivateChild guard");s=ze(o(r,t))}return s.pipe(le())});return Object(ft.a)(i).pipe(Kn())}));return Object(ft.a)(i).pipe(Kn())}(t,e.path,n),function(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Object(ft.a)(!0);const i=r.map(r=>jt(()=>{const i=wr(r,e,n);let o;if(function(t){return t&&Qn(t.canActivate)}(i))o=ze(i.canActivate(e,t));else{if(!Qn(i))throw new Error("Invalid CanActivate guard");o=ze(i(e,t))}return o.pipe(le())}));return Object(ft.a)(i).pipe(Kn())}(t,e.route,n))),le(t=>!0!==t,!0))}(r,o,t,e):Object(ft.a)(n)),Object(kt.a)(t=>Object.assign(Object.assign({},n),{guardsResult:t})))})}(this.ngModule.injector,t=>this.triggerEvent(t)),Object(he.a)(t=>{if(Wn(t.guardsResult)){const e=Me(`Redirecting to "${this.serializeUrl(t.guardsResult)}"`);throw e.url=t.guardsResult,e}const e=new Ee(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(e)}),Gt(t=>{if(!t.guardsResult){this.resetUrlToCurrentUrlTree();const n=new be(t.id,this.serializeUrl(t.extractedUrl),"");return e.next(n),t.resolve(!1),!1}return!0}),kr(t=>{if(t.guards.canActivateChecks.length)return Object(ft.a)(t).pipe(Object(he.a)(t=>{const e=new Ie(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Pt(t=>{let n=!1;return Object(ft.a)(t).pipe((r=this.paramsInheritanceStrategy,i=this.ngModule.injector,Object(Jt.a)(t=>{const{targetSnapshot:e,guards:{canActivateChecks:n}}=t;if(!n.length)return Object(ft.a)(t);let o=0;return Object(ht.a)(n).pipe(Xt(t=>function(t,e,n,r){return function(t,e,n,r){const i=Object.keys(t);if(0===i.length)return Object(ft.a)({});const o={};return Object(ht.a)(i).pipe(Object(Jt.a)(i=>function(t,e,n,r){const i=wr(t,e,r);return ze(i.resolve?i.resolve(e,n):i(e,n))}(t[i],e,n,r).pipe(Object(he.a)(t=>{o[i]=t}))),Zt(1),Object(Jt.a)(()=>Object.keys(o).length===i.length?Object(ft.a)(o):Ct.a))}(t._resolve,t,e,r).pipe(Object(kt.a)(e=>(t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),En(t,n).resolve),null)))}(t.route,e,r,i)),Object(he.a)(()=>o++),Zt(1),Object(Jt.a)(e=>o===n.length?Object(ft.a)(t):Ct.a))})),Object(he.a)({next:()=>n=!0,complete:()=>{if(!n){const n=new be(t.id,this.serializeUrl(t.extractedUrl),"At least one route resolver didn't emit any value.");e.next(n),t.resolve(!1)}}}));var r,i}),Object(he.a)(t=>{const e=new Te(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}))}),kr(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.afterPreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),Object(kt.a)(t=>{const e=function(t,e,n){const r=An(t,e._root,n?n._root:void 0);return new wn(r,e)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:e})}),Object(he.a)(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),(o=this.rootContexts,s=this.routeReuseStrategy,u=t=>this.triggerEvent(t),Object(kt.a)(t=>(new Bn(s,t.targetRouterState,t.currentRouterState,u).activate(o),t))),Object(he.a)({next(){n=!0},complete(){n=!0}}),(i=()=>{if(!n&&!r){this.resetUrlToCurrentUrlTree();const n=new be(t.id,this.serializeUrl(t.extractedUrl),`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`);e.next(n),t.resolve(!1)}this.currentNavigation=null},t=>t.lift(new pe(i))),Wt(n=>{if(r=!0,(i=n)&&i.ngNavigationCancelingError){const r=Wn(n.url);r||(this.navigated=!0,this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));const i=new be(t.id,this.serializeUrl(t.extractedUrl),n.message);e.next(i),r?setTimeout(()=>{const e=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree);this.scheduleNavigation(e,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})},0):t.resolve(!1)}else{this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);const r=new we(t.id,this.serializeUrl(t.extractedUrl),n);e.next(r);try{t.resolve(this.errorHandler(n))}catch(Il){t.reject(Il)}}var i;return Ct.a}));var i,o,s,u}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const e=this.extractLocationChangeInfoFromEvent(t);this.shouldScheduleNavigation(this.lastLocationChangeInfo,e)&&setTimeout(()=>{const{source:t,state:n,urlTree:r}=e,i={replaceUrl:!0};if(n){const t=Object.assign({},n);delete t.navigationId,0!==Object.keys(t).length&&(i.state=t)}this.scheduleNavigation(r,t,n,i)},0),this.lastLocationChangeInfo=e}))}extractLocationChangeInfoFromEvent(t){var e;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(e=t.state)||void 0===e?void 0:e.navigationId)?t.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(t,e){if(!t)return!0;const n=e.urlTree.toString()===t.urlTree.toString();return!(e.transitionId===t.transitionId&&n&&("hashchange"===e.source&&"popstate"===t.source||"popstate"===e.source&&"hashchange"===t.source))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){Xn(t),this.config=t.map(er),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,e={}){const{relativeTo:n,queryParams:r,fragment:i,queryParamsHandling:o,preserveFragment:s}=e,u=n||this.routerState.root,a=s?this.currentUrlTree.fragment:i;let c=null;switch(o){case"merge":c=Object.assign(Object.assign({},this.currentUrlTree.queryParams),r);break;case"preserve":c=this.currentUrlTree.queryParams;break;default:c=r||null}return null!==c&&(c=this.removeEmptyProps(c)),function(t,e,n,r,i){if(0===n.length)return Dn(e.root,e.root,e,r,i);const o=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new Mn(!0,0,t);let e=0,n=!1;const r=t.reduce((t,r,i)=>{if("object"==typeof r&&null!=r){if(r.outlets){const e={};return qe(r.outlets,(t,n)=>{e[n]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(r.segmentPath)return[...t,r.segmentPath]}return"string"!=typeof r?[...t,r]:0===i?(r.split("/").forEach((r,i)=>{0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):[...t,r]},[]);return new Mn(n,e,r)}(n);if(o.toRoot())return Dn(e.root,new Ye([],{}),e,r,i);const s=function(t,e,n){if(t.isAbsolute)return new Ln(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){const t=n.snapshot._urlSegment;return new Ln(t,t===e.root,0)}const r=Nn(t.commands[0])?0:1;return function(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new Ln(r,!1,i-o)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(o,e,t),u=s.processChildren?Vn(s.segmentGroup,s.index,o.commands):Un(s.segmentGroup,s.index,o.commands);return Dn(s.segmentGroup,u,e,r,i)}(u,this.currentUrlTree,t,c,a)}navigateByUrl(t,e={skipLocationChange:!1}){const n=Wn(t)?t:this.parseUrl(t),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let e;try{e=this.urlSerializer.parse(t)}catch(nb){e=this.malformedUriErrorHandler(nb,this.urlSerializer,t)}return e}isActive(t,e){if(Wn(t))return Be(this.currentUrlTree,t,e);const n=this.parseUrl(t);return Be(this.currentUrlTree,n,e)}removeEmptyProps(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return null!=r&&(e[n]=r),e},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.events.next(new me(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.currentNavigation=null,t.resolve(!0)},t=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(t,e,n,r,i){if(this.disposed)return Promise.resolve(!1);const o=this.getTransition(),s="imperative"!==e&&"imperative"===(null==o?void 0:o.source),u=(this.lastSuccessfulId===o.id||this.currentNavigation?o.rawUrl:o.urlAfterRedirects).toString()===t.toString();if(s&&u)return Promise.resolve(!0);let a,c,l;i?(a=i.resolve,c=i.reject,l=i.promise):l=new Promise((t,e)=>{a=t,c=e});const h=++this.navigationId;return this.setTransition({id:h,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:a,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(t=>Promise.reject(t))}setBrowserUrl(t,e,n,r){const i=this.urlSerializer.serialize(t);r=r||{},this.location.isCurrentPathEqualTo(i)||e?this.location.replaceState(i,"",Object.assign(Object.assign({},r),{navigationId:n})):this.location.go(i,"",Object.assign(Object.assign({},r),{navigationId:n}))}resetStateAndUrl(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.N),r.Mb(Xe),r.Mb(Mr),r.Mb(_),r.Mb(r.s),r.Mb(r.x),r.Mb(r.i),r.Mb(void 0))},t.\u0275prov=r.Cb({token:t,factory:t.\u0275fac}),t})(),qr=(()=>{class t{constructor(t,e,n){this.router=t,this.route=e,this.locationStrategy=n,this.commands=[],this.onChanges=new dt.a,this.subscription=t.events.subscribe(t=>{t instanceof me&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,e,n,r,i){if(0!==t||e||n||r||i)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;const o={skipLocationChange:zr(this.skipLocationChange),replaceUrl:zr(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,o),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:zr(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(r.Gb(Hr),r.Gb(On),r.Gb(v))},t.\u0275dir=r.Bb({type:t,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,e){1&t&&r.Pb("click",function(t){return e.onClick(t.button,t.ctrlKey,t.shiftKey,t.altKey,t.metaKey)}),2&t&&(r.Lb("href",e.href,r.Vb),r.yb("target",e.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[r.wb]}),t})();function zr(t){return""===t||!!t}let Br=(()=>{class t{constructor(t,e,n,i,o){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new r.n,this.deactivateEvents=new r.n,this.name=i||Pe,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new Gr(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)(r.Gb(Mr),r.Gb(r.Q),r.Gb(r.j),r.Nb("name"),r.Gb(r.h))},t.\u0275dir=r.Bb({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class Gr{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===On?this.route:t===Mr?this.childContexts:this.parent.get(t,e)}}class $r{}class Qr{preload(t,e){return Object(ft.a)(null)}}let Wr=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=new Dr(e,n,e=>t.triggerEvent(new Se(e)),e=>t.triggerEvent(new xe(e)))}setUpPreloading(){this.subscription=this.router.events.pipe(Gt(t=>t instanceof me),Xt(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(r.y);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,e){const n=[];for(const r of e)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const t=r._loadedConfig;n.push(this.processRoutes(t.module,t.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(t,r)):r.children&&n.push(this.processRoutes(t,r.children));return Object(ht.a)(n).pipe(Object(St.a)(),Object(kt.a)(t=>{}))}preloadConfig(t,e){return this.preloadingStrategy.preload(e,()=>(e._loadedConfig?Object(ft.a)(e._loadedConfig):this.loader.load(t.injector,e)).pipe(Object(Jt.a)(t=>(e._loadedConfig=t,this.processRoutes(t.module,t.routes)))))}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(Hr),r.Mb(r.x),r.Mb(r.i),r.Mb(r.s),r.Mb($r))},t.\u0275prov=r.Cb({token:t,factory:t.\u0275fac}),t})(),Yr=(()=>{class t{constructor(t,e,n={}){this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof ye?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof me&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Ne&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,e){this.router.triggerEvent(new Ne(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(Hr),r.Mb(P),r.Mb(void 0))},t.\u0275prov=r.Cb({token:t,factory:t.\u0275fac}),t})();const Kr=new r.r("ROUTER_CONFIGURATION"),Jr=new r.r("ROUTER_FORROOT_GUARD"),Xr=[_,{provide:Xe,useClass:Ze},{provide:Hr,useFactory:function(t,e,n,r,i,s,u,a={},c,l){const h=new Hr(null,t,e,n,r,i,s,Fe(u));if(c&&(h.urlHandlingStrategy=c),l&&(h.routeReuseStrategy=l),function(t,e){t.errorHandler&&(e.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(e.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(e.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(e.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(e.urlUpdateStrategy=t.urlUpdateStrategy)}(a,h),a.enableTracing){const t=o();h.events.subscribe(e=>{t.logGroup(`Router Event: ${e.constructor.name}`),t.log(e.toString()),t.log(e),t.logGroupEnd()})}return h},deps:[Xe,Mr,_,r.s,r.x,r.i,Pr,Kr,[class{},new r.B],[class{},new r.B]]},Mr,{provide:On,useFactory:function(t){return t.routerState.root},deps:[Hr]},{provide:r.x,useClass:r.K},Wr,Qr,class{preload(t,e){return e().pipe(Wt(()=>Object(ft.a)(null)))}},{provide:Kr,useValue:{enableTracing:!1}}];function Zr(){return new r.z("Router",Hr)}let ti=(()=>{class t{constructor(t,e){}static forRoot(e,n){return{ngModule:t,providers:[Xr,ii(e),{provide:Jr,useFactory:ri,deps:[[Hr,new r.B,new r.J]]},{provide:Kr,useValue:n||{}},{provide:v,useFactory:ni,deps:[u,[new r.p(m),new r.B],Kr]},{provide:Yr,useFactory:ei,deps:[Hr,P,Kr]},{provide:$r,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:Qr},{provide:r.z,multi:!0,useFactory:Zr},[oi,{provide:r.d,multi:!0,useFactory:si,deps:[oi]},{provide:ai,useFactory:ui,deps:[oi]},{provide:r.b,multi:!0,useExisting:ai}]]}}static forChild(e){return{ngModule:t,providers:[ii(e)]}}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(Jr,8),r.Mb(Hr,8))},t.\u0275mod=r.Eb({type:t}),t.\u0275inj=r.Db({}),t})();function ei(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new Yr(t,e,n)}function ni(t,e,n={}){return n.useHash?new w(t,e):new b(t,e)}function ri(t){return"guarded"}function ii(t){return[{provide:r.a,multi:!0,useValue:t},{provide:Pr,multi:!0,useValue:t}]}let oi=(()=>{class t{constructor(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new dt.a}appInitializer(){return this.injector.get(c,Promise.resolve(null)).then(()=>{let t=null;const e=new Promise(e=>t=e),n=this.injector.get(Hr),r=this.injector.get(Kr);return"disabled"===r.initialNavigation?(n.setUpLocationChangeListener(),t(!0)):"enabled"===r.initialNavigation||"enabledBlocking"===r.initialNavigation?(n.hooks.afterPreactivation=()=>this.initNavigation?Object(ft.a)(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone),n.initialNavigation()):t(!0),e})}bootstrapListener(t){const e=this.injector.get(Kr),n=this.injector.get(Wr),i=this.injector.get(Yr),o=this.injector.get(Hr),s=this.injector.get(r.g);t===s.components[0]&&("enabledNonBlocking"!==e.initialNavigation&&void 0!==e.initialNavigation||o.initialNavigation(),n.setUpPreloading(),i.init(),o.resetRootComponentType(s.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.s))},t.\u0275prov=r.Cb({token:t,factory:t.\u0275fac}),t})();function si(t){return t.appInitializer.bind(t)}function ui(t){return t.bootstrapListener.bind(t)}const ai=new r.r("Router Initializer"),ci=[];let li=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Eb({type:t}),t.\u0275inj=r.Db({imports:[[ti.forRoot(ci,{relativeLinkResolution:"legacy"})],ti]}),t})(),hi=(()=>{class t{constructor(){this.title="assignment-website",this.keyword=""}send(t){this.keyword=t}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Ab({type:t,selectors:[["app-root"]],decls:1,vars:0,template:function(t,e){1&t&&r.Hb(0,"router-outlet")},directives:[Br],styles:[""]}),t})();var fi=n("spgP");const di={apiKey:"AIzaSyCdElRE4bnddKwTa1COrcdIq0XjMfBTDNs",authDomain:"ng-assignment-website.firebaseapp.com",projectId:"ng-assignment-website",storageBucket:"ng-assignment-website.appspot.com",messagingSenderId:"157659979906",appId:"1:157659979906:web:76f667a8ea4a744786549b",measurementId:"G-H8CE12D0C5"};var pi=n("VRyK"),gi=n("pxpQ"),vi=n("qgXg"),yi=n("Ylt2");class mi extends dt.a{constructor(t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,n){super(),this.scheduler=n,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=t<1?1:t,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(t){const e=this._events;e.push(t),e.length>this._bufferSize&&e.shift(),super.next(t)}nextTimeWindow(t){this._events.push(new bi(this._getNow(),t)),this._trimBufferThenGetEvents(),super.next(t)}_subscribe(t){const e=this._infiniteTimeWindow,n=e?this._events:this._trimBufferThenGetEvents(),r=this.scheduler,i=n.length;let o;if(this.closed)throw new pt.a;if(this.isStopped||this.hasError?o=de.a.EMPTY:(this.observers.push(t),o=new yi.a(this,t)),r&&t.add(t=new gi.a(t,r)),e)for(let s=0;s<i&&!t.closed;s++)t.next(n[s]);else for(let s=0;s<i&&!t.closed;s++)t.next(n[s].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),o}_getNow(){return(this.scheduler||vi.a).now()}_trimBufferThenGetEvents(){const t=this._getNow(),e=this._bufferSize,n=this._windowTime,r=this._events,i=r.length;let o=0;for(;o<i&&!(t-r[o].time<n);)o++;return i>e&&(o=Math.max(o,i-e)),o>0&&r.splice(0,o),r}}class bi{constructor(t,e){this.time=t,this.value=e}}function wi(t,e,n){let r;return r=t&&"object"==typeof t?t:{bufferSize:t,windowTime:e,refCount:!1,scheduler:n},t=>t.lift(function({bufferSize:t=Number.POSITIVE_INFINITY,windowTime:e=Number.POSITIVE_INFINITY,refCount:n,scheduler:r}){let i,o,s=0,u=!1,a=!1;return function(c){s++,i&&!u||(u=!1,i=new mi(t,e,r),o=c.subscribe({next(t){i.next(t)},error(t){u=!0,i.error(t)},complete(){a=!0,o=void 0,i.complete()}}));const l=i.subscribe(this);this.add(()=>{s--,l.unsubscribe(),o&&!a&&n&&0===s&&(o.unsubscribe(),o=void 0,i=void 0)})}}(r))}function _i(t,e){return e?Pt(()=>t,e):Pt(()=>t)}var Oi=n("tf+s");const Ei=new r.r("angularfire2.auth.use-emulator"),Ii=new r.r("angularfire2.auth.settings"),Ti=new r.r("angularfire2.auth.tenant-id"),Si=new r.r("angularfire2.auth.langugage-code"),xi=new r.r("angularfire2.auth.use-device-language"),Ci=new r.r("angularfire.auth.persistence");let ji=(()=>{class t{constructor(t,e,r,i,o,s,u,a,c,l){const h=new fi.d(i),f=Object(fi.h)(h),d=new dt.a,p=Object(ft.a)(void 0).pipe(Object(gi.b)(h.outsideAngular),Pt(()=>i.runOutsideAngular(()=>n.e(4).then(n.bind(null,"6nsN")))),Object(kt.a)(()=>Object(fi.g)(t,i,e)),Object(kt.a)(t=>i.runOutsideAngular(()=>{const e=o,n=s;return Object(fi.f)(`${t.name}.auth`,"AngularFireAuth",t,()=>{const r=i.runOutsideAngular(()=>t.auth());return e&&r.useEmulator(`http://${e.join(":")}`),u&&(r.tenantId=u),r.languageCode=a,c&&r.useDeviceLanguage(),n&&(r.settings=n),l&&r.setPersistence(l),r},[e,u,a,c,n,l])})),wi({bufferSize:1,refCount:!1}));if(N(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Object(ft.a)(null);else{p.pipe(le()).subscribe();const t=p.pipe(Pt(t=>t.getRedirectResult().then(t=>t,()=>null)),f,wi({bufferSize:1,refCount:!1})),e=t=>new It.a(e=>({unsubscribe:i.runOutsideAngular(()=>t(e))})),n=p.pipe(Pt(t=>e(t.onAuthStateChanged.bind(t)))),r=p.pipe(Pt(t=>e(t.onIdTokenChanged.bind(t))));this.authState=t.pipe(_i(n),Object(Oi.a)(h.outsideAngular),Object(gi.b)(h.insideAngular)),this.user=t.pipe(_i(r),Object(Oi.a)(h.outsideAngular),Object(gi.b)(h.insideAngular)),this.idToken=this.user.pipe(Pt(t=>t?Object(ht.a)(t.getIdToken()):Object(ft.a)(null))),this.idTokenResult=this.user.pipe(Pt(t=>t?Object(ht.a)(t.getIdTokenResult()):Object(ft.a)(null))),this.credential=Object(pi.a)(t,d,this.authState.pipe(Gt(t=>!t))).pipe(Object(kt.a)(t=>(null==t?void 0:t.user)?t:null),Object(Oi.a)(h.outsideAngular),Object(gi.b)(h.insideAngular))}return Object(fi.i)(this,p,i,{spy:{apply:(t,e,n)=>{(t.startsWith("signIn")||t.startsWith("createUser"))&&n.then(t=>d.next(t))}}})}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(fi.c),r.Mb(fi.b,8),r.Mb(r.C),r.Mb(r.A),r.Mb(Ei,8),r.Mb(Ii,8),r.Mb(Ti,8),r.Mb(Si,8),r.Mb(xi,8),r.Mb(Ci,8))},t.\u0275prov=Object(r.Cb)({factory:function(){return new t(Object(r.Mb)(fi.c),Object(r.Mb)(fi.b,8),Object(r.Mb)(r.C),Object(r.Mb)(r.A),Object(r.Mb)(Ei,8),Object(r.Mb)(Ii,8),Object(r.Mb)(Ti,8),Object(r.Mb)(Si,8),Object(r.Mb)(xi,8),Object(r.Mb)(Ci,8))},token:t,providedIn:"any"}),t})();Object(fi.e)(ji,[{app:null,applyActionCode:null,checkActionCode:null,confirmPasswordReset:null,createUserWithEmailAndPassword:null,currentUser:null,fetchSignInMethodsForEmail:null,isSignInWithEmailLink:null,getRedirectResult:null,languageCode:null,settings:null,onAuthStateChanged:null,onIdTokenChanged:null,sendSignInLinkToEmail:null,sendPasswordResetEmail:null,setPersistence:null,signInAndRetrieveDataWithCredential:null,signInAnonymously:null,signInWithCredential:null,signInWithCustomToken:null,signInWithEmailAndPassword:null,signInWithPhoneNumber:null,signInWithEmailLink:null,signInWithPopup:null,signInWithRedirect:null,signOut:null,tenantId:null,updateCurrentUser:null,useDeviceLanguage:null,useEmulator:null,verifyPasswordResetCode:null}]);let Ai=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Eb({type:t}),t.\u0275inj=r.Db({providers:[ji]}),t})();var ki=n("D0XW");function Ni(){return t=>t.lift(new Pi)}class Pi{call(t,e){return e.subscribe(new Di(t))}}class Di extends Mt.a{constructor(t){super(t),this.hasPrev=!1}_next(t){let e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)}}class Ri{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new Mi(t,this.compare,this.keySelector))}}class Mi extends Mt.a{constructor(t,e,n){super(t),this.keySelector=n,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:n}=this;e=n?n(t):t}catch(r){return this.destination.error(r)}let n=!1;if(this.hasKey)try{const{compare:t}=this;n=t(this.key,e)}catch(r){return this.destination.error(r)}else this.hasKey=!0;n||(this.key=e,this.destination.next(t))}}var Li=n("Jgta"),Ui=n("zIRd"),Vi=n("q/0M"),Fi=n("qOnz"),Hi=function(t,e){return(Hi=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function qi(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var zi,Bi="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Gi=Gi||{},$i=Bi||self;function Qi(){}function Wi(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function Yi(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var Ki="closure_uid_"+(1e9*Math.random()>>>0),Ji=0;function Xi(t,e,n){return t.call.apply(t.bind,arguments)}function Zi(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function to(t,e,n){return(to=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Xi:Zi).apply(null,arguments)}function eo(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function no(){return Date.now()}function ro(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Kb=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function io(){this.j=this.j,this.i=this.i}io.prototype.j=!1,io.prototype.ja=function(){!this.j&&(this.j=!0,this.G(),0)&&function(t){Object.prototype.hasOwnProperty.call(t,Ki)&&t[Ki]||(t[Ki]=++Ji)}(this)},io.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var oo=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},so=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function uo(t){return Array.prototype.concat.apply([],arguments)}function ao(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function co(t){return/^[\s\xa0]*$/.test(t)}var lo,ho=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function fo(t,e){return-1!=t.indexOf(e)}function po(t,e){return t<e?-1:t>e?1:0}t:{var go=$i.navigator;if(go){var vo=go.userAgent;if(vo){lo=vo;break t}}lo=""}function yo(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function mo(t){var e={};for(var n in t)e[n]=t[n];return e}var bo="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function wo(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<bo.length;o++)n=bo[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function _o(t){return _o[" "](t),t}_o[" "]=Qi;var Oo,Eo,Io=fo(lo,"Opera"),To=fo(lo,"Trident")||fo(lo,"MSIE"),So=fo(lo,"Edge"),xo=So||To,Co=fo(lo,"Gecko")&&!(fo(lo.toLowerCase(),"webkit")&&!fo(lo,"Edge"))&&!(fo(lo,"Trident")||fo(lo,"MSIE"))&&!fo(lo,"Edge"),jo=fo(lo.toLowerCase(),"webkit")&&!fo(lo,"Edge");function Ao(){var t=$i.document;return t?t.documentMode:void 0}t:{var ko="",No=(Eo=lo,Co?/rv:([^\);]+)(\)|;)/.exec(Eo):So?/Edge\/([\d\.]+)/.exec(Eo):To?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Eo):jo?/WebKit\/(\S+)/.exec(Eo):Io?/(?:Version)[ \/]?(\S+)/.exec(Eo):void 0);if(No&&(ko=No?No[1]:""),To){var Po=Ao();if(null!=Po&&Po>parseFloat(ko)){Oo=String(Po);break t}}Oo=ko}var Do={};function Ro(t){return function(t,e){var n=Do;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,function(){for(var e=0,n=ho(String(Oo)).split("."),r=ho(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var s=n[o]||"",u=r[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],u=/(\d*)(\D*)(.*)/.exec(u)||["","","",""],0==s[0].length&&0==u[0].length)break;e=po(0==s[1].length?0:parseInt(s[1],10),0==u[1].length?0:parseInt(u[1],10))||po(0==s[2].length,0==u[2].length)||po(s[2],u[2]),s=s[3],u=u[3]}while(0==e)}return 0<=e})}var Mo=$i.document&&To&&(Ao()||parseInt(Oo,10))||void 0,Lo=!To||9<=Number(Mo),Uo=To&&!Ro("9"),Vo=function(){if(!$i.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{$i.addEventListener("test",Qi,e),$i.removeEventListener("test",Qi,e)}catch(n){}return t}();function Fo(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function Ho(t,e){if(Fo.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(Co){t:{try{_o(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:qo[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}Fo.prototype.b=function(){this.defaultPrevented=!0},ro(Ho,Fo);var qo={2:"touch",3:"pen",4:"mouse"};Ho.prototype.b=function(){Ho.X.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,Uo)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}};var zo="closure_listenable_"+(1e6*Math.random()|0),Bo=0;function Go(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ca=i,this.key=++Bo,this.Y=this.Z=!1}function $o(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function Qo(t){this.src=t,this.a={},this.b=0}function Wo(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],o=oo(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&($o(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function Yo(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.Y&&o.listener==e&&o.capture==!!n&&o.ca==r)return i}return-1}Qo.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var s=Yo(t,e,r,i);return-1<s?(e=t[s],n||(e.Z=!1)):((e=new Go(e,this.src,o,!!r,i)).Z=n,t.push(e)),e};var Ko="closure_lm_"+(1e6*Math.random()|0),Jo={};function Xo(t,e,n,r,i){if(r&&r.once)return ts(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)Xo(t,e[o],n,r,i);return null}return n=as(n),t&&t[zo]?t.va(e,n,Yi(r)?!!r.capture:!!r,i):Zo(t,e,n,!1,r,i)}function Zo(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=Yi(i)?!!i.capture:!!i;if(s&&!Lo)return null;var u=ss(t);if(u||(t[Ko]=u=new Qo(t)),(n=u.add(e,n,r,s,o)).proxy)return n;if(r=function(){var t=os,e=Lo?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Vo||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(rs(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function ts(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)ts(t,e[o],n,r,i);return null}return n=as(n),t&&t[zo]?t.wa(e,n,Yi(r)?!!r.capture:!!r,i):Zo(t,e,n,!0,r,i)}function es(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)es(t,e[o],n,r,i);else r=Yi(r)?!!r.capture:!!r,n=as(n),t&&t[zo]?(t=t.c,(e=String(e).toString())in t.a&&-1<(n=Yo(o=t.a[e],n,r,i))&&($o(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--))):t&&(t=ss(t))&&(e=t.a[e.toString()],t=-1,e&&(t=Yo(e,n,r,i)),(n=-1<t?e[t]:null)&&ns(n))}function ns(t){if("number"!=typeof t&&t&&!t.Y){var e=t.src;if(e&&e[zo])Wo(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(rs(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=ss(e))?(Wo(n,t),0==n.b&&(n.src=null,e[Ko]=null)):$o(t)}}}function rs(t){return t in Jo?Jo[t]:Jo[t]="on"+t}function is(t,e){var n=t.listener,r=t.ca||t.src;return t.Z&&ns(t),n.call(r,e)}function os(t,e){if(t.Y)return!0;if(!Lo){if(!e)t:{e=["window","event"];for(var n=$i,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return is(t,e=new Ho(e,this))}return is(t,new Ho(e,this))}function ss(t){return(t=t[Ko])instanceof Qo?t:null}var us="__closure_events_fn_"+(1e9*Math.random()>>>0);function as(t){return"function"==typeof t?t:(t[us]||(t[us]=function(e){return t.handleEvent(e)}),t[us])}function cs(){io.call(this),this.c=new Qo(this),this.J=this,this.C=null}function ls(t,e){var n,r=t.C;if(r)for(n=[];r;r=r.C)n.push(r);if(t=t.J,r=e.type||e,"string"==typeof e)e=new Fo(e,t);else if(e instanceof Fo)e.target=e.target||t;else{var i=e;wo(e=new Fo(r,t),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.a=n[o];i=hs(s,r,!0,e)&&i}if(i=hs(s=e.a=t,r,!0,e)&&i,i=hs(s,r,!1,e)&&i,n)for(o=0;o<n.length;o++)i=hs(s=e.a=n[o],r,!1,e)&&i}function hs(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.Y&&s.capture==n){var u=s.listener,a=s.ca||s.src;s.Z&&Wo(t.c,s),i=!1!==u.call(a,r)&&i}}return i&&!r.defaultPrevented}ro(cs,io),cs.prototype[zo]=!0,(zi=cs.prototype).addEventListener=function(t,e,n,r){Xo(this,t,e,n,r)},zi.removeEventListener=function(t,e,n,r){es(this,t,e,n,r)},zi.G=function(){if(cs.X.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)$o(n[r]);delete e.a[t],e.b--}}this.C=null},zi.va=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},zi.wa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var fs=$i.JSON.stringify;function ds(){this.b=this.a=null}var ps,gs=new(function(){function t(t,e){this.c=t,this.f=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,this.a=(t=this.a).next,t.next=null):t=this.c(),t},t}())(function(){return new ys},function(t){t.reset()});function vs(){var t=_s,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function ys(){this.next=this.b=this.a=null}function ms(t){$i.setTimeout(function(){throw t},0)}function bs(t,e){ps||function(){var t=$i.Promise.resolve(void 0);ps=function(){t.then(Os)}}(),ws||(ps(),ws=!0),_s.add(t,e)}ds.prototype.add=function(t,e){var n=gs.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},ys.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},ys.prototype.reset=function(){this.next=this.b=this.a=null};var ws=!1,_s=new ds;function Os(){for(var t;t=vs();){try{t.a.call(t.b)}catch(n){ms(n)}var e=gs;e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}ws=!1}function Es(t,e){cs.call(this),this.b=t||1,this.a=e||$i,this.f=to(this.Za,this),this.g=no()}function Is(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function Ts(t,e,n){if("function"==typeof t)n&&(t=to(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=to(t.handleEvent,t)}return 2147483647<Number(e)?-1:$i.setTimeout(t,e||0)}function Ss(t){t.a=Ts(function(){t.a=null,t.c&&(t.c=!1,Ss(t))},t.h);var e=t.b;t.b=null,t.g.apply(null,e)}ro(Es,cs),(zi=Es.prototype).aa=!1,zi.M=null,zi.Za=function(){if(this.aa){var t=no()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),ls(this,"tick"),this.aa&&(Is(this),this.start()))}},zi.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=no())},zi.G=function(){Es.X.G.call(this),Is(this),delete this.a};var xs=function(t){function e(e,n){var r=t.call(this)||this;return r.g=e,r.h=n,r.b=null,r.c=!1,r.a=null,r}return function(t,e){function n(){this.constructor=t}Hi(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:Ss(this)},e.prototype.G=function(){t.prototype.G.call(this),this.a&&($i.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}(io);function Cs(t){io.call(this),this.b=t,this.a={}}ro(Cs,io);var js=[];function As(t,e,n,r){Array.isArray(n)||(n&&(js[0]=n.toString()),n=js);for(var i=0;i<n.length;i++){var o=Xo(e,n[i],r||t.handleEvent,!1,t.b||t);if(!o)break;t.a[o.key]=o}}function ks(t){yo(t.a,function(t,e){this.a.hasOwnProperty(e)&&ns(t)},t),t.a={}}function Ns(){this.a=!0}function Ps(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return fs(n)}catch(u){return e}}(t,n)+(r?" "+r:"")})}Cs.prototype.G=function(){Cs.X.G.call(this),ks(this)},Cs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Ns.prototype.info=function(){};var Ds={},Rs=null;function Ms(){return Rs=Rs||new cs}function Ls(t){Fo.call(this,Ds.Fa,t)}function Us(t){var e=Ms();ls(e,new Ls(e,t))}function Vs(t,e){Fo.call(this,Ds.STAT_EVENT,t),this.stat=e}function Fs(t){var e=Ms();ls(e,new Vs(e,t))}function Hs(t){Fo.call(this,Ds.Ga,t)}function qs(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return $i.setTimeout(function(){t()},e)}Ds.Fa="serverreachability",ro(Ls,Fo),Ds.STAT_EVENT="statevent",ro(Vs,Fo),Ds.Ga="timingevent",ro(Hs,Fo);var zs={NO_ERROR:0,$a:1,nb:2,mb:3,hb:4,lb:5,ob:6,Da:7,TIMEOUT:8,rb:9},Bs={fb:"complete",Bb:"success",Ea:"error",Da:"abort",tb:"ready",ub:"readystatechange",TIMEOUT:"timeout",pb:"incrementaldata",sb:"progress",ib:"downloadprogress",Jb:"uploadprogress"};function Gs(){}function $s(){}Gs.prototype.a=null;var Qs,Ws={OPEN:"a",eb:"b",Ea:"c",qb:"d"};function Ys(){Fo.call(this,"d")}function Ks(){Fo.call(this,"c")}function Js(){}function Xs(t,e,n,r){this.g=t,this.c=e,this.f=n,this.S=r||1,this.J=new Cs(this),this.P=Zs,this.R=new Es(t=xo?125:void 0),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}ro(Ys,Fo),ro(Ks,Fo),ro(Js,Gs),Qs=new Js;var Zs=45e3,tu={},eu={};function nu(t,e,n){t.H=1,t.i=Iu(mu(e)),t.j=n,t.I=!0,ru(t,null)}function ru(t,e){t.u=no(),su(t),t.l=mu(t.i);var n=t.l,r=t.S;Array.isArray(r)||(r=[String(r)]),Lu(n.b,"t",r),t.D=0,t.a=ka(t.g,t.g.C?e:null),0<t.O&&(t.F=new xs(to(t.Ca,t,t.a),t.O)),As(t.J,t.a,"readystatechange",t.Xa),e=t.B?mo(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),Us(1),function(t,e,n,r,i,o){t.info(function(){if(t.a)if(o)for(var s="",u=o.split("&"),a=0;a<u.length;a++){var c=u[a].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");s=2<=h.length&&"type"==h[1]?s+(l+"=")+c+"&":s+(l+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+s})}(t.c,t.m,t.l,t.f,t.S,t.j)}function iu(t,e,n){for(var r=!0;!t.A&&t.D<n.length;){var i=ou(t,n);if(i==eu){4==e&&(t.h=4,Fs(14),r=!1),Ps(t.c,t.f,null,"[Incomplete Response]");break}if(i==tu){t.h=4,Fs(15),Ps(t.c,t.f,n,"[Invalid Chunk]"),r=!1;break}Ps(t.c,t.f,i,null),hu(t,i)}4==e&&0==n.length&&(t.h=1,Fs(16),r=!1),t.b=t.b&&r,r?0<n.length&&!t.V&&(t.V=!0,(e=t.g).a==t&&e.U&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),Ea(e),e.F=!0,Fs(11))):(Ps(t.c,t.f,n,"[Invalid Chunked Response]"),lu(t),cu(t))}function ou(t,e){var n=t.D,r=e.indexOf("\n",n);return-1==r?eu:(n=Number(e.substring(n,r)),isNaN(n)?tu:(r+=1)+n>e.length?eu:(e=e.substr(r,n),t.D=r+n,e))}function su(t){t.T=no()+t.P,uu(t,t.P)}function uu(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=qs(to(t.Va,t),e)}function au(t){t.o&&($i.clearTimeout(t.o),t.o=null)}function cu(t){0==t.g.v||t.A||Sa(t.g,t)}function lu(t){au(t);var e=t.F;e&&"function"==typeof e.ja&&e.ja(),t.F=null,Is(t.R),ks(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ja())}function hu(t,e){try{var n=t.g;if(0!=n.v&&(n.a==t||Bu(n.b,t)))if(n.I=t.N,!t.C&&Bu(n.b,t)&&3==n.v){try{var r=n.ka.a.parse(e)}catch(gm){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.j){if(n.a){if(!(n.a.u+3e3<t.u))break t;Ta(n),pa(n)}Oa(n),Fs(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&0==n.o&&!n.m&&(n.m=qs(to(n.Sa,n),6e3));if(1>=zu(n.b)&&n.ea){try{n.ea()}catch(gm){}n.ea=void 0}}else Ca(n,11)}else if((t.C||n.a==t)&&Ta(n),!co(e))for(e=r=n.ka.a.parse(e),r=0;r<e.length;r++)if(n.P=(i=e[r])[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ga=i[2];var o=i[3];null!=o&&(n.ha=o,n.c.info("VER="+n.ha));var s=i[4];null!=s&&(n.pa=s,n.c.info("SVER="+n.pa));var u=i[5];if(null!=u&&"number"==typeof u&&0<u){var a=1.5*u;n.D=a,n.c.info("backChannelRequestTimeoutMs_="+a)}a=n;var c=t.a;if(c){var l=c.a?c.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=a.b;!h.a&&(fo(l,"spdy")||fo(l,"quic")||fo(l,"h2"))&&(h.f=h.g,h.a=new Set,h.b&&(Gu(h,h.b),h.b=null))}if(a.A){var f=c.a?c.a.getResponseHeader("X-HTTP-Session-Id"):null;f&&(a.na=f,Eu(a.B,a.A,f))}}n.v=3,n.f&&n.f.ta(),n.U&&(n.N=no()-t.u,n.c.info("Handshake RTT: "+n.N+"ms"));var d=t;if((a=n).la=Aa(a,a.C?a.ga:null,a.fa),d.C){$u(a.b,d);var p=d,g=a.D;g&&p.setTimeout(g),p.o&&(au(p),su(p)),a.a=d}else _a(a);0<n.g.length&&ya(n)}else"stop"!=i[0]&&"close"!=i[0]||Ca(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?Ca(n,7):da(n):"noop"!=i[0]&&n.f&&n.f.sa(i),n.o=0);Us(4)}catch(gm){}}function fu(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(Wi(t)||"string"==typeof t)so(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if(Wi(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"==typeof t)return t.split("");if(Wi(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function du(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof du)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function pu(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];gu(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)gu(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function gu(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(zi=Xs.prototype).setTimeout=function(t){this.P=t},zi.Xa=function(t){t=t.target;var e=this.F;e&&3==ca(t)?e.f():this.Ca(t)},zi.Ca=function(t){try{if(t==this.a)t:{var e=ca(this.a),n=this.a.ua(),r=this.a.W();if(!(3>e||3==e&&!xo&&!this.a.$())){this.A||4!=e||7==n||Us(8==n||0>=r?3:2),au(this);var i=this.a.W();this.N=i;var o=this.a.$();if(this.b=200==i,function(t,e,n,r,i,o,s){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+s})}(this.c,this.m,this.l,this.f,this.S,e,i),this.b){if(this.U&&!this.C){e:{if(this.a){var s,u=this.a;if((s=u.a?u.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!co(s)){var a=s;break e}}a=null}if(!a){this.b=!1,this.h=3,Fs(12),lu(this),cu(this);break t}Ps(this.c,this.f,a,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,hu(this,a)}this.I?(iu(this,e,o),xo&&this.b&&3==e&&(As(this.J,this.R,"tick",this.Wa),this.R.start())):(Ps(this.c,this.f,o,null),hu(this,o)),4==e&&lu(this),this.b&&!this.A&&(4==e?Sa(this.g,this):(this.b=!1,su(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.h=3,Fs(12)):(this.h=0,Fs(13)),lu(this),cu(this)}}}catch(c){}},zi.Wa=function(){if(this.a){var t=ca(this.a),e=this.a.$();this.D<e.length&&(au(this),iu(this,t,e),this.b&&4!=t&&su(this))}},zi.cancel=function(){this.A=!0,lu(this)},zi.Va=function(){this.o=null;var t=no();0<=t-this.T?(function(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.c,this.l),2!=this.H&&(Us(3),Fs(17)),lu(this),this.h=2,cu(this)):uu(this,this.T-t)},(zi=du.prototype).K=function(){pu(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},zi.L=function(){return pu(this),this.a.concat()},zi.get=function(t,e){return gu(this.b,t)?this.b[t]:e},zi.set=function(t,e){gu(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},zi.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var vu=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function yu(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof yu){this.a=void 0!==e?e:t.a,bu(this,t.f),this.j=t.j,wu(this,t.c),_u(this,t.h),this.g=t.g,e=t.b;var n=new Pu;n.c=e.c,e.a&&(n.a=new du(e.a),n.b=e.b),Ou(this,n),this.i=t.i}else t&&(n=String(t).match(vu))?(this.a=!!e,bu(this,n[1]||"",!0),this.j=Tu(n[2]||""),wu(this,n[3]||"",!0),_u(this,n[4]),this.g=Tu(n[5]||"",!0),Ou(this,n[6]||"",!0),this.i=Tu(n[7]||"")):(this.a=!!e,this.b=new Pu(null,this.a))}function mu(t){return new yu(t)}function bu(t,e,n){t.f=n?Tu(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function wu(t,e,n){t.c=n?Tu(e,!0):e}function _u(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function Ou(t,e,n){e instanceof Pu?(t.b=e,function(t,e){e&&!t.f&&(Du(t),t.c=null,t.a.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(Ru(this,e),Lu(this,n,t))},t)),t.f=e}(t.b,t.a)):(n||(e=Su(e,ku)),t.b=new Pu(e,t.a))}function Eu(t,e,n){t.b.set(e,n)}function Iu(t){return Eu(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^no()).toString(36)),t}function Tu(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Su(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,xu),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function xu(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}yu.prototype.toString=function(){var t=[],e=this.f;e&&t.push(Su(e,Cu,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(Su(e,Cu,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(Su(n,"/"==n.charAt(0)?Au:ju,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",Su(n,Nu)),t.join("")};var Cu=/[#\/\?@]/g,ju=/[#\?:]/g,Au=/[#\?]/g,ku=/[#\?@]/g,Nu=/#/g;function Pu(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Du(t){t.a||(t.a=new du,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function Ru(t,e){Du(t),e=Uu(t,e),gu(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,gu((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&pu(t)))}function Mu(t,e){return Du(t),e=Uu(t,e),gu(t.a.b,e)}function Lu(t,e,n){Ru(t,e),0<n.length&&(t.c=null,t.a.set(Uu(t,e),ao(n)),t.b+=n.length)}function Uu(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}(zi=Pu.prototype).add=function(t,e){Du(this),this.c=null,t=Uu(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},zi.forEach=function(t,e){Du(this),this.a.forEach(function(n,r){so(n,function(n){t.call(e,n,r,this)},this)},this)},zi.L=function(){Du(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},zi.K=function(t){Du(this);var e=[];if("string"==typeof t)Mu(this,t)&&(e=uo(e,this.a.get(Uu(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=uo(e,t[n])}return e},zi.set=function(t,e){return Du(this),this.c=null,Mu(this,t=Uu(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},zi.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},zi.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.K(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}}return this.c=t.join("&")};var Vu=function(){return function(t,e){this.b=t,this.a=e}}();function Fu(t){this.g=t||Hu,t=$i.PerformanceNavigationTiming?0<(t=$i.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!($i.ia&&$i.ia.ya&&$i.ia.ya()&&$i.ia.ya().Lb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var Hu=10;function qu(t){return!!t.b||!!t.a&&t.a.size>=t.f}function zu(t){return t.b?1:t.a?t.a.size:0}function Bu(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function Gu(t,e){t.a?t.a.add(e):t.b=e}function $u(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function Qu(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null!=t.a&&0!==t.a.size){var r=t.c;try{for(var i=qi(t.a.values()),o=i.next();!o.done;o=i.next())r=r.concat(o.value.s)}catch(s){e={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return ao(t.c)}function Wu(){}function Yu(){this.a=new Wu}function Ku(t,e,n){var r=n||"";try{fu(t,function(t,n){var i=t;Yi(t)&&(i=fs(t)),e.push(r+n+"="+encodeURIComponent(i))})}catch(nb){throw e.push(r+"type="+encodeURIComponent("_badmap")),nb}}function Ju(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(o){}}Fu.prototype.cancel=function(){var t,e;if(this.c=Qu(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=qi(this.a.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(i){t={error:i}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},Wu.prototype.stringify=function(t){return $i.JSON.stringify(t,void 0)},Wu.prototype.parse=function(t){return $i.JSON.parse(t,void 0)};var Xu=$i.JSON.parse;function Zu(t){cs.call(this),this.headers=new du,this.H=t||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=ta,this.D=this.F=!1}ro(Zu,cs);var ta="",ea=/^https?$/i,na=["POST","PUT"];function ra(t){return"content-type"==t.toLowerCase()}function ia(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,oa(t),ua(t)}function oa(t){t.u||(t.u=!0,ls(t,"complete"),ls(t,"error"))}function sa(t){if(t.b&&void 0!==Gi&&(!t.s[1]||4!=ca(t)||2!=t.W()))if(t.l&&4==ca(t))Ts(t.za,0,t);else if(ls(t,"readystatechange"),4==ca(t)){t.b=!1;try{var e,n=t.W();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.B).match(vu)[1]||null;if(!o&&$i.self&&$i.self.location){var s=$i.self.location.protocol;o=s.substr(0,s.length-1)}i=!ea.test(o?o.toLowerCase():"")}e=i}if(e)ls(t,"complete"),ls(t,"success");else{t.h=6;try{var u=2<ca(t)?t.a.statusText:""}catch(n){u=""}t.f=u+" ["+t.W()+"]",oa(t)}}finally{ua(t)}}}function ua(t,e){if(t.a){aa(t);var n=t.a,r=t.s[0]?Qi:null;t.a=null,t.s=null,e||ls(t,"ready");try{n.onreadystatechange=r}catch(nb){}}}function aa(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&($i.clearTimeout(t.m),t.m=null)}function ca(t){return t.a?t.a.readyState:0}function la(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return yo(t,function(t,n){e+=n,e+=":",e+=t,e+="\r\n"}),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Eu(t,e,n))}function ha(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function fa(t){this.pa=0,this.g=[],this.c=new Ns,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.V=this.i=this.O=this.l=null,this.Oa=this.R=0,this.La=ha("failFast",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.oa=this.P=-1,this.T=this.o=this.u=0,this.Ha=ha("baseRetryDelayMs",5e3,t),this.Ra=ha("retryDelaySeedMs",1e4,t),this.Ma=ha("forwardChannelMaxRetries",2,t),this.ma=ha("forwardChannelRequestTimeoutMs",2e4,t),this.Na=t&&t.g||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new Fu(t&&t.concurrentRequestLimit),this.ka=new Yu,this.da=t&&t.fastHandshake||!1,this.Ia=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.S=!1),this.U=!this.da&&this.S&&t&&t.detectBufferingProxy||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null,(this.Ka=t&&t.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}function da(t){if(ga(t),3==t.v){var e=t.R++,n=mu(t.B);Eu(n,"SID",t.J),Eu(n,"RID",e),Eu(n,"TYPE","terminate"),ba(t,n),(e=new Xs(t,t.c,e,void 0)).H=2,e.i=Iu(mu(n)),n=!1,$i.navigator&&$i.navigator.sendBeacon&&(n=$i.navigator.sendBeacon(e.i.toString(),"")),!n&&$i.Image&&((new Image).src=e.i,n=!0),n||(e.a=ka(e.g,null),e.a.ba(e.i)),e.u=no(),su(e)}ja(t)}function pa(t){t.a&&(Ea(t),t.a.cancel(),t.a=null)}function ga(t){pa(t),t.j&&($i.clearTimeout(t.j),t.j=null),Ta(t),t.b.cancel(),t.h&&("number"==typeof t.h&&$i.clearTimeout(t.h),t.h=null)}function va(t,e){t.g.push(new Vu(t.Oa++,e)),3==t.v&&ya(t)}function ya(t){qu(t.b)||t.h||(t.h=!0,bs(t.Ba,t),t.u=0)}function ma(t,e){var n;n=e?e.f:t.R++;var r=mu(t.B);Eu(r,"SID",t.J),Eu(r,"RID",n),Eu(r,"AID",t.P),ba(t,r),t.i&&t.l&&la(r,t.i,t.l),n=new Xs(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=wa(t,n,1e3),n.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),Gu(t.b,n),nu(n,r,e)}function ba(t,e){t.f&&fu({},function(t,n){Eu(e,n,t)})}function wa(t,e,n){n=Math.min(t.g.length,n);var r=t.f?to(t.f.Ja,t.f,t):null;t:for(var i=t.g,o=-1;;){var s=["count="+n];-1==o?0<n?s.push("ofs="+(o=i[0].b)):o=0:s.push("ofs="+o);for(var u=!0,a=0;a<n;a++){var c=i[a].b,l=i[a].a;if(0>(c-=o))o=Math.max(0,i[a].b-100),u=!1;else try{Ku(l,s,"req"+c+"_")}catch(dc){r&&r(l)}}if(u){r=s.join("&");break t}}return t=t.g.splice(0,n),e.s=t,r}function _a(t){t.a||t.j||(t.T=1,bs(t.Aa,t),t.o=0)}function Oa(t){return!(t.a||t.j||3<=t.o||(t.T++,t.j=qs(to(t.Aa,t),xa(t,t.o)),t.o++,0))}function Ea(t){null!=t.s&&($i.clearTimeout(t.s),t.s=null)}function Ia(t){t.a=new Xs(t,t.c,"rpc",t.T),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=mu(t.la);Eu(e,"RID","rpc"),Eu(e,"SID",t.J),Eu(e,"CI",t.H?"0":"1"),Eu(e,"AID",t.P),ba(t,e),Eu(e,"TYPE","xmlhttp"),t.i&&t.l&&la(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ga,n.H=1,n.i=Iu(mu(e)),n.j=null,n.I=!0,ru(n,t)}function Ta(t){null!=t.m&&($i.clearTimeout(t.m),t.m=null)}function Sa(t,e){var n=null;if(t.a==e){Ta(t),Ea(t),t.a=null;var r=2}else{if(!Bu(t.b,e))return;n=e.s,$u(t.b,e),r=1}if(t.I=e.N,0!=t.v)if(e.b)if(1==r){n=e.j?e.j.length:0,e=no()-e.u;var i=t.u;ls(r=Ms(),new Hs(r,n,e,i)),ya(t)}else _a(t);else if(3==(i=e.h)||0==i&&0<t.I||!(1==r&&function(t,e){return!(zu(t.b)>=t.b.f-(t.h?1:0)||(t.h?(t.g=e.s.concat(t.g),0):1==t.v||2==t.v||t.u>=(t.La?0:t.Ma)||(t.h=qs(to(t.Ba,t,e),xa(t,t.u)),t.u++,0)))}(t,e)||2==r&&Oa(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),i){case 1:Ca(t,5);break;case 4:Ca(t,10);break;case 3:Ca(t,6);break;default:Ca(t,2)}}function xa(t,e){var n=t.Ha+Math.floor(Math.random()*t.Ra);return t.f||(n*=2),n*e}function Ca(t,e){if(t.c.info("Error code "+e),2==e){var n=null;t.f&&(n=null);var r=to(t.Ya,t);n||(n=new yu("//www.google.com/images/cleardot.gif"),$i.location&&"http"==$i.location.protocol||bu(n,"https"),Iu(n)),function(t,e){var n=new Ns;if($i.Image){var r=new Image;r.onload=eo(Ju,n,r,"TestLoadImage: loaded",!0,e),r.onerror=eo(Ju,n,r,"TestLoadImage: error",!1,e),r.onabort=eo(Ju,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=eo(Ju,n,r,"TestLoadImage: timeout",!1,e),$i.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else Fs(2);t.v=0,t.f&&t.f.ra(e),ja(t),ga(t)}function ja(t){t.v=0,t.I=-1,t.f&&(0==Qu(t.b).length&&0==t.g.length||(t.b.c.length=0,ao(t.g),t.g.length=0),t.f.qa())}function Aa(t,e,n){var r=function(t){return t instanceof yu?mu(t):new yu(t,void 0)}(n);if(""!=r.c)e&&wu(r,e+"."+r.c),_u(r,r.h);else{var i=$i.location;r=function(t,e,n,r){var i=new yu(null,void 0);return t&&bu(i,t),e&&wu(i,e),n&&_u(i,n),r&&(i.g=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.V&&yo(t.V,function(t,e){Eu(r,e,t)}),n=t.na,(e=t.A)&&n&&Eu(r,e,n),Eu(r,"VER",t.ha),ba(t,r),r}function ka(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Zu(t.Na)).F=t.C,e}function Na(){}function Pa(){if(To&&!(10<=Number(Mo)))throw Error("Environmental error: no available transport.")}function Da(t,e){cs.call(this),this.a=new fa(e),this.o=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!co(t)&&(this.a.i=t),this.m=e&&e.supportsCrossDomainXhr||!1,this.l=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!co(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&e in(t=this.b)&&delete t[e]),this.f=new La(this)}function Ra(t){Ys.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function Ma(){Ks.call(this),this.status=1}function La(t){this.a=t}(zi=Zu.prototype).ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=function(t){var e;return(e=t.a)||(e=t.a={}),e}(this.H?this.H:Qs),this.a.onreadystatechange=to(this.za,this);try{this.A=!0,this.a.open(e,String(t),!0),this.A=!1}catch(o){return void ia(this,o)}t=n||"";var i=new du(this.headers);r&&fu(r,function(t,e){i.set(e,t)}),r=function(t){t:{for(var e=ra,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.L()),n=$i.FormData&&t instanceof $i.FormData,!(0<=oo(na,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(t,e){this.a.setRequestHeader(e,t)},this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{aa(this),0<this.o&&((this.D=function(t){return To&&Ro(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=to(this.xa,this)):this.m=Ts(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(o){ia(this,o)}},zi.xa=function(){void 0!==Gi&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,ls(this,"timeout"),this.abort(8))},zi.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,ls(this,"complete"),ls(this,"abort"),ua(this))},zi.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),ua(this,!0)),Zu.X.G.call(this)},zi.za=function(){this.j||(this.A||this.l||this.g?sa(this):this.Ua())},zi.Ua=function(){sa(this)},zi.W=function(){try{return 2<ca(this)?this.a.status:-1}catch(Eo){return-1}},zi.$=function(){try{return this.a?this.a.responseText:""}catch(Eo){return""}},zi.Pa=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),Xu(e)}},zi.ua=function(){return this.h},zi.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(zi=fa.prototype).ha=8,zi.v=1,zi.Ba=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new Xs(this,this.c,t,void 0),r=this.l;if(this.O&&(r?wo(r=mo(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)t:{for(var i=e=0;i<this.g.length;i++){var o=this.g[i];if(void 0===(o="__data__"in o.a&&"string"==typeof(o=o.a.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=i;break t}if(4096===e||i===this.g.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=wa(this,n,e),Eu(i=mu(this.B),"RID",t),Eu(i,"CVER",22),this.A&&Eu(i,"X-HTTP-Session-Id",this.A),ba(this,i),this.i&&r&&la(i,this.i,r),Gu(this.b,n),this.Ia&&Eu(i,"TYPE","init"),this.da?(Eu(i,"$req",e),Eu(i,"SID","null"),n.U=!0,nu(n,i,null)):nu(n,i,e),this.v=2}}else 3==this.v&&(t?ma(this,t):0==this.g.length||qu(this.b)||ma(this))},zi.Aa=function(){if(this.j=null,Ia(this),this.U&&!(this.F||null==this.a||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=qs(to(this.Ta,this),t)}},zi.Ta=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,Fs(10),pa(this),Ia(this))},zi.Sa=function(){null!=this.m&&(this.m=null,pa(this),Oa(this),Fs(19))},zi.Ya=function(t){t?(this.c.info("Successfully pinged google.com"),Fs(2)):(this.c.info("Failed to ping google.com"),Fs(1))},(zi=Na.prototype).ta=function(){},zi.sa=function(){},zi.ra=function(){},zi.qa=function(){},zi.Ja=function(){},Pa.prototype.a=function(t,e){return new Da(t,e)},ro(Da,cs),Da.prototype.g=function(){this.a.f=this.f,this.m&&(this.a.C=!0);var t=this.a,e=this.o,n=this.b||void 0;Fs(0),t.fa=e,t.V=n||{},t.H=t.S,t.B=Aa(t,null,t.fa),ya(t)},Da.prototype.close=function(){da(this.a)},Da.prototype.h=function(t){if("string"==typeof t){var e={};e.__data__=t,va(this.a,e)}else this.l?((e={}).__data__=fs(t),va(this.a,e)):va(this.a,t)},Da.prototype.G=function(){this.a.f=null,delete this.f,da(this.a),delete this.a,Da.X.G.call(this)},ro(Ra,Ys),ro(Ma,Ks),ro(La,Na),La.prototype.ta=function(){ls(this.a,"a")},La.prototype.sa=function(t){ls(this.a,new Ra(t))},La.prototype.ra=function(t){ls(this.a,new Ma(t))},La.prototype.qa=function(){ls(this.a,"b")},Pa.prototype.createWebChannel=Pa.prototype.a,Da.prototype.send=Da.prototype.h,Da.prototype.open=Da.prototype.g,Da.prototype.close=Da.prototype.close,zs.NO_ERROR=0,zs.TIMEOUT=8,zs.HTTP_ERROR=6,Bs.COMPLETE="complete",$s.EventType=Ws,Ws.OPEN="a",Ws.CLOSE="b",Ws.ERROR="c",Ws.MESSAGE="d",cs.prototype.listen=cs.prototype.va,Zu.prototype.listenOnce=Zu.prototype.wa,Zu.prototype.getLastError=Zu.prototype.Qa,Zu.prototype.getLastErrorCode=Zu.prototype.ua,Zu.prototype.getStatus=Zu.prototype.W,Zu.prototype.getResponseJson=Zu.prototype.Pa,Zu.prototype.getResponseText=Zu.prototype.$,Zu.prototype.send=Zu.prototype.ba;var Ua=zs,Va=Bs,Fa=Ds,Ha=$s,qa=Zu,za=n("mrSG"),Ba=function(t,e,n,r,i,o){this.t=t,this.persistenceKey=e,this.host=n,this.ssl=r,this.forceLongPolling=i,this.i=o},Ga=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"o",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),$a=new Vi.b("@firebase/firestore");function Qa(){return $a.logLevel}function Wa(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if($a.logLevel<=Vi.a.DEBUG){var r=e.map(Ja);$a.debug.apply($a,Object(za.f)(["Firestore (8.3.0): "+t],r))}}function Ya(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if($a.logLevel<=Vi.a.ERROR){var r=e.map(Ja);$a.error.apply($a,Object(za.f)(["Firestore (8.3.0): "+t],r))}}function Ka(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if($a.logLevel<=Vi.a.WARN){var r=e.map(Ja);$a.warn.apply($a,Object(za.f)(["Firestore (8.3.0): "+t],r))}}function Ja(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(nb){return t}}function Xa(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.3.0) INTERNAL ASSERTION FAILED: "+t;throw Ya(e),new Error(e)}function Za(t,e){t||Xa()}function tc(t,e){return t}function ec(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var nc=function(){function t(){}return t.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=ec(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function rc(t,e){return t<e?-1:t>e?1:0}function ic(t,e,n){return t.length===e.length&&t.every(function(t,r){return n(t,e[r])})}function oc(t){return t+"\0"}var sc=function(){function t(t){this.h=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return btoa(this.h)},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.h)},t.prototype.l=function(){return 2*this.h.length},t.prototype._=function(t){return rc(this.h,t.h)},t.prototype.isEqual=function(t){return this.h===t.h},t}();sc.T=new sc("");var uc={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},ac=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return Object(za.c)(e,t),e}(Error),cc=function(){function t(t){this.I=t}return t.fromBase64String=function(e){try{return new t(sc.fromBase64String(e))}catch(e){throw new ac(uc.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(sc.fromUint8Array(e))},t.prototype.toBase64=function(){return this.I.toBase64()},t.prototype.toUint8Array=function(){return this.I.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this.I.isEqual(t.I)},t}(),lc=function(){function t(t){this.uid=t}return t.prototype.m=function(){return null!=this.uid},t.prototype.A=function(){return this.m()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();lc.UNAUTHENTICATED=new lc(null),lc.R=new lc("google-credentials-uid"),lc.P=new lc("first-party-uid");var hc=function(t,e){this.user=e,this.type="OAuth",this.g={},this.g.Authorization="Bearer "+t},fc=function(){function t(){this.V=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.p=function(){},t.prototype.v=function(t){this.V=t,t(lc.UNAUTHENTICATED)},t.prototype.S=function(){this.V=null},t}(),dc=function(){function t(t){var e=this;this.D=null,this.currentUser=lc.UNAUTHENTICATED,this.C=!1,this.N=0,this.V=null,this.forceRefresh=!1,this.D=function(){e.N++,e.currentUser=e.$(),e.C=!0,e.V&&e.V(e.currentUser)},this.N=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.D):(this.D(null),t.get().then(function(t){e.auth=t,e.D&&e.auth.addAuthTokenListener(e.D)},function(){}))}return t.prototype.getToken=function(){var t=this,e=this.N,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(function(n){return t.N!==e?(Wa("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(Za("string"==typeof n.accessToken),new hc(n.accessToken,t.currentUser)):null}):Promise.resolve(null)},t.prototype.p=function(){this.forceRefresh=!0},t.prototype.v=function(t){this.V=t,this.C&&t(this.currentUser)},t.prototype.S=function(){this.auth&&this.auth.removeAuthTokenListener(this.D),this.D=null,this.V=null},t.prototype.$=function(){var t=this.auth&&this.auth.getUid();return Za(null===t||"string"==typeof t),new lc(t)},t}(),pc=function(){function t(t,e){this.F=t,this.O=e,this.type="FirstParty",this.user=lc.P}return Object.defineProperty(t.prototype,"g",{get:function(){var t={"X-Goog-AuthUser":this.O},e=this.F.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),t},enumerable:!1,configurable:!0}),t}(),gc=function(){function t(t,e){this.F=t,this.O=e}return t.prototype.getToken=function(){return Promise.resolve(new pc(this.F,this.O))},t.prototype.v=function(t){t(lc.P)},t.prototype.S=function(){},t.prototype.p=function(){},t}(),vc=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.k=function(t){return n.M(t)},this.L=function(t){return e.B(t)})}return t.prototype.M=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.L&&this.L(t),t},t}();vc.q=-1;var yc=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new ac(uc.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new ac(uc.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new ac(uc.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ac(uc.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,1e6*(e-1e3*n))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype.U=function(t){return this.seconds===t.seconds?rc(this.nanoseconds,t.nanoseconds):rc(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),mc=function(){function t(t){this.timestamp=t}return t.K=function(e){return new t(e)},t.min=function(){return new t(new yc(0,0))},t.prototype._=function(t){return this.timestamp.U(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.W=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.j=function(){return this.timestamp},t}(),bc=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&Xa(),void 0===n?n=t.length-e:n>t.length-e&&Xa(),this.segments=t,this.offset=e,this.G=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.G},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.H(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(function(t){n.push(t)}):n.push(e),this.J(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.Y=function(t){return this.J(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)},t.prototype.X=function(){return this.J(this.segments,this.offset,this.length-1)},t.prototype.Z=function(){return this.segments[this.offset]},t.prototype.tt=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.et=function(){return 0===this.length},t.prototype.nt=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.st=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.it=function(){return this.segments.slice(this.offset,this.limit())},t.H=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),wc=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(za.c)(e,t),e.prototype.J=function(t,n,r){return new e(t,n,r)},e.prototype.rt=function(){return this.it().join("/")},e.prototype.toString=function(){return this.rt()},e.ot=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,o=t;i<o.length;i++){var s=o[i];if(s.indexOf("//")>=0)throw new ac(uc.INVALID_ARGUMENT,"Invalid segment ("+s+"). Paths must not contain // in them.");r.push.apply(r,s.split("/").filter(function(t){return t.length>0}))}return new e(r)},e.ct=function(){return new e([])},e}(bc),_c=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Oc=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(za.c)(e,t),e.prototype.J=function(t,n,r){return new e(t,n,r)},e.at=function(t){return _c.test(t)},e.prototype.rt=function(){return this.it().map(function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.at(t)||(t="`"+t+"`"),t}).join(".")},e.prototype.toString=function(){return this.rt()},e.prototype.ut=function(){return 1===this.length&&"__name__"===this.get(0)},e.ht=function(){return new e(["__name__"])},e.lt=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new ac(uc.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},s=!1;i<t.length;){var u=t[i];if("\\"===u){if(i+1===t.length)throw new ac(uc.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var a=t[i+1];if("\\"!==a&&"."!==a&&"`"!==a)throw new ac(uc.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=a,i+=2}else"`"===u?(s=!s,i++):"."!==u||s?(r+=u,i++):(o(),i++)}if(o(),s)throw new ac(uc.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.ct=function(){return new e([])},e}(bc),Ec=function(){function t(t){this.path=t}return t._t=function(e){return new t(wc.ot(e))},t.ft=function(e){return new t(wc.ot(e).Y(5))},t.prototype.dt=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===wc.H(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.H=function(t,e){return wc.H(t.path,e.path)},t.wt=function(t){return t.length%2==0},t.Et=function(e){return new t(new wc(e.slice()))},t}();function Ic(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Tc(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Sc(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var xc=function(){function t(t){this.fields=t,t.sort(Oc.H)}return t.prototype.Tt=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].nt(t))return!0;return!1},t.prototype.isEqual=function(t){return ic(this.fields,t.fields,function(t,e){return t.isEqual(e)})},t}(),Cc=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function jc(t){if(Za(!!t),"string"==typeof t){var e=0,n=Cc.exec(t);if(Za(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Ac(t.seconds),nanos:Ac(t.nanos)}}function Ac(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function kc(t){return"string"==typeof t?sc.fromBase64String(t):sc.fromUint8Array(t)}function Nc(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Pc(t){var e=t.mapValue.fields.__previous_value__;return Nc(e)?Pc(e):e}function Dc(t){var e=jc(t.mapValue.fields.__local_write_time__.timestampValue);return new yc(e.seconds,e.nanos)}function Rc(t){return null==t}function Mc(t){return 0===t&&1/t==-1/0}function Lc(t){return"number"==typeof t&&Number.isInteger(t)&&!Mc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}function Uc(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Nc(t)?4:10:Xa()}function Vc(t,e){var n=Uc(t);if(n!==Uc(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Dc(t).isEqual(Dc(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=jc(t.timestampValue),r=jc(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return kc(t.bytesValue).isEqual(kc(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return Ac(t.geoPointValue.latitude)===Ac(e.geoPointValue.latitude)&&Ac(t.geoPointValue.longitude)===Ac(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return Ac(t.integerValue)===Ac(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=Ac(t.doubleValue),r=Ac(e.doubleValue);return n===r?Mc(n)===Mc(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return ic(t.arrayValue.values||[],e.arrayValue.values||[],Vc);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(Ic(n)!==Ic(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Vc(n[i],r[i])))return!1;return!0}(t,e);default:return Xa()}}function Fc(t,e){return void 0!==(t.values||[]).find(function(t){return Vc(t,e)})}function Hc(t,e){var n=Uc(t),r=Uc(e);if(n!==r)return rc(n,r);switch(n){case 0:return 0;case 1:return rc(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=Ac(t.integerValue||t.doubleValue),r=Ac(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return qc(t.timestampValue,e.timestampValue);case 4:return qc(Dc(t),Dc(e));case 5:return rc(t.stringValue,e.stringValue);case 6:return function(t,e){var n=kc(t),r=kc(e);return n._(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var o=rc(n[i],r[i]);if(0!==o)return o}return rc(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=rc(Ac(t.latitude),Ac(e.latitude));return 0!==n?n:rc(Ac(t.longitude),Ac(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=Hc(n[i],r[i]);if(o)return o}return rc(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var s=0;s<r.length&&s<o.length;++s){var u=rc(r[s],o[s]);if(0!==u)return u;var a=Hc(n[r[s]],i[o[s]]);if(0!==a)return a}return rc(r.length,o.length)}(t.mapValue,e.mapValue);default:throw Xa()}}function qc(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return rc(t,e);var n=jc(t),r=jc(e),i=rc(n.seconds,r.seconds);return 0!==i?i:rc(n.nanos,r.nanos)}function zc(t){return Bc(t)}function Bc(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){var e=jc(t);return"time("+e.seconds+","+e.nanos+")"}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?kc(t.bytesValue).toBase64():"referenceValue"in t?Ec.ft(t.referenceValue).toString():"geoPointValue"in t?"geo("+(e=t.geoPointValue).latitude+","+e.longitude+")":"arrayValue"in t?function(t){for(var e="[",n=!0,r=0,i=t.values||[];r<i.length;r++)n?n=!1:e+=",",e+=Bc(i[r]);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){for(var e="{",n=!0,r=0,i=Object.keys(t.fields||{}).sort();r<i.length;r++){var o=i[r];n?n=!1:e+=",",e+=o+":"+Bc(t.fields[o])}return e+"}"}(t.mapValue):Xa();var e}function Gc(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.rt()}}function $c(t){return!!t&&"integerValue"in t}function Qc(t){return!!t&&"arrayValue"in t}function Wc(t){return!!t&&"nullValue"in t}function Yc(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Kc(t){return!!t&&"mapValue"in t}var Jc=function(){function t(t){this.proto=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t.et())return this.proto;for(var e=this.proto,n=0;n<t.length-1;++n){if(!e.mapValue.fields)return null;if(!Kc(e=e.mapValue.fields[t.get(n)]))return null}return(e=(e.mapValue.fields||{})[t.tt()])||null},t.prototype.isEqual=function(t){return Vc(this.proto,t.proto)},t}(),Xc=function(){function t(t){void 0===t&&(t=Jc.empty()),this.It=t,this.At=new Map}return t.prototype.set=function(t,e){return this.Rt(t,e),this},t.prototype.delete=function(t){return this.Rt(t,null),this},t.prototype.Rt=function(t,e){for(var n=this.At,r=0;r<t.length-1;++r){var i=t.get(r),o=n.get(i);o instanceof Map?n=o:o&&10===Uc(o)?(o=new Map(Object.entries(o.mapValue.fields||{})),n.set(i,o),n=o):(o=new Map,n.set(i,o),n=o)}n.set(t.tt(),e)},t.prototype.Pt=function(){var t=this.yt(Oc.ct(),this.At);return null!=t?new Jc(t):this.It},t.prototype.yt=function(t,e){var n=this,r=!1,i=this.It.field(t),o=Kc(i)?Object.assign({},i.mapValue.fields):{};return e.forEach(function(e,i){if(e instanceof Map){var s=n.yt(t.child(i),e);null!=s&&(o[i]=s,r=!0)}else null!==e?(o[i]=e,r=!0):o.hasOwnProperty(i)&&(delete o[i],r=!0)}),r?{mapValue:{fields:o}}:null},t}();function Zc(t){var e=[];return Tc(t.fields||{},function(t,n){var r=new Oc([t]);if(Kc(n)){var i=Zc(n.mapValue).fields;if(0===i.length)e.push(r);else for(var o=0,s=i;o<s.length;o++)e.push(r.child(s[o]))}else e.push(r)}),new xc(e)}var tl=function(t,e){this.key=t,this.version=e},el=function(t){function e(e,n,r,i){var o=this;return(o=t.call(this,e,n)||this).gt=r,o.Vt=!!i.Vt,o.hasCommittedMutations=!!i.hasCommittedMutations,o}return Object(za.c)(e,t),e.prototype.field=function(t){return this.gt.field(t)},e.prototype.data=function(){return this.gt},e.prototype.bt=function(){return this.gt.proto},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.Vt===t.Vt&&this.hasCommittedMutations===t.hasCommittedMutations&&this.gt.isEqual(t.gt)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.gt.toString()+", {hasLocalMutations: "+this.Vt+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.Vt||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e}(tl),nl=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n)||this).hasCommittedMutations=!(!r||!r.hasCommittedMutations),i}return Object(za.c)(e,t),e.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.hasCommittedMutations===this.hasCommittedMutations&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(tl),rl=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(za.c)(e,t),e.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(tl),il=function(t,e,n,r,i,o,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.vt=null};function ol(t,e,n,r,i,o,s){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),new il(t,e,n,r,i,o,s)}function sl(t){var e=tc(t);if(null===e.vt){var n=e.path.rt();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(function(t){return function(t){return t.field.rt()+t.op.toString()+zc(t.value)}(t)}).join(","),n+="|ob:",n+=e.orderBy.map(function(t){return function(t){return t.field.rt()+t.dir}(t)}).join(","),Rc(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=bl(e.startAt)),e.endAt&&(n+="|ub:",n+=bl(e.endAt)),e.vt=n}return e.vt}function ul(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!_l(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if((i=t.filters[r]).op!==(o=e.filters[r]).op||!i.field.isEqual(o.field)||!Vc(i.value,o.value))return!1;var i,o;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!El(t.startAt,e.startAt)&&El(t.endAt,e.endAt)}function al(t){return Ec.wt(t.path)&&null===t.collectionGroup&&0===t.filters.length}var cl=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return Object(za.c)(e,t),e.create=function(t,n,r){return t.ut()?"in"===n||"not-in"===n?this.St(t,n,r):new ll(t,n,r):"array-contains"===n?new pl(t,r):"in"===n?new gl(t,r):"not-in"===n?new vl(t,r):"array-contains-any"===n?new yl(t,r):new e(t,n,r)},e.St=function(t,e,n){return"in"===e?new hl(t,n):new fl(t,n)},e.prototype.matches=function(t){var e=t.field(this.field);return"!="===this.op?null!==e&&this.Dt(Hc(e,this.value)):null!==e&&Uc(this.value)===Uc(e)&&this.Dt(Hc(e,this.value))},e.prototype.Dt=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return Xa()}},e.prototype.Ct=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}(function(){}),ll=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=Ec.ft(r.referenceValue),i}return Object(za.c)(e,t),e.prototype.matches=function(t){var e=Ec.H(t.key,this.key);return this.Dt(e)},e}(cl),hl=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=dl(0,n),r}return Object(za.c)(e,t),e.prototype.matches=function(t){return this.keys.some(function(e){return e.isEqual(t.key)})},e}(cl),fl=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=dl(0,n),r}return Object(za.c)(e,t),e.prototype.matches=function(t){return!this.keys.some(function(e){return e.isEqual(t.key)})},e}(cl);function dl(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(function(t){return Ec.ft(t.referenceValue)})}var pl=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return Object(za.c)(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return Qc(e)&&Fc(e.arrayValue,this.value)},e}(cl),gl=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return Object(za.c)(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&Fc(this.value.arrayValue,e)},e}(cl),vl=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return Object(za.c)(e,t),e.prototype.matches=function(t){if(Fc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.field(this.field);return null!==e&&!Fc(this.value.arrayValue,e)},e}(cl),yl=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return Object(za.c)(e,t),e.prototype.matches=function(t){var e=this,n=t.field(this.field);return!(!Qc(n)||!n.arrayValue.values)&&n.arrayValue.values.some(function(t){return Fc(e.value.arrayValue,t)})},e}(cl),ml=function(t,e){this.position=t,this.before=e};function bl(t){return(t.before?"b":"a")+":"+t.position.map(function(t){return zc(t)}).join(",")}var wl=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function _l(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function Ol(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var o=e[i],s=t.position[i];if(r=o.field.ut()?Ec.H(Ec.ft(s.referenceValue),n.key):Hc(s,n.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function El(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!Vc(t.position[n],e.position[n]))return!1;return!0}var Il=function(t,e,n,r,i,o,s,u){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===s&&(s=null),void 0===u&&(u=null),this.path=t,this.collectionGroup=e,this.xt=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=s,this.endAt=u,this.Nt=null,this.$t=null};function Tl(t,e,n,r,i,o,s,u){return new Il(t,e,n,r,i,o,s,u)}function Sl(t){return new Il(t)}function xl(t){return!Rc(t.limit)&&"F"===t.limitType}function Cl(t){return!Rc(t.limit)&&"L"===t.limitType}function jl(t){return t.xt.length>0?t.xt[0].field:null}function Al(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.Ct())return r.field}return null}function kl(t){return null!==t.collectionGroup}function Nl(t){var e=tc(t);if(null===e.Nt){e.Nt=[];var n=Al(e),r=jl(e);if(null!==n&&null===r)n.ut()||e.Nt.push(new wl(n)),e.Nt.push(new wl(Oc.ht(),"asc"));else{for(var i=!1,o=0,s=e.xt;o<s.length;o++){var u=s[o];e.Nt.push(u),u.field.ut()&&(i=!0)}if(!i){var a=e.xt.length>0?e.xt[e.xt.length-1].dir:"asc";e.Nt.push(new wl(Oc.ht(),a))}}}return e.Nt}function Pl(t){var e=tc(t);if(!e.$t)if("F"===e.limitType)e.$t=ol(e.path,e.collectionGroup,Nl(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=Nl(e);r<i.length;r++){var o=i[r];n.push(new wl(o.field,"desc"===o.dir?"asc":"desc"))}var s=e.endAt?new ml(e.endAt.position,!e.endAt.before):null,u=e.startAt?new ml(e.startAt.position,!e.startAt.before):null;e.$t=ol(e.path,e.collectionGroup,n,e.filters,e.limit,s,u)}return e.$t}function Dl(t,e,n){return new Il(t.path,t.collectionGroup,t.xt.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Rl(t,e){return ul(Pl(t),Pl(e))&&t.limitType===e.limitType}function Ml(t){return sl(Pl(t))+"|lt:"+t.limitType}function Ll(t){return"Query(target="+function(t){var e=t.path.rt();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map(function(t){return(e=t).field.rt()+" "+e.op+" "+zc(e.value);var e}).join(", ")+"]"),Rc(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map(function(t){return function(t){return t.field.rt()+" ("+t.dir+")"}(t)}).join(", ")+"]"),t.startAt&&(e+=", startAt: "+bl(t.startAt)),t.endAt&&(e+=", endAt: "+bl(t.endAt)),"Target("+e+")"}(Pl(t))+"; limitType="+t.limitType+")"}function Ul(t,e){return function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.dt(t.collectionGroup)&&t.path.nt(n):Ec.wt(t.path)?t.path.isEqual(n):t.path.st(n)}(t,e)&&function(t,e){for(var n=0,r=t.xt;n<r.length;n++){var i=r[n];if(!i.field.ut()&&null===e.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!Ol(t.startAt,Nl(t),e)||t.endAt&&Ol(t.endAt,Nl(t),e))}(t,e)}function Vl(t){return function(e,n){for(var r=!1,i=0,o=Nl(t);i<o.length;i++){var s=o[i],u=Fl(s,e,n);if(0!==u)return u;r=r||s.field.ut()}return 0}}function Fl(t,e,n){var r=t.field.ut()?Ec.H(e.key,n.key):function(t,e,n){var r=e.field(t),i=n.field(t);return null!==r&&null!==i?Hc(r,i):Xa()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Xa()}}var Hl=function(){function t(t,e,n,r,i,o,s){void 0===i&&(i=mc.min()),void 0===o&&(o=mc.min()),void 0===s&&(s=sc.T),this.target=t,this.targetId=e,this.Ft=n,this.sequenceNumber=r,this.Ot=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return t.prototype.kt=function(e){return new t(this.target,this.targetId,this.Ft,e,this.Ot,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.Mt=function(e,n){return new t(this.target,this.targetId,this.Ft,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.Lt=function(e){return new t(this.target,this.targetId,this.Ft,this.sequenceNumber,this.Ot,e,this.resumeToken)},t}();function ql(t,e){if(t.Bt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Mc(e)?"-0":e}}function zl(t){return{integerValue:""+t}}function Bl(t,e){return Lc(e)?zl(e):ql(t,e)}var Gl=function(){this.qt=void 0};function $l(t,e,n){return t instanceof Yl?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof Kl?Jl(t,e):t instanceof Xl?Zl(t,e):function(t,e){var n=Wl(t,e),r=eh(n)+eh(t.Ut);return $c(n)&&$c(t.Ut)?zl(r):ql(t.Qt,r)}(t,e)}function Ql(t,e,n){return t instanceof Kl?Jl(t,e):t instanceof Xl?Zl(t,e):n}function Wl(t,e){return t instanceof th?$c(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var Yl=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(za.c)(e,t),e}(Gl),Kl=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(za.c)(e,t),e}(Gl);function Jl(t,e){for(var n=nh(e),r=function(t){n.some(function(e){return Vc(e,t)})||n.push(t)},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Xl=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(za.c)(e,t),e}(Gl);function Zl(t,e){for(var n=nh(e),r=function(t){n=n.filter(function(e){return!Vc(e,t)})},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var th=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Qt=e,r.Ut=n,r}return Object(za.c)(e,t),e}(Gl);function eh(t){return Ac(t.integerValue||t.doubleValue)}function nh(t){return Qc(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var rh=function(t,e){this.field=t,this.transform=e},ih=function(t,e){this.version=t,this.transformResults=e},oh=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.Kt=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"Wt",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function sh(t,e){return void 0!==t.updateTime?e instanceof el&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e instanceof el}var uh=function(){};function ah(t,e,n){return t instanceof dh?function(t,e,n){var r=t.value,i=vh(t.fieldTransforms,e,n.transformResults);return r=mh(t.fieldTransforms,r,i),new el(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):t instanceof ph?function(t,e,n){if(!sh(t.jt,e))return new rl(t.key,n.version);var r=gh(t,e,vh(t.fieldTransforms,e,n.transformResults));return new el(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):function(t,e,n){return new nl(t.key,n.version,{hasCommittedMutations:!0})}(t,0,n)}function ch(t,e,n){return t instanceof dh?function(t,e,n){if(!sh(t.jt,e))return e;var r=t.value,i=yh(t.fieldTransforms,n,e);r=mh(t.fieldTransforms,r,i);var o=fh(e);return new el(t.key,o,r,{Vt:!0})}(t,e,n):t instanceof ph?function(t,e,n){if(!sh(t.jt,e))return e;var r=fh(e),i=gh(t,e,yh(t.fieldTransforms,n,e));return new el(t.key,r,i,{Vt:!0})}(t,e,n):function(t,e){return sh(t.jt,e)?new nl(t.key,mc.min()):e}(t,e)}function lh(t,e){return function(t,e){for(var n=null,r=0,i=t;r<i.length;r++){var o=i[r],s=e instanceof el?e.field(o.field):void 0,u=Wl(o.transform,s||null);null!=u&&(n=null==n?(new Xc).set(o.field,u):n.set(o.field,u))}return n?n.Pt():null}(t.fieldTransforms,e)}function hh(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.jt.isEqual(e.jt)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&ic(t,e,function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof Kl&&e instanceof Kl||t instanceof Xl&&e instanceof Xl?ic(t.elements,e.elements,Vc):t instanceof th&&e instanceof th?Vc(t.Ut,e.Ut):t instanceof Yl&&e instanceof Yl}(t.transform,e.transform)}(t,e)})}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.Gt.isEqual(e.Gt))}function fh(t){return t instanceof el?t.version:mc.min()}var dh=function(t){function e(e,n,r,i){void 0===i&&(i=[]);var o=this;return(o=t.call(this)||this).key=e,o.value=n,o.jt=r,o.fieldTransforms=i,o.type=0,o}return Object(za.c)(e,t),e}(uh),ph=function(t){function e(e,n,r,i,o){void 0===o&&(o=[]);var s=this;return(s=t.call(this)||this).key=e,s.data=n,s.Gt=r,s.jt=i,s.fieldTransforms=o,s.type=1,s}return Object(za.c)(e,t),e}(uh);function gh(t,e,n){var r;return r=function(t,e){var n=new Xc(e);return t.Gt.fields.forEach(function(e){if(!e.et()){var r=t.data.field(e);null!==r?n.set(e,r):n.delete(e)}}),n.Pt()}(t,r=e instanceof el?e.data():Jc.empty()),mh(t.fieldTransforms,r,n)}function vh(t,e,n){var r=[];Za(t.length===n.length);for(var i=0;i<n.length;i++){var o=t[i],s=o.transform,u=null;e instanceof el&&(u=e.field(o.field)),r.push(Ql(s,u,n[i]))}return r}function yh(t,e,n){for(var r=[],i=0,o=t;i<o.length;i++){var s=o[i],u=s.transform,a=null;n instanceof el&&(a=n.field(s.field)),r.push($l(u,a,e))}return r}function mh(t,e,n){for(var r=new Xc(e),i=0;i<t.length;i++)r.set(t[i].field,n[i]);return r.Pt()}var bh,wh,_h=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.jt=n,r.type=2,r.fieldTransforms=[],r}return Object(za.c)(e,t),e}(uh),Oh=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.jt=n,r.type=3,r.fieldTransforms=[],r}return Object(za.c)(e,t),e}(uh),Eh=function(t){this.count=t};function Ih(t){switch(t){case uc.OK:return Xa();case uc.CANCELLED:case uc.UNKNOWN:case uc.DEADLINE_EXCEEDED:case uc.RESOURCE_EXHAUSTED:case uc.INTERNAL:case uc.UNAVAILABLE:case uc.UNAUTHENTICATED:return!1;case uc.INVALID_ARGUMENT:case uc.NOT_FOUND:case uc.ALREADY_EXISTS:case uc.PERMISSION_DENIED:case uc.FAILED_PRECONDITION:case uc.ABORTED:case uc.OUT_OF_RANGE:case uc.UNIMPLEMENTED:case uc.DATA_LOSS:return!0;default:return Xa()}}function Th(t){if(void 0===t)return Ya("GRPC error has no .code"),uc.UNKNOWN;switch(t){case bh.OK:return uc.OK;case bh.CANCELLED:return uc.CANCELLED;case bh.UNKNOWN:return uc.UNKNOWN;case bh.DEADLINE_EXCEEDED:return uc.DEADLINE_EXCEEDED;case bh.RESOURCE_EXHAUSTED:return uc.RESOURCE_EXHAUSTED;case bh.INTERNAL:return uc.INTERNAL;case bh.UNAVAILABLE:return uc.UNAVAILABLE;case bh.UNAUTHENTICATED:return uc.UNAUTHENTICATED;case bh.INVALID_ARGUMENT:return uc.INVALID_ARGUMENT;case bh.NOT_FOUND:return uc.NOT_FOUND;case bh.ALREADY_EXISTS:return uc.ALREADY_EXISTS;case bh.PERMISSION_DENIED:return uc.PERMISSION_DENIED;case bh.FAILED_PRECONDITION:return uc.FAILED_PRECONDITION;case bh.ABORTED:return uc.ABORTED;case bh.OUT_OF_RANGE:return uc.OUT_OF_RANGE;case bh.UNIMPLEMENTED:return uc.UNIMPLEMENTED;case bh.DATA_LOSS:return uc.DATA_LOSS;default:return Xa()}}(wh=bh||(bh={}))[wh.OK=0]="OK",wh[wh.CANCELLED=1]="CANCELLED",wh[wh.UNKNOWN=2]="UNKNOWN",wh[wh.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",wh[wh.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",wh[wh.NOT_FOUND=5]="NOT_FOUND",wh[wh.ALREADY_EXISTS=6]="ALREADY_EXISTS",wh[wh.PERMISSION_DENIED=7]="PERMISSION_DENIED",wh[wh.UNAUTHENTICATED=16]="UNAUTHENTICATED",wh[wh.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",wh[wh.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",wh[wh.ABORTED=10]="ABORTED",wh[wh.OUT_OF_RANGE=11]="OUT_OF_RANGE",wh[wh.UNIMPLEMENTED=12]="UNIMPLEMENTED",wh[wh.INTERNAL=13]="INTERNAL",wh[wh.UNAVAILABLE=14]="UNAVAILABLE",wh[wh.DATA_LOSS=15]="DATA_LOSS";var Sh=function(){function t(t,e){this.H=t,this.root=e||Ch.EMPTY}return t.prototype.zt=function(e,n){return new t(this.H,this.root.zt(e,n,this.H).copy(null,null,Ch.Ht,null,null))},t.prototype.remove=function(e){return new t(this.H,this.root.remove(e,this.H).copy(null,null,Ch.Ht,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.et();){var n=this.H(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.et();){var r=this.H(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.et=function(){return this.root.et()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.Jt=function(){return this.root.Jt()},t.prototype.Yt=function(){return this.root.Yt()},t.prototype.Xt=function(t){return this.root.Xt(t)},t.prototype.forEach=function(t){this.Xt(function(e,n){return t(e,n),!1})},t.prototype.toString=function(){var t=[];return this.Xt(function(e,n){return t.push(e+":"+n),!1}),"{"+t.join(", ")+"}"},t.prototype.Zt=function(t){return this.root.Zt(t)},t.prototype.te=function(){return new xh(this.root,null,this.H,!1)},t.prototype.ee=function(t){return new xh(this.root,t,this.H,!1)},t.prototype.ne=function(){return new xh(this.root,null,this.H,!0)},t.prototype.se=function(t){return new xh(this.root,t,this.H,!0)},t}(),xh=function(){function t(t,e,n,r){this.ie=r,this.re=[];for(var i=1;!t.et();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.ie?t.left:t.right;else{if(0===i){this.re.push(t);break}this.re.push(t),t=this.ie?t.right:t.left}}return t.prototype.oe=function(){var t=this.re.pop(),e={key:t.key,value:t.value};if(this.ie)for(t=t.left;!t.et();)this.re.push(t),t=t.right;else for(t=t.right;!t.et();)this.re.push(t),t=t.left;return e},t.prototype.ce=function(){return this.re.length>0},t.prototype.ae=function(){if(0===this.re.length)return null;var t=this.re[this.re.length-1];return{key:t.key,value:t.value}},t}(),Ch=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.et=function(){return!1},t.prototype.Xt=function(t){return this.left.Xt(t)||t(this.key,this.value)||this.right.Xt(t)},t.prototype.Zt=function(t){return this.right.Zt(t)||t(this.key,this.value)||this.left.Zt(t)},t.prototype.min=function(){return this.left.et()?this:this.left.min()},t.prototype.Jt=function(){return this.min().key},t.prototype.Yt=function(){return this.right.et()?this.key:this.right.Yt()},t.prototype.zt=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.zt(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.zt(t,e,n))).ue()},t.prototype.he=function(){if(this.left.et())return t.EMPTY;var e=this;return e.left.le()||e.left.left.le()||(e=e._e()),(e=e.copy(null,null,null,e.left.he(),null)).ue()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.et()||i.left.le()||i.left.left.le()||(i=i._e()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.le()&&(i=i.fe()),i.right.et()||i.right.le()||i.right.left.le()||(i=i.de()),0===n(e,i.key)){if(i.right.et())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.he())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.ue()},t.prototype.le=function(){return this.color},t.prototype.ue=function(){var t=this;return t.right.le()&&!t.left.le()&&(t=t.we()),t.left.le()&&t.left.left.le()&&(t=t.fe()),t.left.le()&&t.right.le()&&(t=t.Ee()),t},t.prototype._e=function(){var t=this.Ee();return t.right.left.le()&&(t=(t=(t=t.copy(null,null,null,null,t.right.fe())).we()).Ee()),t},t.prototype.de=function(){var t=this.Ee();return t.left.left.le()&&(t=(t=t.fe()).Ee()),t},t.prototype.we=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.fe=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.Ee=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.Te=function(){var t=this.Ie();return Math.pow(2,t)<=this.size+1},t.prototype.Ie=function(){if(this.le()&&this.left.le())throw Xa();if(this.right.le())throw Xa();var t=this.left.Ie();if(t!==this.right.Ie())throw Xa();return t+(this.le()?0:1)},t}();Ch.EMPTY=null,Ch.RED=!0,Ch.Ht=!1,Ch.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw Xa()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw Xa()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw Xa()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw Xa()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw Xa()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.zt=function(t,e,n){return new Ch(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.et=function(){return!0},t.prototype.Xt=function(t){return!1},t.prototype.Zt=function(t){return!1},t.prototype.Jt=function(){return null},t.prototype.Yt=function(){return null},t.prototype.le=function(){return!1},t.prototype.Te=function(){return!0},t.prototype.Ie=function(){return 0},t}());var jh=function(){function t(t){this.H=t,this.data=new Sh(this.H)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.Jt()},t.prototype.last=function(){return this.data.Yt()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.Xt(function(e,n){return t(e),!1})},t.prototype.me=function(t,e){for(var n=this.data.ee(t[0]);n.ce();){var r=n.oe();if(this.H(r.key,t[1])>=0)return;e(r.key)}},t.prototype.Ae=function(t,e){var n;for(n=void 0!==e?this.data.ee(e):this.data.te();n.ce();)if(!t(n.oe().key))return},t.prototype.Re=function(t){var e=this.data.ee(t);return e.ce()?e.oe().key:null},t.prototype.te=function(){return new Ah(this.data.te())},t.prototype.ee=function(t){return new Ah(this.data.ee(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).zt(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.et=function(){return this.data.et()},t.prototype.Pe=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach(function(t){e=e.add(t)}),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.te(),r=e.data.te();n.ce();){var i=n.oe().key,o=r.oe().key;if(0!==this.H(i,o))return!1}return!0},t.prototype.it=function(){var t=[];return this.forEach(function(e){t.push(e)}),t},t.prototype.toString=function(){var t=[];return this.forEach(function(e){return t.push(e)}),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.H);return n.data=e,n},t}(),Ah=function(){function t(t){this.ye=t}return t.prototype.oe=function(){return this.ye.oe().key},t.prototype.ce=function(){return this.ye.ce()},t}(),kh=new Sh(Ec.H);function Nh(){return kh}function Ph(){return Nh()}var Dh=new Sh(Ec.H);function Rh(){return Dh}var Mh=new Sh(Ec.H);function Lh(){return Mh}var Uh=new jh(Ec.H);function Vh(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=Uh,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var Fh=new jh(rc);function Hh(){return Fh}var qh=function(){function t(t){this.H=t?function(e,n){return t(e,n)||Ec.H(e.key,n.key)}:function(t,e){return Ec.H(t.key,e.key)},this.ge=Rh(),this.Ve=new Sh(this.H)}return t.pe=function(e){return new t(e.H)},t.prototype.has=function(t){return null!=this.ge.get(t)},t.prototype.get=function(t){return this.ge.get(t)},t.prototype.first=function(){return this.Ve.Jt()},t.prototype.last=function(){return this.Ve.Yt()},t.prototype.et=function(){return this.Ve.et()},t.prototype.indexOf=function(t){var e=this.ge.get(t);return e?this.Ve.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.Ve.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.Ve.Xt(function(e,n){return t(e),!1})},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.ge.zt(t.key,t),e.Ve.zt(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.ge.remove(t),this.Ve.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.Ve.te(),r=e.Ve.te();n.ce();){var i=n.oe().key,o=r.oe().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach(function(e){t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.H=this.H,r.ge=e,r.Ve=n,r},t}(),zh=function(){function t(){this.be=new Sh(Ec.H)}return t.prototype.track=function(t){var e=t.doc.key,n=this.be.get(e);n?0!==t.type&&3===n.type?this.be=this.be.zt(e,t):3===t.type&&1!==n.type?this.be=this.be.zt(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.be=this.be.zt(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.be=this.be.zt(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.be=this.be.remove(e):1===t.type&&2===n.type?this.be=this.be.zt(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.be=this.be.zt(e,{type:2,doc:t.doc}):Xa():this.be=this.be.zt(e,t)},t.prototype.ve=function(){var t=[];return this.be.Xt(function(e,n){t.push(n)}),t},t}(),Bh=function(){function t(t,e,n,r,i,o,s,u){this.query=t,this.docs=e,this.Se=n,this.docChanges=r,this.De=i,this.fromCache=o,this.Ce=s,this.xe=u}return t.Ne=function(e,n,r,i){var o=[];return n.forEach(function(t){o.push({type:0,doc:t})}),new t(e,n,qh.pe(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.De.et()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.Ce===t.Ce&&this.De.isEqual(t.De)&&Rl(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.Se.isEqual(t.Se)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),Gh=function(){function t(t,e,n,r,i){this.Ot=t,this.$e=e,this.Fe=n,this.Oe=r,this.ke=i}return t.Me=function(e,n){var r=new Map;return r.set(e,$h.Le(e,n)),new t(mc.min(),r,Hh(),Nh(),Vh())},t}(),$h=function(){function t(t,e,n,r,i){this.resumeToken=t,this.Be=e,this.qe=n,this.Ue=r,this.Qe=i}return t.Le=function(e,n){return new t(sc.T,n,Vh(),Vh(),Vh())},t}(),Qh=function(t,e,n,r){this.Ke=t,this.removedTargetIds=e,this.key=n,this.We=r},Wh=function(t,e){this.targetId=t,this.je=e},Yh=function(t,e,n,r){void 0===n&&(n=sc.T),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},Kh=function(){function t(){this.Ge=0,this.ze=Zh(),this.He=sc.T,this.Je=!1,this.Ye=!0}return Object.defineProperty(t.prototype,"Be",{get:function(){return this.Je},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.He},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Xe",{get:function(){return 0!==this.Ge},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Ze",{get:function(){return this.Ye},enumerable:!1,configurable:!0}),t.prototype.tn=function(t){t.l()>0&&(this.Ye=!0,this.He=t)},t.prototype.en=function(){var t=Vh(),e=Vh(),n=Vh();return this.ze.forEach(function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:Xa()}}),new $h(this.He,this.Je,t,e,n)},t.prototype.nn=function(){this.Ye=!1,this.ze=Zh()},t.prototype.sn=function(t,e){this.Ye=!0,this.ze=this.ze.zt(t,e)},t.prototype.rn=function(t){this.Ye=!0,this.ze=this.ze.remove(t)},t.prototype.on=function(){this.Ge+=1},t.prototype.cn=function(){this.Ge-=1},t.prototype.an=function(){this.Ye=!0,this.Je=!0},t}(),Jh=function(){function t(t){this.un=t,this.hn=new Map,this.ln=Nh(),this._n=Xh(),this.fn=new jh(rc)}return t.prototype.dn=function(t){for(var e=0,n=t.Ke;e<n.length;e++){var r=n[e];t.We instanceof el?this.wn(r,t.We):t.We instanceof nl&&this.En(r,t.key,t.We)}for(var i=0,o=t.removedTargetIds;i<o.length;i++)this.En(r=o[i],t.key,t.We)},t.prototype.Tn=function(t){var e=this;this.In(t,function(n){var r=e.mn(n);switch(t.state){case 0:e.An(n)&&r.tn(t.resumeToken);break;case 1:r.cn(),r.Xe||r.nn(),r.tn(t.resumeToken);break;case 2:r.cn(),r.Xe||e.removeTarget(n);break;case 3:e.An(n)&&(r.an(),r.tn(t.resumeToken));break;case 4:e.An(n)&&(e.Rn(n),r.tn(t.resumeToken));break;default:Xa()}})},t.prototype.In=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.hn.forEach(function(t,r){n.An(r)&&e(r)})},t.prototype.Pn=function(t){var e=t.targetId,n=t.je.count,r=this.yn(e);if(r){var i=r.target;if(al(i))if(0===n){var o=new Ec(i.path);this.En(e,o,new nl(o,mc.min()))}else Za(1===n);else this.gn(e)!==n&&(this.Rn(e),this.fn=this.fn.add(e))}},t.prototype.Vn=function(t){var e=this,n=new Map;this.hn.forEach(function(r,i){var o=e.yn(i);if(o){if(r.Be&&al(o.target)){var s=new Ec(o.target.path);null!==e.ln.get(s)||e.pn(i,s)||e.En(i,s,new nl(s,t))}r.Ze&&(n.set(i,r.en()),r.nn())}});var r=Vh();this._n.forEach(function(t,n){var i=!0;n.Ae(function(t){var n=e.yn(t);return!n||2===n.Ft||(i=!1,!1)}),i&&(r=r.add(t))});var i=new Gh(t,n,this.fn,this.ln,r);return this.ln=Nh(),this._n=Xh(),this.fn=new jh(rc),i},t.prototype.wn=function(t,e){if(this.An(t)){var n=this.pn(t,e.key)?2:0;this.mn(t).sn(e.key,n),this.ln=this.ln.zt(e.key,e),this._n=this._n.zt(e.key,this.bn(e.key).add(t))}},t.prototype.En=function(t,e,n){if(this.An(t)){var r=this.mn(t);this.pn(t,e)?r.sn(e,1):r.rn(e),this._n=this._n.zt(e,this.bn(e).delete(t)),n&&(this.ln=this.ln.zt(e,n))}},t.prototype.removeTarget=function(t){this.hn.delete(t)},t.prototype.gn=function(t){var e=this.mn(t).en();return this.un.vn(t).size+e.qe.size-e.Qe.size},t.prototype.on=function(t){this.mn(t).on()},t.prototype.mn=function(t){var e=this.hn.get(t);return e||(e=new Kh,this.hn.set(t,e)),e},t.prototype.bn=function(t){var e=this._n.get(t);return e||(e=new jh(rc),this._n=this._n.zt(t,e)),e},t.prototype.An=function(t){var e=null!==this.yn(t);return e||Wa("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.yn=function(t){var e=this.hn.get(t);return e&&e.Xe?null:this.un.Sn(t)},t.prototype.Rn=function(t){var e=this;this.hn.set(t,new Kh),this.un.vn(t).forEach(function(n){e.En(t,n,null)})},t.prototype.pn=function(t,e){return this.un.vn(t).has(e)},t}();function Xh(){return new Sh(Ec.H)}function Zh(){return new Sh(Ec.H)}var tf={asc:"ASCENDING",desc:"DESCENDING"},ef={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},nf=function(t,e){this.t=t,this.Bt=e};function rf(t,e){return t.Bt?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function of(t,e){return t.Bt?e.toBase64():e.toUint8Array()}function sf(t,e){return rf(t,e.j())}function uf(t){return Za(!!t),mc.K(function(t){var e=jc(t);return new yc(e.seconds,e.nanos)}(t))}function af(t,e){return function(t){return new wc(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).rt()}function cf(t){var e=wc.ot(t);return Za(Pf(e)),e}function lf(t,e){return af(t.t,e.path)}function hf(t,e){var n=cf(e);if(n.get(1)!==t.t.projectId)throw new ac(uc.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.t.projectId);if(n.get(3)!==t.t.database)throw new ac(uc.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.t.database);return new Ec(gf(n))}function ff(t,e){return af(t.t,e)}function df(t){var e=cf(t);return 4===e.length?wc.ct():gf(e)}function pf(t){return new wc(["projects",t.t.projectId,"databases",t.t.database]).rt()}function gf(t){return Za(t.length>4&&"documents"===t.get(4)),t.Y(5)}function vf(t,e,n){return{name:lf(t,e),fields:n.proto.mapValue.fields}}function yf(t,e,n){var r=hf(t,e.name),i=uf(e.updateTime),o=new Jc({mapValue:{fields:e.fields}});return new el(r,i,o,{hasCommittedMutations:!!n})}function mf(t,e){var n;if(e instanceof dh)n={update:vf(t,e.key,e.value)};else if(e instanceof _h)n={delete:lf(t,e.key)};else if(e instanceof ph)n={update:vf(t,e.key,e.data),updateMask:Nf(e.Gt)};else{if(!(e instanceof Oh))return Xa();n={verify:lf(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(function(t){return function(t,e){var n=e.transform;if(n instanceof Yl)return{fieldPath:e.field.rt(),setToServerValue:"REQUEST_TIME"};if(n instanceof Kl)return{fieldPath:e.field.rt(),appendMissingElements:{values:n.elements}};if(n instanceof Xl)return{fieldPath:e.field.rt(),removeAllFromArray:{values:n.elements}};if(n instanceof th)return{fieldPath:e.field.rt(),increment:n.Ut};throw Xa()}(0,t)})),e.jt.Wt||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:sf(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:Xa()}(t,e.jt)),n}function bf(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?oh.updateTime(uf(t.updateTime)):void 0!==t.exists?oh.exists(t.exists):oh.Kt()}(e.currentDocument):oh.Kt(),r=e.updateTransforms?e.updateTransforms.map(function(e){return function(t,e){var n=null;"setToServerValue"in e?(Za("REQUEST_TIME"===e.setToServerValue),n=new Yl):"appendMissingElements"in e?n=new Kl(e.appendMissingElements.values||[]):"removeAllFromArray"in e?n=new Xl(e.removeAllFromArray.values||[]):"increment"in e?n=new th(t,e.increment):Xa();var r=Oc.lt(e.fieldPath);return new rh(r,n)}(t,e)}):[];if(e.update){var i=hf(t,e.update.name),o=new Jc({mapValue:{fields:e.update.fields}});if(e.updateMask){var s=function(t){return new xc((t.fieldPaths||[]).map(function(t){return Oc.lt(t)}))}(e.updateMask);return new ph(i,o,s,n,r)}return new dh(i,o,n,r)}if(e.delete){var u=hf(t,e.delete);return new _h(u,n)}if(e.verify){var a=hf(t,e.verify);return new Oh(a,n)}return Xa()}function wf(t,e){return{documents:[ff(t,e.path)]}}function _f(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=ff(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=ff(t,r.X()),n.structuredQuery.from=[{collectionId:r.tt()}]);var i=function(t){if(0!==t.length){var e=t.map(function(t){return function(t){if("=="===t.op){if(Yc(t.value))return{unaryFilter:{field:Cf(t.field),op:"IS_NAN"}};if(Wc(t.value))return{unaryFilter:{field:Cf(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(Yc(t.value))return{unaryFilter:{field:Cf(t.field),op:"IS_NOT_NAN"}};if(Wc(t.value))return{unaryFilter:{field:Cf(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Cf(t.field),op:xf(t.op),value:t.value}}}(t)});return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var o=function(t){if(0!==t.length)return t.map(function(t){return function(t){return{field:Cf(t.field),direction:Sf(t.dir)}}(t)})}(e.orderBy);o&&(n.structuredQuery.orderBy=o);var s=function(t,e){return t.Bt||Rc(e)?e:{value:e}}(t,e.limit);return null!==s&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt=If(e.startAt)),e.endAt&&(n.structuredQuery.endAt=If(e.endAt)),n}function Of(t){var e=df(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Za(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var s=[];n.where&&(s=Ef(n.where));var u=[];n.orderBy&&(u=n.orderBy.map(function(t){return function(t){return new wl(jf(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)}));var a=null;n.limit&&(a=function(t){var e;return Rc(e="object"==typeof t?t.value:t)?null:e}(n.limit));var c=null;n.startAt&&(c=Tf(n.startAt));var l=null;return n.endAt&&(l=Tf(n.endAt)),Tl(e,i,u,s,a,"F",c,l)}function Ef(t){return t?void 0!==t.unaryFilter?[kf(t)]:void 0!==t.fieldFilter?[Af(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(function(t){return Ef(t)}).reduce(function(t,e){return t.concat(e)}):Xa():[]}function If(t){return{before:t.before,values:t.position}}function Tf(t){return new ml(t.values||[],!!t.before)}function Sf(t){return tf[t]}function xf(t){return ef[t]}function Cf(t){return{fieldPath:t.rt()}}function jf(t){return Oc.lt(t.fieldPath)}function Af(t){return cl.create(jf(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return Xa()}}(t.fieldFilter.op),t.fieldFilter.value)}function kf(t){switch(t.unaryFilter.op){case"IS_NAN":var e=jf(t.unaryFilter.field);return cl.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=jf(t.unaryFilter.field);return cl.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=jf(t.unaryFilter.field);return cl.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=jf(t.unaryFilter.field);return cl.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return Xa()}}function Nf(t){var e=[];return t.fields.forEach(function(t){return e.push(t.rt())}),{fieldPaths:e}}function Pf(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}var Df=function(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})},Rf=function(){function t(t){var e=this;this.Dn=null,this.Cn=null,this.result=void 0,this.error=void 0,this.xn=!1,this.Nn=!1,t(function(t){e.xn=!0,e.result=t,e.Dn&&e.Dn(t)},function(t){e.xn=!0,e.error=t,e.Cn&&e.Cn(t)})}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.Nn&&Xa(),this.Nn=!0,this.xn?this.error?this.$n(n,this.error):this.Fn(e,this.result):new t(function(t,i){r.Dn=function(n){r.Fn(e,n).next(t,i)},r.Cn=function(e){r.$n(n,e).next(t,i)}})},t.prototype.On=function(){var t=this;return new Promise(function(e,n){t.next(e,n)})},t.prototype.kn=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.Fn=function(e,n){return e?this.kn(function(){return e(n)}):t.resolve(n)},t.prototype.$n=function(e,n){return e?this.kn(function(){return e(n)}):t.reject(n)},t.resolve=function(e){return new t(function(t,n){t(e)})},t.reject=function(e){return new t(function(t,n){n(e)})},t.Mn=function(e){return new t(function(t,n){var r=0,i=0,o=!1;e.forEach(function(e){++r,e.next(function(){++i,o&&i===r&&t()},function(t){return n(t)})}),o=!0,i===r&&t()})},t.Ln=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next(function(n){return n?t.resolve(n):e()})},i=0,o=e;i<o.length;i++)r(o[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach(function(t,i){r.push(e.call(n,t,i))}),this.Mn(r)},t}(),Mf=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.Bn=new Df,this.transaction.oncomplete=function(){n.Bn.resolve()},this.transaction.onabort=function(){e.error?n.Bn.reject(new Vf(t,e.error)):n.Bn.resolve()},this.transaction.onerror=function(e){var r=Bf(e.target.error);n.Bn.reject(new Vf(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new Vf(n,e)}},Object.defineProperty(t.prototype,"qn",{get:function(){return this.Bn.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.Bn.reject(t),this.aborted||(Wa("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new Hf(e)},t}(),Lf=function(){function t(e,n,r){this.name=e,this.version=n,this.Un=r,12.2===t.Qn(Object(Fi.g)())&&Ya("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return Wa("SimpleDb","Removing database:",t),qf(window.indexedDB.deleteDatabase(t)).On()},t.Kn=function(){if("undefined"==typeof indexedDB)return!1;if(t.Wn())return!0;var e=Object(Fi.g)(),n=t.Qn(e),r=0<n&&n<10,i=t.jn(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)},t.Wn=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.Gn)},t.zn=function(t,e){return t.store(e)},t.Qn=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.jn=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.Hn=function(t){return Object(za.b)(this,void 0,void 0,function(){var e,n=this;return Object(za.d)(this,function(r){switch(r.label){case 0:return this.db?[3,2]:(Wa("SimpleDb","Opening database:",this.name),e=this,[4,new Promise(function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){e(t.target.result)},i.onblocked=function(){r(new Vf(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;r("VersionError"===n.name?new ac(uc.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new Vf(t,n))},i.onupgradeneeded=function(t){Wa("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion),n.Un.Jn(t.target.result,i.transaction,t.oldVersion,n.version).next(function(){Wa("SimpleDb","Database upgrade to version "+n.version+" complete")})}})]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.Yn&&(this.db.onversionchange=function(t){return n.Yn(t)}),this.db)]}})})},t.prototype.Xn=function(t){this.Yn=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,r){return Object(za.b)(this,void 0,void 0,function(){var i,o,s,u,a;return Object(za.d)(this,function(c){switch(c.label){case 0:i="readonly"===e,o=0,s=function(){var e,s,a,c,l;return Object(za.d)(this,function(h){switch(h.label){case 0:++o,h.label=1;case 1:return h.trys.push([1,4,,5]),[4,u.Hn(t)];case 2:return u.db=h.sent(),e=Mf.open(u.db,t,i?"readonly":"readwrite",n),s=r(e).catch(function(t){return e.abort(t),Rf.reject(t)}).On(),a={},s.catch(function(){}),[4,e.qn];case 3:return[2,(a.value=(h.sent(),s),a)];case 4:return Wa("SimpleDb","Transaction failed with error:",(c=h.sent()).message,"Retrying:",l="FirebaseError"!==c.name&&o<3),u.close(),l?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}})},u=this,c.label=1;case 1:return[5,s()];case 2:if("object"==typeof(a=c.sent()))return[2,a.value];c.label=3;case 3:return[3,1];case 4:return[2]}})})},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),Uf=function(){function t(t){this.Zn=t,this.ts=!1,this.es=null}return Object.defineProperty(t.prototype,"xn",{get:function(){return this.ts},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ns",{get:function(){return this.es},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.Zn=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.ts=!0},t.prototype.ss=function(t){this.es=t},t.prototype.delete=function(){return qf(this.Zn.delete())},t}(),Vf=function(t){function e(e,n){var r=this;return(r=t.call(this,uc.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return Object(za.c)(e,t),e}(ac);function Ff(t){return"IndexedDbTransactionError"===t.name}var Hf=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(Wa("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(Wa("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),qf(n)},t.prototype.add=function(t){return Wa("SimpleDb","ADD",this.store.name,t,t),qf(this.store.add(t))},t.prototype.get=function(t){var e=this;return qf(this.store.get(t)).next(function(n){return void 0===n&&(n=null),Wa("SimpleDb","GET",e.store.name,t,n),n})},t.prototype.delete=function(t){return Wa("SimpleDb","DELETE",this.store.name,t),qf(this.store.delete(t))},t.prototype.count=function(){return Wa("SimpleDb","COUNT",this.store.name),qf(this.store.count())},t.prototype.rs=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.os(n,function(t,e){r.push(e)}).next(function(){return r})},t.prototype.cs=function(t,e){Wa("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.us=!1;var r=this.cursor(n);return this.os(r,function(t,e,n){return n.delete()})},t.prototype.hs=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.os(r,e)},t.prototype.ls=function(t){var e=this.cursor({});return new Rf(function(n,r){e.onerror=function(t){var e=Bf(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next(function(t){t?r.continue():n()}):n()}})},t.prototype.os=function(t,e){var n=[];return new Rf(function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new Uf(i),s=e(i.primaryKey,i.value,o);if(s instanceof Rf){var u=s.catch(function(t){return o.done(),Rf.reject(t)});n.push(u)}o.xn?r():null===o.ns?i.continue():i.continue(o.ns)}else r()}}).next(function(){return Rf.Mn(n)})},t.prototype.options=function(t,e){var n;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.us?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function qf(t){return new Rf(function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=Bf(t.target.error);n(e)}})}var zf=!1;function Bf(t){var e=Lf.Qn(Object(Fi.g)());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new ac("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return zf||(zf=!0,setTimeout(function(){throw r},0)),r}}return t}var Gf=function(){function t(t,e,n,r,i){this._s=t,this.fs=e,this.ds=n,this.op=r,this.ws=i,this.Es=new Df,this.then=this.Es.promise.then.bind(this.Es.promise),this.Es.promise.catch(function(t){})}return t.Ts=function(e,n,r,i,o){var s=new t(e,n,Date.now()+r,i,o);return s.start(r),s},t.prototype.start=function(t){var e=this;this.Is=setTimeout(function(){return e.As()},t)},t.prototype.Rs=function(){return this.As()},t.prototype.cancel=function(t){null!==this.Is&&(this.clearTimeout(),this.Es.reject(new ac(uc.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.As=function(){var t=this;this._s.Ps(function(){return null!==t.Is?(t.clearTimeout(),t.op().then(function(e){return t.Es.resolve(e)})):Promise.resolve()})},t.prototype.clearTimeout=function(){null!==this.Is&&(this.ws(this),clearTimeout(this.Is),this.Is=null)},t}();function $f(t,e){if(Ya("AsyncQueue",e+": "+t),Ff(t))return new ac(uc.UNAVAILABLE,e+": "+t);throw t}var Qf="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Wf=function(){function t(){this.ys=[]}return t.prototype.gs=function(t){this.ys.push(t)},t.prototype.Vs=function(){this.ys.forEach(function(t){return t()})},t}();function Yf(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=Jf(e)),e=Kf(t.get(n),e);return Jf(e)}function Kf(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function Jf(t){return t+"\x01\x01"}function Xf(t){var e=t.length;if(Za(e>=2),2===e)return Za("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),wc.ct();for(var n=e-2,r=[],i="",o=0;o<e;){var s=t.indexOf("\x01",o);switch((s<0||s>n)&&Xa(),t.charAt(s+1)){case"\x01":var u=t.substring(o,s),a=void 0;0===i.length?a=u:(a=i+=u,i=""),r.push(a);break;case"\x10":i+=t.substring(o,s),i+="\0";break;case"\x11":i+=t.substring(o,s+1);break;default:Xa()}o=s+2}return new wc(r)}var Zf=function(t,e){this.seconds=t,this.nanoseconds=e},td=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};td.store="owner",td.key="owner";var ed=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};ed.store="mutationQueues",ed.keyPath="userId";var nd=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};nd.store="mutations",nd.keyPath="batchId",nd.userMutationsIndex="userMutationsIndex",nd.userMutationsKeyPath=["userId","batchId"];var rd=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,Yf(e)]},t.key=function(t,e,n){return[t,Yf(e),n]},t}();rd.store="documentMutations",rd.PLACEHOLDER=new rd;var id=function(t,e){this.path=t,this.readTime=e},od=function(t,e){this.path=t,this.version=e},sd=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};sd.store="remoteDocuments",sd.readTimeIndex="readTimeIndex",sd.readTimeIndexPath="readTime",sd.collectionReadTimeIndex="collectionReadTimeIndex",sd.collectionReadTimeIndexPath=["parentPath","readTime"];var ud=function(t){this.byteSize=t};ud.store="remoteDocumentGlobal",ud.key="remoteDocumentGlobalKey";var ad=function(t,e,n,r,i,o,s){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=s};ad.store="targets",ad.keyPath="targetId",ad.queryTargetsIndexName="queryTargetsIndex",ad.queryTargetsKeyPath=["canonicalId","targetId"];var cd=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};cd.store="targetDocuments",cd.keyPath=["targetId","path"],cd.documentTargetsIndex="documentTargetsIndex",cd.documentTargetsKeyPath=["path","targetId"];var ld=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};ld.key="targetGlobalKey",ld.store="targetGlobal";var hd=function(t,e){this.collectionId=t,this.parent=e};hd.store="collectionParents",hd.keyPath=["collectionId","parent"];var fd=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};fd.store="clientMetadata",fd.keyPath="clientId";var dd=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};dd.store="bundles",dd.keyPath="bundleId";var pd=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};pd.store="namedQueries",pd.keyPath="name";var gd=Object(za.f)(Object(za.f)([],Object(za.f)(Object(za.f)([],Object(za.f)(Object(za.f)([],Object(za.f)(Object(za.f)([],[ed.store,nd.store,rd.store,sd.store,ad.store,td.store,ld.store,cd.store]),[fd.store])),[ud.store])),[hd.store])),[dd.store,pd.store]),vd=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).ps=e,r.bs=n,r}return Object(za.c)(e,t),e}(Wf);function yd(t,e){var n=tc(t);return Lf.zn(n.ps,e)}var md=function(){function t(t,e,n,r){this.batchId=t,this.vs=e,this.baseMutations=n,this.mutations=r}return t.prototype.Ss=function(t,e,n){for(var r=n.Ds,i=0;i<this.mutations.length;i++){var o=this.mutations[i];o.key.isEqual(t)&&(e=ah(o,e,r[i]))}return e},t.prototype.Cs=function(t,e){for(var n=0,r=this.baseMutations;n<r.length;n++)(s=r[n]).key.isEqual(t)&&(e=ch(s,e,this.vs));for(var i=0,o=this.mutations;i<o.length;i++){var s;(s=o[i]).key.isEqual(t)&&(e=ch(s,e,this.vs))}return e},t.prototype.xs=function(t){var e=this,n=t;return this.mutations.forEach(function(r){var i=e.Cs(r.key,t.get(r.key));i&&(n=n.zt(r.key,i))}),n},t.prototype.keys=function(){return this.mutations.reduce(function(t,e){return t.add(e.key)},Vh())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&ic(this.mutations,t.mutations,function(t,e){return hh(t,e)})&&ic(this.baseMutations,t.baseMutations,function(t,e){return hh(t,e)})},t}(),bd=function(){function t(t,e,n,r){this.batch=t,this.Ns=e,this.Ds=n,this.$s=r}return t.from=function(e,n,r){Za(e.mutations.length===r.length);for(var i=Lh(),o=e.mutations,s=0;s<o.length;s++)i=i.zt(o[s].key,r[s].version);return new t(e,n,r,i)},t}(),wd=function(t){this.Fs=t};function _d(t,e){if(e.document)return yf(t.Fs,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=Ec.Et(e.noDocument.path),r=Sd(e.noDocument.readTime);return new nl(n,r,{hasCommittedMutations:!!e.hasCommittedMutations})}if(e.unknownDocument){var i=Ec.Et(e.unknownDocument.path);return r=Sd(e.unknownDocument.version),new rl(i,r)}return Xa()}function Od(t,e,n){var r=Ed(n),i=e.key.path.X().it();if(e instanceof el){var o=function(t,e){return{name:lf(t,e.key),fields:e.bt().mapValue.fields,updateTime:rf(t,e.version.j())}}(t.Fs,e),s=e.hasCommittedMutations;return new sd(null,null,o,s,r,i)}if(e instanceof nl){var u=e.key.path.it(),a=Td(e.version);return s=e.hasCommittedMutations,new sd(null,new id(u,a),null,s,r,i)}if(e instanceof rl){var c=e.key.path.it(),l=Td(e.version);return new sd(new od(c,l),null,null,!0,r,i)}return Xa()}function Ed(t){var e=t.j();return[e.seconds,e.nanoseconds]}function Id(t){var e=new yc(t[0],t[1]);return mc.K(e)}function Td(t){var e=t.j();return new Zf(e.seconds,e.nanoseconds)}function Sd(t){var e=new yc(t.seconds,t.nanoseconds);return mc.K(e)}function xd(t,e){for(var n=(e.baseMutations||[]).map(function(e){return bf(t.Fs,e)}),r=0;r<e.mutations.length-1;++r)r+1<e.mutations.length&&void 0!==e.mutations[r+1].transform&&(e.mutations[r].updateTransforms=e.mutations[r+1].transform.fieldTransforms,e.mutations.splice(r+1,1),++r);var i=e.mutations.map(function(e){return bf(t.Fs,e)}),o=yc.fromMillis(e.localWriteTimeMs);return new md(e.batchId,o,n,i)}function Cd(t){var e,n,r=Sd(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?Sd(t.lastLimboFreeSnapshotVersion):mc.min();return void 0!==t.query.documents?(Za(1===(n=t.query).documents.length),e=Pl(Sl(df(n.documents[0])))):e=function(t){return Pl(Of(t))}(t.query),new Hl(e,t.targetId,0,t.lastListenSequenceNumber,r,i,sc.fromBase64String(t.resumeToken))}function jd(t,e){var n,r=Td(e.Ot),i=Td(e.lastLimboFreeSnapshotVersion);n=al(e.target)?wf(t.Fs,e.target):_f(t.Fs,e.target);var o=e.resumeToken.toBase64();return new ad(e.targetId,sl(e.target),r,o,e.sequenceNumber,i,n)}function Ad(t){var e=Of({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?Dl(e,e.limit,"L"):e}var kd=function(){function t(){}return t.prototype.Os=function(t,e){return Nd(t).get(e).next(function(t){if(t)return{id:(e=t).bundleId,createTime:Sd(e.createTime),version:e.version};var e})},t.prototype.ks=function(t,e){return Nd(t).put({bundleId:(n=e).id,createTime:Td(uf(n.createTime)),version:n.version});var n},t.prototype.Ms=function(t,e){return Pd(t).get(e).next(function(t){if(t)return{name:(e=t).name,query:Ad(e.bundledQuery),readTime:Sd(e.readTime)};var e})},t.prototype.Ls=function(t,e){return Pd(t).put(function(t){return{name:t.name,readTime:Td(uf(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}();function Nd(t){return yd(t,dd.store)}function Pd(t){return yd(t,pd.store)}var Dd=function(){function t(){this.Bs=new Rd}return t.prototype.qs=function(t,e){return this.Bs.add(e),Rf.resolve()},t.prototype.Us=function(t,e){return Rf.resolve(this.Bs.getEntries(e))},t}(),Rd=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.tt(),n=t.X(),r=this.index[e]||new jh(wc.H),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.tt(),n=t.X(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new jh(wc.H)).it()},t}(),Md=function(){function t(){this.Qs=new Rd}return t.prototype.qs=function(t,e){var n=this;if(!this.Qs.has(e)){var r=e.tt(),i=e.X();t.gs(function(){n.Qs.add(e)});var o={collectionId:r,parent:Yf(i)};return Ld(t).put(o)}return Rf.resolve()},t.prototype.Us=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[oc(e),""],!1,!0);return Ld(t).rs(r).next(function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(Xf(o.parent))}return n})},t}();function Ld(t){return yd(t,hd.store)}var Ud={Ks:!1,Ws:0,js:0,Gs:0},Vd=function(){function t(t,e,n){this.zs=t,this.Hs=e,this.Js=n}return t.Ys=function(e){return new t(e,t.Xs,t.Zs)},t}();function Fd(t){return Object(za.b)(this,void 0,void 0,function(){return Object(za.d)(this,function(e){if(t.code!==uc.FAILED_PRECONDITION||t.message!==Qf)throw t;return Wa("LocalStore","Unexpectedly lost primary lease"),[2]})})}Vd.Xs=10,Vd.Zs=1e3,Vd.ti=new Vd(41943040,Vd.Xs,Vd.Zs),Vd.ei=new Vd(-1,0,0);var Hd=function(){function t(t,e){this.ni=t,this.si=e,this.ii={}}return t.prototype.get=function(t){var e=this.ni(t),n=this.ii[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],s=o[1];if(this.si(o[0],t))return s}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.ni(t),r=this.ii[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.si(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.ii[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.ni(t),n=this.ii[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.si(n[r][0],t))return 1===n.length?delete this.ii[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){Tc(this.ii,function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];t(o[0],o[1])}})},t.prototype.et=function(){return Sc(this.ii)},t}(),qd=function(){function t(){this.ri=new Hd(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),this.oi=!1}return t.prototype.ci=function(t){var e=this.ri.get(t);return e?e.readTime:mc.min()},t.prototype.ai=function(t,e){this.ui(),this.ri.set(t.key,{hi:t,readTime:e})},t.prototype.li=function(t,e){void 0===e&&(e=null),this.ui(),this.ri.set(t,{hi:null,readTime:e})},t.prototype._i=function(t,e){this.ui();var n=this.ri.get(e);return void 0!==n?Rf.resolve(n.hi):this.fi(t,e)},t.prototype.getEntries=function(t,e){return this.di(t,e)},t.prototype.apply=function(t){return this.ui(),this.oi=!0,this.wi(t)},t.prototype.ui=function(){},t}();function zd(t,e,n){var r=t.store(nd.store),i=t.store(rd.store),o=[],s=IDBKeyRange.only(n.batchId),u=0,a=r.hs({range:s},function(t,e,n){return u++,n.delete()});o.push(a.next(function(){Za(1===u)}));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var f=h[l],d=rd.key(e,f.key.path,n.batchId);o.push(i.delete(d)),c.push(f.key)}return Rf.Mn(o).next(function(){return c})}function Bd(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Xa();e=t.noDocument}return JSON.stringify(e).length}var Gd=function(){function t(t,e,n,r){this.userId=t,this.Qt=e,this.Ei=n,this.Ti=r,this.Ii={}}return t.mi=function(e,n,r,i){return Za(""!==e.uid),new t(e.m()?e.uid:"",n,r,i)},t.prototype.Ai=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Qd(t).hs({index:nd.userMutationsIndex,range:n},function(t,n,r){e=!1,r.done()}).next(function(){return e})},t.prototype.Ri=function(t,e,n,r){var i=this,o=Wd(t),s=Qd(t);return s.add({}).next(function(u){Za("number"==typeof u);for(var a=new md(u,e,n,r),c=function(t,e,n){var r=n.baseMutations.map(function(e){return mf(t.Fs,e)}),i=n.mutations.map(function(e){return mf(t.Fs,e)});return new nd(e,n.batchId,n.vs.toMillis(),r,i)}(i.Qt,i.userId,a),l=[],h=new jh(function(t,e){return rc(t.rt(),e.rt())}),f=0,d=r;f<d.length;f++){var p=d[f],g=rd.key(i.userId,p.key.path,u);h=h.add(p.key.path.X()),l.push(s.put(c)),l.push(o.put(g,rd.PLACEHOLDER))}return h.forEach(function(e){l.push(i.Ei.qs(t,e))}),t.gs(function(){i.Ii[u]=a.keys()}),Rf.Mn(l).next(function(){return a})})},t.prototype.Pi=function(t,e){var n=this;return Qd(t).get(e).next(function(t){return t?(Za(t.userId===n.userId),xd(n.Qt,t)):null})},t.prototype.yi=function(t,e){var n=this;return this.Ii[e]?Rf.resolve(this.Ii[e]):this.Pi(t,e).next(function(t){if(t){var r=t.keys();return n.Ii[e]=r,r}return null})},t.prototype.gi=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return Qd(t).hs({index:nd.userMutationsIndex,range:i},function(t,e,i){e.userId===n.userId&&(Za(e.batchId>=r),o=xd(n.Qt,e)),i.done()}).next(function(){return o})},t.prototype.Vi=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Qd(t).hs({index:nd.userMutationsIndex,range:e,reverse:!0},function(t,e,r){n=e.batchId,r.done()}).next(function(){return n})},t.prototype.pi=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Qd(t).rs(nd.userMutationsIndex,n).next(function(t){return t.map(function(t){return xd(e.Qt,t)})})},t.prototype.bi=function(t,e){var n=this,r=rd.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return Wd(t).hs({range:i},function(r,i,s){var u=r[0],a=r[2],c=Xf(r[1]);if(u===n.userId&&e.path.isEqual(c))return Qd(t).get(a).next(function(t){if(!t)throw Xa();Za(t.userId===n.userId),o.push(xd(n.Qt,t))});s.done()}).next(function(){return o})},t.prototype.vi=function(t,e){var n=this,r=new jh(rc),i=[];return e.forEach(function(e){var o=rd.prefixForPath(n.userId,e.path),s=IDBKeyRange.lowerBound(o),u=Wd(t).hs({range:s},function(t,i,o){var s=t[0],u=t[2],a=Xf(t[1]);s===n.userId&&e.path.isEqual(a)?r=r.add(u):o.done()});i.push(u)}),Rf.Mn(i).next(function(){return n.Si(t,r)})},t.prototype.Di=function(t,e){var n=this,r=e.path,i=r.length+1,o=rd.prefixForPath(this.userId,r),s=IDBKeyRange.lowerBound(o),u=new jh(rc);return Wd(t).hs({range:s},function(t,e,o){var s=t[0],a=t[2],c=Xf(t[1]);s===n.userId&&r.nt(c)?c.length===i&&(u=u.add(a)):o.done()}).next(function(){return n.Si(t,u)})},t.prototype.Si=function(t,e){var n=this,r=[],i=[];return e.forEach(function(e){i.push(Qd(t).get(e).next(function(t){if(null===t)throw Xa();Za(t.userId===n.userId),r.push(xd(n.Qt,t))}))}),Rf.Mn(i).next(function(){return r})},t.prototype.Ci=function(t,e){var n=this;return zd(t.ps,this.userId,e).next(function(r){return t.gs(function(){n.xi(e.batchId)}),Rf.forEach(r,function(e){return n.Ti.Ni(t,e)})})},t.prototype.xi=function(t){delete this.Ii[t]},t.prototype.$i=function(t){var e=this;return this.Ai(t).next(function(n){if(!n)return Rf.resolve();var r=IDBKeyRange.lowerBound(rd.prefixForUser(e.userId)),i=[];return Wd(t).hs({range:r},function(t,n,r){if(t[0]===e.userId){var o=Xf(t[1]);i.push(o)}else r.done()}).next(function(){Za(0===i.length)})})},t.prototype.Fi=function(t,e){return $d(t,this.userId,e)},t.prototype.Oi=function(t){var e=this;return Yd(t).get(this.userId).next(function(t){return t||new ed(e.userId,-1,"")})},t}();function $d(t,e,n){var r=rd.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),s=!1;return Wd(t).hs({range:o,us:!0},function(t,n,r){t[0]===e&&t[1]===i&&(s=!0),r.done()}).next(function(){return s})}function Qd(t){return yd(t,nd.store)}function Wd(t){return yd(t,rd.store)}function Yd(t){return yd(t,ed.store)}var Kd=function(){function t(t){this.ki=t}return t.prototype.next=function(){return this.ki+=2,this.ki},t.Mi=function(){return new t(0)},t.Li=function(){return new t(-1)},t}(),Jd=function(){function t(t,e){this.Ti=t,this.Qt=e}return t.prototype.Bi=function(t){var e=this;return this.qi(t).next(function(n){var r=new Kd(n.highestTargetId);return n.highestTargetId=r.next(),e.Ui(t,n).next(function(){return n.highestTargetId})})},t.prototype.Qi=function(t){return this.qi(t).next(function(t){return mc.K(new yc(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))})},t.prototype.Ki=function(t){return this.qi(t).next(function(t){return t.highestListenSequenceNumber})},t.prototype.Wi=function(t,e,n){var r=this;return this.qi(t).next(function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.j()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Ui(t,i)})},t.prototype.ji=function(t,e){var n=this;return this.Gi(t,e).next(function(){return n.qi(t).next(function(r){return r.targetCount+=1,n.zi(e,r),n.Ui(t,r)})})},t.prototype.Hi=function(t,e){return this.Gi(t,e)},t.prototype.Ji=function(t,e){var n=this;return this.Yi(t,e.targetId).next(function(){return Xd(t).delete(e.targetId)}).next(function(){return n.qi(t)}).next(function(e){return Za(e.targetCount>0),e.targetCount-=1,n.Ui(t,e)})},t.prototype.Xi=function(t,e,n){var r=this,i=0,o=[];return Xd(t).hs(function(s,u){var a=Cd(u);a.sequenceNumber<=e&&null===n.get(a.targetId)&&(i++,o.push(r.Ji(t,a)))}).next(function(){return Rf.Mn(o)}).next(function(){return i})},t.prototype.In=function(t,e){return Xd(t).hs(function(t,n){var r=Cd(n);e(r)})},t.prototype.qi=function(t){return Zd(t).get(ld.key).next(function(t){return Za(null!==t),t})},t.prototype.Ui=function(t,e){return Zd(t).put(ld.key,e)},t.prototype.Gi=function(t,e){return Xd(t).put(jd(this.Qt,e))},t.prototype.zi=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.Zi=function(t){return this.qi(t).next(function(t){return t.targetCount})},t.prototype.tr=function(t,e){var n=sl(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return Xd(t).hs({range:r,index:ad.queryTargetsIndexName},function(t,n,r){var o=Cd(n);ul(e,o.target)&&(i=o,r.done())}).next(function(){return i})},t.prototype.er=function(t,e,n){var r=this,i=[],o=tp(t);return e.forEach(function(e){var s=Yf(e.path);i.push(o.put(new cd(n,s))),i.push(r.Ti.nr(t,n,e))}),Rf.Mn(i)},t.prototype.sr=function(t,e,n){var r=this,i=tp(t);return Rf.forEach(e,function(e){var o=Yf(e.path);return Rf.Mn([i.delete([n,o]),r.Ti.ir(t,n,e)])})},t.prototype.Yi=function(t,e){var n=tp(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.rr=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=tp(t),i=Vh();return r.hs({range:n,us:!0},function(t,e,n){var r=Xf(t[1]),o=new Ec(r);i=i.add(o)}).next(function(){return i})},t.prototype.Fi=function(t,e){var n=Yf(e.path),r=IDBKeyRange.bound([n],[oc(n)],!1,!0),i=0;return tp(t).hs({index:cd.documentTargetsIndex,us:!0,range:r},function(t,e,n){0!==t[0]&&(i++,n.done())}).next(function(){return i>0})},t.prototype.Sn=function(t,e){return Xd(t).get(e).next(function(t){return t?Cd(t):null})},t}();function Xd(t){return yd(t,ad.store)}function Zd(t){return yd(t,ld.store)}function tp(t){return yd(t,cd.store)}function ep(t,e){var n=t[1],r=e[1],i=rc(t[0],e[0]);return 0===i?rc(n,r):i}var np=function(){function t(t){this.cr=t,this.buffer=new jh(ep),this.ar=0}return t.prototype.ur=function(){return++this.ar},t.prototype.hr=function(t){var e=[t,this.ur()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();ep(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),rp=function(){function t(t,e){this.lr=t,this._s=e,this._r=!1,this.dr=null}return t.prototype.start=function(t){-1!==this.lr.params.zs&&this.wr(t)},t.prototype.stop=function(){this.dr&&(this.dr.cancel(),this.dr=null)},Object.defineProperty(t.prototype,"Er",{get:function(){return null!==this.dr},enumerable:!1,configurable:!0}),t.prototype.wr=function(t){var e=this,n=this._r?3e5:6e4;Wa("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.dr=this._s.Tr("lru_garbage_collection",n,function(){return Object(za.b)(e,void 0,void 0,function(){var e;return Object(za.d)(this,function(n){switch(n.label){case 0:this.dr=null,this._r=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.Ir(this.lr)];case 2:return n.sent(),[3,7];case 3:return Ff(e=n.sent())?(Wa("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,Fd(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.wr(t)];case 8:return n.sent(),[2]}})})})},t}(),ip=function(){function t(t,e){this.mr=t,this.params=e}return t.prototype.Ar=function(t,e){return this.mr.Rr(t).next(function(t){return Math.floor(e/100*t)})},t.prototype.Pr=function(t,e){var n=this;if(0===e)return Rf.resolve(vc.q);var r=new np(e);return this.mr.In(t,function(t){return r.hr(t.sequenceNumber)}).next(function(){return n.mr.yr(t,function(t){return r.hr(t)})}).next(function(){return r.maxValue})},t.prototype.Xi=function(t,e,n){return this.mr.Xi(t,e,n)},t.prototype.gr=function(t,e){return this.mr.gr(t,e)},t.prototype.Vr=function(t,e){var n=this;return-1===this.params.zs?(Wa("LruGarbageCollector","Garbage collection skipped; disabled"),Rf.resolve(Ud)):this.pr(t).next(function(r){return r<n.params.zs?(Wa("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.zs),Ud):n.br(t,e)})},t.prototype.pr=function(t){return this.mr.pr(t)},t.prototype.br=function(t,e){var n,r,i,o,s,u,a,c=this,l=Date.now();return this.Ar(t,this.params.Hs).next(function(e){return e>c.params.Js?(Wa("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.Js+" from "+e),r=c.params.Js):r=e,o=Date.now(),c.Pr(t,r)}).next(function(r){return n=r,s=Date.now(),c.Xi(t,n,e)}).next(function(e){return i=e,u=Date.now(),c.gr(t,n)}).next(function(t){return a=Date.now(),Qa()<=Vi.a.DEBUG&&Wa("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-l)+"ms\n\tDetermined least recently used "+r+" in "+(s-o)+"ms\n\tRemoved "+i+" targets in "+(u-s)+"ms\n\tRemoved "+t+" documents in "+(a-u)+"ms\nTotal Duration: "+(a-l)+"ms"),Rf.resolve({Ks:!0,Ws:r,js:i,Gs:t})})},t}(),op=function(){function t(t,e){this.db=t,this.lr=function(t,e){return new ip(t,e)}(this,e)}return t.prototype.Rr=function(t){var e=this.vr(t);return this.db.Sr().Zi(t).next(function(t){return e.next(function(e){return t+e})})},t.prototype.vr=function(t){var e=0;return this.yr(t,function(t){e++}).next(function(){return e})},t.prototype.In=function(t,e){return this.db.Sr().In(t,e)},t.prototype.yr=function(t,e){return this.Dr(t,function(t,n){return e(n)})},t.prototype.nr=function(t,e,n){return sp(t,n)},t.prototype.ir=function(t,e,n){return sp(t,n)},t.prototype.Xi=function(t,e,n){return this.db.Sr().Xi(t,e,n)},t.prototype.Ni=function(t,e){return sp(t,e)},t.prototype.Cr=function(t,e){return function(t,e){var n=!1;return Yd(t).ls(function(r){return $d(t,r,e).next(function(t){return t&&(n=!0),Rf.resolve(!t)})}).next(function(){return n})}(t,e)},t.prototype.gr=function(t,e){var n=this,r=this.db.$r().Nr(),i=[],o=0;return this.Dr(t,function(s,u){if(u<=e){var a=n.Cr(t,s).next(function(e){if(!e)return o++,r._i(t,s).next(function(){return r.li(s),tp(t).delete([0,Yf(s.path)])})});i.push(a)}}).next(function(){return Rf.Mn(i)}).next(function(){return r.apply(t)}).next(function(){return o})},t.prototype.removeTarget=function(t,e){var n=e.kt(t.bs);return this.db.Sr().Hi(t,n)},t.prototype.Fr=function(t,e){return sp(t,e)},t.prototype.Dr=function(t,e){var n,r=tp(t),i=vc.q;return r.hs({index:cd.documentTargetsIndex},function(t,r){var o=r.path,s=r.sequenceNumber;0===t[0]?(i!==vc.q&&e(new Ec(Xf(n)),i),i=s,n=o):i=vc.q}).next(function(){i!==vc.q&&e(new Ec(Xf(n)),i)})},t.prototype.pr=function(t){return this.db.$r().Or(t)},t}();function sp(t,e){return tp(t).put(function(t,e){return new cd(0,Yf(t.path),e)}(e,t.bs))}var up=function(){function t(t,e){this.Qt=t,this.Ei=e}return t.prototype.ai=function(t,e,n){return lp(t).put(hp(e),n)},t.prototype.li=function(t,e){var n=lp(t),r=hp(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next(function(r){return r.byteSize+=e,n.kr(t,r)})},t.prototype._i=function(t,e){var n=this;return lp(t).get(hp(e)).next(function(t){return n.Mr(t)})},t.prototype.Lr=function(t,e){var n=this;return lp(t).get(hp(e)).next(function(t){var e=n.Mr(t);return e?{hi:e,size:Bd(t)}:null})},t.prototype.getEntries=function(t,e){var n=this,r=Ph();return this.Br(t,e,function(t,e){var i=n.Mr(e);r=r.zt(t,i)}).next(function(){return r})},t.prototype.qr=function(t,e){var n=this,r=Ph(),i=new Sh(Ec.H);return this.Br(t,e,function(t,e){var o=n.Mr(e);o?(r=r.zt(t,o),i=i.zt(t,Bd(e))):(r=r.zt(t,null),i=i.zt(t,0))}).next(function(){return{Ur:r,Qr:i}})},t.prototype.Br=function(t,e,n){if(e.et())return Rf.resolve();var r=IDBKeyRange.bound(e.first().path.it(),e.last().path.it()),i=e.te(),o=i.oe();return lp(t).hs({range:r},function(t,e,r){for(var s=Ec.Et(t);o&&Ec.H(o,s)<0;)n(o,null),o=i.oe();o&&o.isEqual(s)&&(n(o,e),o=i.ce()?i.oe():null),o?r.ss(o.path.it()):r.done()}).next(function(){for(;o;)n(o,null),o=i.ce()?i.oe():null})},t.prototype.Kr=function(t,e,n){var r=this,i=Rh(),o=e.path.length+1,s={};if(n.isEqual(mc.min())){var u=e.path.it();s.range=IDBKeyRange.lowerBound(u)}else{var a=e.path.it(),c=Ed(n);s.range=IDBKeyRange.lowerBound([a,c],!0),s.index=sd.collectionReadTimeIndex}return lp(t).hs(s,function(t,n,s){if(t.length===o){var u=_d(r.Qt,n);e.path.nt(u.key.path)?u instanceof el&&Ul(e,u)&&(i=i.zt(u.key,u)):s.done()}}).next(function(){return i})},t.prototype.Nr=function(t){return new ap(this,!!t&&t.Wr)},t.prototype.Or=function(t){return this.getMetadata(t).next(function(t){return t.byteSize})},t.prototype.getMetadata=function(t){return cp(t).get(ud.key).next(function(t){return Za(!!t),t})},t.prototype.kr=function(t,e){return cp(t).put(ud.key,e)},t.prototype.Mr=function(t){if(t){var e=_d(this.Qt,t);return e instanceof nl&&e.version.isEqual(mc.min())?null:e}return null},t}(),ap=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).jr=e,r.Wr=n,r.Gr=new Hd(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),r}return Object(za.c)(e,t),e.prototype.wi=function(t){var e=this,n=[],r=0,i=new jh(function(t,e){return rc(t.rt(),e.rt())});return this.ri.forEach(function(o,s){var u=e.Gr.get(o);if(s.hi){var a=Od(e.jr.Qt,s.hi,e.ci(o));i=i.add(o.path.X());var c=Bd(a);r+=c-u,n.push(e.jr.ai(t,o,a))}else if(r-=u,e.Wr){var l=Od(e.jr.Qt,new nl(o,mc.min()),e.ci(o));n.push(e.jr.ai(t,o,l))}else n.push(e.jr.li(t,o))}),i.forEach(function(r){n.push(e.jr.Ei.qs(t,r))}),n.push(this.jr.updateMetadata(t,r)),Rf.Mn(n)},e.prototype.fi=function(t,e){var n=this;return this.jr.Lr(t,e).next(function(t){return null===t?(n.Gr.set(e,0),null):(n.Gr.set(e,t.size),t.hi)})},e.prototype.di=function(t,e){var n=this;return this.jr.qr(t,e).next(function(t){var e=t.Ur;return t.Qr.forEach(function(t,e){n.Gr.set(t,e)}),e})},e}(qd);function cp(t){return yd(t,ud.store)}function lp(t){return yd(t,sd.store)}function hp(t){return t.path.it()}var fp=function(){function t(t){this.Qt=t}return t.prototype.Jn=function(t,e,n,r){var i=this;Za(n<r&&n>=0&&r<=11);var o=new Mf("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(td.store)}(t),function(t){t.createObjectStore(ed.store,{keyPath:ed.keyPath}),t.createObjectStore(nd.store,{keyPath:nd.keyPath,autoIncrement:!0}).createIndex(nd.userMutationsIndex,nd.userMutationsKeyPath,{unique:!0}),t.createObjectStore(rd.store)}(t),dp(t),function(t){t.createObjectStore(sd.store)}(t));var s=Rf.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(cd.store),t.deleteObjectStore(ad.store),t.deleteObjectStore(ld.store)}(t),dp(t)),s=s.next(function(){return function(t){var e=t.store(ld.store),n=new ld(0,0,mc.min().j(),0);return e.put(ld.key,n)}(o)})),n<4&&r>=4&&(0!==n&&(s=s.next(function(){return function(t,e){return e.store(nd.store).rs().next(function(n){t.deleteObjectStore(nd.store),t.createObjectStore(nd.store,{keyPath:nd.keyPath,autoIncrement:!0}).createIndex(nd.userMutationsIndex,nd.userMutationsKeyPath,{unique:!0});var r=e.store(nd.store),i=n.map(function(t){return r.put(t)});return Rf.Mn(i)})}(t,o)})),s=s.next(function(){!function(t){t.createObjectStore(fd.store,{keyPath:fd.keyPath})}(t)})),n<5&&r>=5&&(s=s.next(function(){return i.zr(o)})),n<6&&r>=6&&(s=s.next(function(){return function(t){t.createObjectStore(ud.store)}(t),i.Hr(o)})),n<7&&r>=7&&(s=s.next(function(){return i.Jr(o)})),n<8&&r>=8&&(s=s.next(function(){return i.Yr(t,o)})),n<9&&r>=9&&(s=s.next(function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(sd.store);e.createIndex(sd.readTimeIndex,sd.readTimeIndexPath,{unique:!1}),e.createIndex(sd.collectionReadTimeIndex,sd.collectionReadTimeIndexPath,{unique:!1})}(e)})),n<10&&r>=10&&(s=s.next(function(){return i.Xr(o)})),n<11&&r>=11&&(s=s.next(function(){!function(t){t.createObjectStore(dd.store,{keyPath:dd.keyPath})}(t),function(t){t.createObjectStore(pd.store,{keyPath:pd.keyPath})}(t)})),s},t.prototype.Hr=function(t){var e=0;return t.store(sd.store).hs(function(t,n){e+=Bd(n)}).next(function(){var n=new ud(e);return t.store(ud.store).put(ud.key,n)})},t.prototype.zr=function(t){var e=this,n=t.store(ed.store),r=t.store(nd.store);return n.rs().next(function(n){return Rf.forEach(n,function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.rs(nd.userMutationsIndex,i).next(function(r){return Rf.forEach(r,function(r){Za(r.userId===n.userId);var i=xd(e.Qt,r);return zd(t,n.userId,i).next(function(){})})})})})},t.prototype.Jr=function(t){var e=t.store(cd.store),n=t.store(sd.store);return t.store(ld.store).get(ld.key).next(function(t){var r=[];return n.hs(function(n,i){var o=new wc(n),s=function(t){return[0,Yf(t)]}(o);r.push(e.get(s).next(function(n){return n?Rf.resolve():function(n){return e.put(new cd(0,Yf(n),t.highestListenSequenceNumber))}(o)}))}).next(function(){return Rf.Mn(r)})})},t.prototype.Yr=function(t,e){t.createObjectStore(hd.store,{keyPath:hd.keyPath});var n=e.store(hd.store),r=new Rd,i=function(t){if(r.add(t)){var e=t.tt(),i=t.X();return n.put({collectionId:e,parent:Yf(i)})}};return e.store(sd.store).hs({us:!0},function(t,e){var n=new wc(t);return i(n.X())}).next(function(){return e.store(rd.store).hs({us:!0},function(t,e){var n=Xf(t[1]);return i(n.X())})})},t.prototype.Xr=function(t){var e=this,n=t.store(ad.store);return n.hs(function(t,r){var i=Cd(r),o=jd(e.Qt,i);return n.put(o)})},t}();function dp(t){t.createObjectStore(cd.store,{keyPath:cd.keyPath}).createIndex(cd.documentTargetsIndex,cd.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(ad.store,{keyPath:ad.keyPath}).createIndex(ad.queryTargetsIndexName,ad.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(ld.store)}var pp="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",gp=function(){function t(e,n,r,i,o,s,u,a,c,l){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Zr=o,this.window=s,this.document=u,this.eo=c,this.no=l,this.so=null,this.io=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ro=null,this.inForeground=!1,this.oo=null,this.co=null,this.ao=Number.NEGATIVE_INFINITY,this.uo=function(t){return Promise.resolve()},!t.Kn())throw new ac(uc.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.Ti=new op(this,i),this.ho=n+"main",this.Qt=new wd(a),this.lo=new Lf(this.ho,11,new fp(this.Qt)),this._o=new Jd(this.Ti,this.Qt),this.Ei=new Md,this.fo=function(t,e){return new up(t,e)}(this.Qt,this.Ei),this.wo=new kd,this.window&&this.window.localStorage?this.Eo=this.window.localStorage:(this.Eo=null,!1===l&&Ya("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var t=this;return this.To().then(function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new ac(uc.FAILED_PRECONDITION,pp);return t.Io(),t.mo(),t.Ao(),t.runTransaction("getHighestListenSequenceNumber","readonly",function(e){return t._o.Ki(e)})}).then(function(e){t.so=new vc(e,t.eo)}).then(function(){t.io=!0}).catch(function(e){return t.lo&&t.lo.close(),Promise.reject(e)})},t.prototype.Ro=function(t){var e=this;return this.uo=function(n){return Object(za.b)(e,void 0,void 0,function(){return Object(za.d)(this,function(e){return this.Er?[2,t(n)]:[2]})})},t(this.isPrimary)},t.prototype.Po=function(t){var e=this;this.lo.Xn(function(n){return Object(za.b)(e,void 0,void 0,function(){return Object(za.d)(this,function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})})},t.prototype.yo=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Zr.Ps(function(){return Object(za.b)(e,void 0,void 0,function(){return Object(za.d)(this,function(t){switch(t.label){case 0:return this.Er?[4,this.To()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})}))},t.prototype.To=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(e){return yp(e).put(new fd(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.Vo(e).next(function(e){e||(t.isPrimary=!1,t.Zr.po(function(){return t.uo(!1)}))})}).next(function(){return t.bo(e)}).next(function(n){return t.isPrimary&&!n?t.vo(e).next(function(){return!1}):!!n&&t.So(e).next(function(){return!0})})}).catch(function(e){if(Ff(e))return Wa("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return Wa("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(function(e){t.isPrimary!==e&&t.Zr.po(function(){return t.uo(e)}),t.isPrimary=e})},t.prototype.Vo=function(t){var e=this;return vp(t).get(td.key).next(function(t){return Rf.resolve(e.Do(t))})},t.prototype.Co=function(t){return yp(t).delete(this.clientId)},t.prototype.xo=function(){return Object(za.b)(this,void 0,void 0,function(){var t,e,n,r=this;return Object(za.d)(this,function(i){switch(i.label){case 0:return!this.isPrimary||this.No(this.ao,18e5)?[3,2]:(this.ao=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(t){var e=yd(t,fd.store);return e.rs().next(function(t){var n=r.$o(t,18e5),i=t.filter(function(t){return-1===n.indexOf(t)});return Rf.forEach(i,function(t){return e.delete(t.clientId)}).next(function(){return i})})}).catch(function(){return[]})]);case 1:if(t=i.sent(),this.Eo)for(e=0,n=t;e<n.length;e++)this.Eo.removeItem(this.Fo(n[e].clientId));i.label=2;case 2:return[2]}})})},t.prototype.Ao=function(){var t=this;this.co=this.Zr.Tr("client_metadata_refresh",4e3,function(){return t.To().then(function(){return t.xo()}).then(function(){return t.Ao()})})},t.prototype.Do=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.bo=function(t){var e=this;return this.no?Rf.resolve(!0):vp(t).get(td.key).next(function(n){if(null!==n&&e.No(n.leaseTimestampMs,5e3)&&!e.Oo(n.ownerId)){if(e.Do(n)&&e.networkEnabled)return!0;if(!e.Do(n)){if(!n.allowTabSynchronization)throw new ac(uc.FAILED_PRECONDITION,pp);return!1}}return!(!e.networkEnabled||!e.inForeground)||yp(t).rs().next(function(t){return void 0===e.$o(t,5e3).find(function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))})})}).next(function(t){return e.isPrimary!==t&&Wa("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t})},t.prototype.ko=function(){return Object(za.b)(this,void 0,void 0,function(){var t=this;return Object(za.d)(this,function(e){switch(e.label){case 0:return this.io=!1,this.Mo(),this.co&&(this.co.cancel(),this.co=null),this.Lo(),this.Bo(),[4,this.lo.runTransaction("shutdown","readwrite",[td.store,fd.store],function(e){var n=new vd(e,vc.q);return t.vo(n).next(function(){return t.Co(n)})})];case 1:return e.sent(),this.lo.close(),this.qo(),[2]}})})},t.prototype.$o=function(t,e){var n=this;return t.filter(function(t){return n.No(t.updateTimeMs,e)&&!n.Oo(t.clientId)})},t.prototype.Uo=function(){var t=this;return this.runTransaction("getActiveClients","readonly",function(e){return yp(e).rs().next(function(e){return t.$o(e,18e5).map(function(t){return t.clientId})})})},Object.defineProperty(t.prototype,"Er",{get:function(){return this.io},enumerable:!1,configurable:!0}),t.prototype.Qo=function(t){return Gd.mi(t,this.Qt,this.Ei,this.Ti)},t.prototype.Sr=function(){return this._o},t.prototype.$r=function(){return this.fo},t.prototype.Ko=function(){return this.Ei},t.prototype.Wo=function(){return this.wo},t.prototype.runTransaction=function(t,e,n){var r,i=this;return Wa("IndexedDbPersistence","Starting transaction:",t),this.lo.runTransaction(t,"readonly"===e?"readonly":"readwrite",gd,function(o){return r=new vd(o,i.so?i.so.next():vc.q),"readwrite-primary"===e?i.Vo(r).next(function(t){return!!t||i.bo(r)}).next(function(e){if(!e)throw Ya("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.Zr.po(function(){return i.uo(!1)}),new ac(uc.FAILED_PRECONDITION,Qf);return n(r)}).next(function(t){return i.So(r).next(function(){return t})}):i.jo(r).next(function(){return n(r)})}).then(function(t){return r.Vs(),t})},t.prototype.jo=function(t){var e=this;return vp(t).get(td.key).next(function(t){if(null!==t&&e.No(t.leaseTimestampMs,5e3)&&!e.Oo(t.ownerId)&&!e.Do(t)&&!(e.no||e.allowTabSynchronization&&t.allowTabSynchronization))throw new ac(uc.FAILED_PRECONDITION,pp)})},t.prototype.So=function(t){var e=new td(this.clientId,this.allowTabSynchronization,Date.now());return vp(t).put(td.key,e)},t.Kn=function(){return Lf.Kn()},t.prototype.vo=function(t){var e=this,n=vp(t);return n.get(td.key).next(function(t){return e.Do(t)?(Wa("IndexedDbPersistence","Releasing primary lease."),n.delete(td.key)):Rf.resolve()})},t.prototype.No=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(Ya("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.Io=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.oo=function(){t.Zr.Ps(function(){return t.inForeground="visible"===t.document.visibilityState,t.To()})},this.document.addEventListener("visibilitychange",this.oo),this.inForeground="visible"===this.document.visibilityState)},t.prototype.Lo=function(){this.oo&&(this.document.removeEventListener("visibilitychange",this.oo),this.oo=null)},t.prototype.mo=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.ro=function(){e.Mo(),e.Zr.Ps(function(){return e.ko()})},this.window.addEventListener("unload",this.ro))},t.prototype.Bo=function(){this.ro&&(this.window.removeEventListener("unload",this.ro),this.ro=null)},t.prototype.Oo=function(t){var e;try{var n=null!==(null===(e=this.Eo)||void 0===e?void 0:e.getItem(this.Fo(t)));return Wa("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return Ya("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.Mo=function(){if(this.Eo)try{this.Eo.setItem(this.Fo(this.clientId),String(Date.now()))}catch(t){Ya("Failed to set zombie client id.",t)}},t.prototype.qo=function(){if(this.Eo)try{this.Eo.removeItem(this.Fo(this.clientId))}catch(t){}},t.prototype.Fo=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function vp(t){return yd(t,td.store)}function yp(t){return yd(t,fd.store)}function mp(t,e){var n=t.projectId;return t.o||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var bp=function(t,e){this.progress=t,this.Go=e},wp=function(){function t(t,e,n){this.fo=t,this.zo=e,this.Ei=n}return t.prototype.Ho=function(t,e){var n=this;return this.zo.bi(t,e).next(function(r){return n.Jo(t,e,r)})},t.prototype.Jo=function(t,e,n){return this.fo._i(t,e).next(function(t){for(var r=0,i=n;r<i.length;r++)t=i[r].Cs(e,t);return t})},t.prototype.Yo=function(t,e,n){var r=Ph();return e.forEach(function(t,e){for(var i=0,o=n;i<o.length;i++)e=o[i].Cs(t,e);r=r.zt(t,e)}),r},t.prototype.Xo=function(t,e){var n=this;return this.fo.getEntries(t,e).next(function(e){return n.Zo(t,e)})},t.prototype.Zo=function(t,e){var n=this;return this.zo.vi(t,e).next(function(r){var i=n.Yo(t,e,r),o=Nh();return i.forEach(function(t,e){e||(e=new nl(t,mc.min())),o=o.zt(t,e)}),o})},t.prototype.Kr=function(t,e,n){return function(t){return Ec.wt(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.tc(t,e.path):kl(e)?this.ec(t,e,n):this.nc(t,e,n)},t.prototype.tc=function(t,e){return this.Ho(t,new Ec(e)).next(function(t){var e=Rh();return t instanceof el&&(e=e.zt(t.key,t)),e})},t.prototype.ec=function(t,e,n){var r=this,i=e.collectionGroup,o=Rh();return this.Ei.Us(t,i).next(function(s){return Rf.forEach(s,function(s){var u=function(t,e){return new Il(e,null,t.xt.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,s.child(i));return r.nc(t,u,n).next(function(t){t.forEach(function(t,e){o=o.zt(t,e)})})}).next(function(){return o})})},t.prototype.nc=function(t,e,n){var r,i,o=this;return this.fo.Kr(t,e,n).next(function(n){return r=n,o.zo.Di(t,e)}).next(function(e){return o.sc(t,i=e,r).next(function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var o=n[e],s=0,u=o.mutations;s<u.length;s++){var a=u[s],c=a.key,l=ch(a,r.get(c),o.vs);r=l instanceof el?r.zt(c,l):r.remove(c)}})}).next(function(){return r.forEach(function(t,n){Ul(e,n)||(r=r.remove(t))}),r})},t.prototype.sc=function(t,e,n){for(var r=Vh(),i=0,o=e;i<o.length;i++)for(var s=0,u=o[i].mutations;s<u.length;s++){var a=u[s];a instanceof ph&&null===n.get(a.key)&&(r=r.add(a.key))}var c=n;return this.fo.getEntries(t,r).next(function(t){return t.forEach(function(t,e){null!==e&&e instanceof el&&(c=c.zt(t,e))}),c})},t}(),_p=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.ic=n,this.rc=r}return t.oc=function(e,n){for(var r=Vh(),i=Vh(),o=0,s=n.docChanges;o<s.length;o++){var u=s[o];switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:i=i.add(u.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),Op=function(){function t(){}return t.prototype.cc=function(t){this.ac=t},t.prototype.Kr=function(t,e,n,r){var i=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.xt.length||1===t.xt.length&&t.xt[0].field.ut())}(e)||n.isEqual(mc.min())?this.uc(t,e):this.ac.Xo(t,r).next(function(o){var s=i.hc(e,o);return(xl(e)||Cl(e))&&i.lc(e.limitType,s,r,n)?i.uc(t,e):(Qa()<=Vi.a.DEBUG&&Wa("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Ll(e)),i.ac.Kr(t,e,n).next(function(t){return s.forEach(function(e){t=t.zt(e.key,e)}),t}))})},t.prototype.hc=function(t,e){var n=new jh(Vl(t));return e.forEach(function(e,r){r instanceof el&&Ul(t,r)&&(n=n.add(r))}),n},t.prototype.lc=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version._(r)>0)},t.prototype.uc=function(t,e){return Qa()<=Vi.a.DEBUG&&Wa("QueryEngine","Using full collection scan to execute query:",Ll(e)),this.ac.Kr(t,e,mc.min())},t}(),Ep=function(){function t(t,e,n,r){this.persistence=t,this._c=e,this.Qt=r,this.fc=new Sh(rc),this.dc=new Hd(function(t){return sl(t)},ul),this.wc=mc.min(),this.zo=t.Qo(n),this.Ec=t.$r(),this._o=t.Sr(),this.Tc=new wp(this.Ec,this.zo,this.persistence.Ko()),this.wo=t.Wo(),this._c.cc(this.Tc)}return t.prototype.Ir=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(n){return t.Vr(n,e.fc)})},t}();function Ip(t,e,n,r){return new Ep(t,e,n,r)}function Tp(t,e){return Object(za.b)(this,void 0,void 0,function(){var n,r,i,o;return Object(za.d)(this,function(s){switch(s.label){case 0:return n=tc(t),r=n.zo,i=n.Tc,[4,n.persistence.runTransaction("Handle user change","readonly",function(t){var o;return n.zo.pi(t).next(function(s){return o=s,r=n.persistence.Qo(e),i=new wp(n.Ec,r,n.persistence.Ko()),r.pi(t)}).next(function(e){for(var n=[],r=[],s=Vh(),u=0,a=o;u<a.length;u++){var c=a[u];n.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++)s=s.add(h[l].key)}for(var f=0,d=e;f<d.length;f++){var p=d[f];r.push(p.batchId);for(var g=0,v=p.mutations;g<v.length;g++)s=s.add(v[g].key)}return i.Xo(t,s).next(function(t){return{Ic:t,mc:n,Ac:r}})})})];case 1:return o=s.sent(),[2,(n.zo=r,n.Tc=i,n._c.cc(n.Tc),o)]}})})}function Sp(t,e){var n=tc(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(t){var r=e.batch.keys(),i=n.Ec.Nr({Wr:!0});return function(t,e,n,r){var i=n.batch,o=i.keys(),s=Rf.resolve();return o.forEach(function(t){s=s.next(function(){return r._i(e,t)}).next(function(e){var o=e,s=n.$s.get(t);Za(null!==s),(!o||o.version._(s)<0)&&(o=i.Ss(t,o,n))&&r.ai(o,n.Ns)})}),s.next(function(){return t.zo.Ci(e,i)})}(n,t,e,i).next(function(){return i.apply(t)}).next(function(){return n.zo.$i(t)}).next(function(){return n.Tc.Xo(t,r)})})}function xp(t){var e=tc(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",function(t){return e._o.Qi(t)})}function Cp(t,e){var n=tc(t),r=e.Ot,i=n.fc;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(t){var o=n.Ec.Nr({Wr:!0});i=n.fc;var s=[];e.$e.forEach(function(e,o){var u=i.get(o);if(u){s.push(n._o.sr(t,e.Qe,o).next(function(){return n._o.er(t,e.qe,o)}));var a=e.resumeToken;if(a.l()>0){var c=u.Mt(a,r).kt(t.bs);i=i.zt(o,c),function(t,e,n){return Za(e.resumeToken.l()>0),0===t.resumeToken.l()||e.Ot.W()-t.Ot.W()>=3e8||n.qe.size+n.Ue.size+n.Qe.size>0}(u,c,e)&&s.push(n._o.Hi(t,c))}}});var u=Nh();if(e.Oe.forEach(function(r,i){e.ke.has(r)&&s.push(n.persistence.Ti.Fr(t,r))}),s.push(jp(t,o,e.Oe,r,void 0).next(function(t){u=t})),!r.isEqual(mc.min())){var a=n._o.Qi(t).next(function(e){return n._o.Wi(t,t.bs,r)});s.push(a)}return Rf.Mn(s).next(function(){return o.apply(t)}).next(function(){return n.Tc.Zo(t,u)})}).then(function(t){return n.fc=i,t})}function jp(t,e,n,r,i){var o=Vh();return n.forEach(function(t){return o=o.add(t)}),e.getEntries(t,o).next(function(t){var o=Nh();return n.forEach(function(n,s){var u=t.get(n),a=(null==i?void 0:i.get(n))||r;s instanceof nl&&s.version.isEqual(mc.min())?(e.li(n,a),o=o.zt(n,s)):null==u||s.version._(u.version)>0||0===s.version._(u.version)&&u.hasPendingWrites?(e.ai(s,a),o=o.zt(n,s)):Wa("LocalStore","Ignoring outdated watch update for ",n,". Current version:",u.version," Watch version:",s.version)}),o})}function Ap(t,e){var n=tc(t);return n.persistence.runTransaction("Get next mutation batch","readonly",function(t){return void 0===e&&(e=-1),n.zo.gi(t,e)})}function kp(t,e){var n=tc(t);return n.persistence.runTransaction("Allocate target","readwrite",function(t){var r;return n._o.tr(t,e).next(function(i){return i?Rf.resolve(r=i):n._o.Bi(t).next(function(i){return r=new Hl(e,i,0,t.bs),n._o.ji(t,r).next(function(){return r})})})}).then(function(t){var r=n.fc.get(t.targetId);return(null===r||t.Ot._(r.Ot)>0)&&(n.fc=n.fc.zt(t.targetId,t),n.dc.set(e,t.targetId)),t})}function Np(t,e,n){return Object(za.b)(this,void 0,void 0,function(){var r,i,o,s;return Object(za.d)(this,function(u){switch(u.label){case 0:r=tc(t),i=r.fc.get(e),o=n?"readwrite":"readwrite-primary",u.label=1;case 1:return u.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,function(t){return r.persistence.Ti.removeTarget(t,i)})];case 2:u.sent(),u.label=3;case 3:return[3,5];case 4:if(!Ff(s=u.sent()))throw s;return Wa("LocalStore","Failed to update sequence numbers for target "+e+": "+s),[3,5];case 5:return r.fc=r.fc.remove(e),r.dc.delete(i.target),[2]}})})}function Pp(t,e,n){var r=tc(t),i=mc.min(),o=Vh();return r.persistence.runTransaction("Execute query","readonly",function(t){return function(t,e,n){var r=tc(t),i=r.dc.get(n);return void 0!==i?Rf.resolve(r.fc.get(i)):r._o.tr(e,n)}(r,t,Pl(e)).next(function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r._o.rr(t,e.targetId).next(function(t){o=t})}).next(function(){return r._c.Kr(t,e,n?i:mc.min(),n?o:Vh())}).next(function(t){return{documents:t,Rc:o}})})}function Dp(t,e){var n=tc(t),r=tc(n._o),i=n.fc.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",function(t){return r.Sn(t,e).next(function(t){return t?t.target:null})})}function Rp(t){var e=tc(t);return e.persistence.runTransaction("Get new document changes","readonly",function(t){return function(t,e,n){var r=tc(t),i=Nh(),o=Ed(n),s=lp(e),u=IDBKeyRange.lowerBound(o,!0);return s.hs({index:sd.readTimeIndex,range:u},function(t,e){var n=_d(r.Qt,e);i=i.zt(n.key,n),o=e.readTime}).next(function(){return{Go:i,readTime:Id(o)}})}(e.Ec,t,e.wc)}).then(function(t){var n=t.Go;return e.wc=t.readTime,n})}function Mp(t){return Object(za.b)(this,void 0,void 0,function(){var e;return Object(za.d)(this,function(n){return[2,(e=tc(t)).persistence.runTransaction("Synchronize last document change read time","readonly",function(t){return function(t){var e=lp(t),n=mc.min();return e.hs({index:sd.readTimeIndex,reverse:!0},function(t,e,r){e.readTime&&(n=Id(e.readTime)),r.done()}).next(function(){return n})}(t)}).then(function(t){e.wc=t})]})})}function Lp(t,e,n,r){return Object(za.b)(this,void 0,void 0,function(){var i,o,s,u,a,c,l,h,f,d;return Object(za.d)(this,function(p){switch(p.label){case 0:for(i=tc(t),o=Vh(),s=Nh(),u=Lh(),a=0,c=n;a<c.length;a++)h=e.Pc((l=c[a]).metadata.name),l.document&&(o=o.add(h)),s=s.zt(h,e.yc(l)),u=u.zt(h,e.gc(l.metadata.readTime));return f=i.Ec.Nr({Wr:!0}),[4,kp(i,function(t){return Pl(Sl(wc.ot("__bundle__/docs/"+t)))}(r))];case 1:return d=p.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",function(t){return jp(t,f,s,mc.min(),u).next(function(e){return f.apply(t),e}).next(function(e){return i._o.Yi(t,d.targetId).next(function(){return i._o.er(t,o,d.targetId)}).next(function(){return i.Tc.Zo(t,e)})})})]}})})}function Up(t,e,n){return void 0===n&&(n=Vh()),Object(za.b)(this,void 0,void 0,function(){var r,i;return Object(za.d)(this,function(o){switch(o.label){case 0:return[4,kp(t,Pl(Ad(e.bundledQuery)))];case 1:return r=o.sent(),[2,(i=tc(t)).persistence.runTransaction("Save named query","readwrite",function(t){var o=uf(e.readTime);if(r.Ot._(o)>=0)return i.wo.Ls(t,e);var s=r.Mt(sc.T,o);return i.fc=i.fc.zt(s.targetId,s),i._o.Hi(t,s).next(function(){return i._o.Yi(t,r.targetId)}).next(function(){return i._o.er(t,n,r.targetId)}).next(function(){return i.wo.Ls(t,e)})})]}})})}var Vp=function(){function t(t){this.Qt=t,this.Vc=new Map,this.bc=new Map}return t.prototype.Os=function(t,e){return Rf.resolve(this.Vc.get(e))},t.prototype.ks=function(t,e){var n;return this.Vc.set(e.id,{id:(n=e).id,version:n.version,createTime:uf(n.createTime)}),Rf.resolve()},t.prototype.Ms=function(t,e){return Rf.resolve(this.bc.get(e))},t.prototype.Ls=function(t,e){return this.bc.set(e.name,function(t){return{name:t.name,query:Ad(t.bundledQuery),readTime:uf(t.readTime)}}(e)),Rf.resolve()},t}(),Fp=function(){function t(){this.vc=new jh(Hp.Sc),this.Dc=new jh(Hp.Cc)}return t.prototype.et=function(){return this.vc.et()},t.prototype.nr=function(t,e){var n=new Hp(t,e);this.vc=this.vc.add(n),this.Dc=this.Dc.add(n)},t.prototype.xc=function(t,e){var n=this;t.forEach(function(t){return n.nr(t,e)})},t.prototype.ir=function(t,e){this.Nc(new Hp(t,e))},t.prototype.$c=function(t,e){var n=this;t.forEach(function(t){return n.ir(t,e)})},t.prototype.Fc=function(t){var e=this,n=new Ec(new wc([])),r=new Hp(n,t),i=new Hp(n,t+1),o=[];return this.Dc.me([r,i],function(t){e.Nc(t),o.push(t.key)}),o},t.prototype.Oc=function(){var t=this;this.vc.forEach(function(e){return t.Nc(e)})},t.prototype.Nc=function(t){this.vc=this.vc.delete(t),this.Dc=this.Dc.delete(t)},t.prototype.kc=function(t){var e=new Ec(new wc([])),n=new Hp(e,t),r=new Hp(e,t+1),i=Vh();return this.Dc.me([n,r],function(t){i=i.add(t.key)}),i},t.prototype.Fi=function(t){var e=new Hp(t,0),n=this.vc.Re(e);return null!==n&&t.isEqual(n.key)},t}(),Hp=function(){function t(t,e){this.key=t,this.Mc=e}return t.Sc=function(t,e){return Ec.H(t.key,e.key)||rc(t.Mc,e.Mc)},t.Cc=function(t,e){return rc(t.Mc,e.Mc)||Ec.H(t.key,e.key)},t}(),qp=function(){function t(t,e){this.Ei=t,this.Ti=e,this.zo=[],this.Lc=1,this.Bc=new jh(Hp.Sc)}return t.prototype.Ai=function(t){return Rf.resolve(0===this.zo.length)},t.prototype.Ri=function(t,e,n,r){var i=this.Lc;this.Lc++;var o=new md(i,e,n,r);this.zo.push(o);for(var s=0,u=r;s<u.length;s++){var a=u[s];this.Bc=this.Bc.add(new Hp(a.key,i)),this.Ei.qs(t,a.key.path.X())}return Rf.resolve(o)},t.prototype.Pi=function(t,e){return Rf.resolve(this.qc(e))},t.prototype.gi=function(t,e){var n=this.Uc(e+1),r=n<0?0:n;return Rf.resolve(this.zo.length>r?this.zo[r]:null)},t.prototype.Vi=function(){return Rf.resolve(0===this.zo.length?-1:this.Lc-1)},t.prototype.pi=function(t){return Rf.resolve(this.zo.slice())},t.prototype.bi=function(t,e){var n=this,r=new Hp(e,0),i=new Hp(e,Number.POSITIVE_INFINITY),o=[];return this.Bc.me([r,i],function(t){var e=n.qc(t.Mc);o.push(e)}),Rf.resolve(o)},t.prototype.vi=function(t,e){var n=this,r=new jh(rc);return e.forEach(function(t){var e=new Hp(t,0),i=new Hp(t,Number.POSITIVE_INFINITY);n.Bc.me([e,i],function(t){r=r.add(t.Mc)})}),Rf.resolve(this.Qc(r))},t.prototype.Di=function(t,e){var n=e.path,r=n.length+1,i=n;Ec.wt(i)||(i=i.child(""));var o=new Hp(new Ec(i),0),s=new jh(rc);return this.Bc.Ae(function(t){var e=t.key.path;return!!n.nt(e)&&(e.length===r&&(s=s.add(t.Mc)),!0)},o),Rf.resolve(this.Qc(s))},t.prototype.Qc=function(t){var e=this,n=[];return t.forEach(function(t){var r=e.qc(t);null!==r&&n.push(r)}),n},t.prototype.Ci=function(t,e){var n=this;Za(0===this.Kc(e.batchId,"removed")),this.zo.shift();var r=this.Bc;return Rf.forEach(e.mutations,function(i){var o=new Hp(i.key,e.batchId);return r=r.delete(o),n.Ti.Ni(t,i.key)}).next(function(){n.Bc=r})},t.prototype.xi=function(t){},t.prototype.Fi=function(t,e){var n=new Hp(e,0),r=this.Bc.Re(n);return Rf.resolve(e.isEqual(r&&r.key))},t.prototype.$i=function(t){return Rf.resolve()},t.prototype.Kc=function(t,e){return this.Uc(t)},t.prototype.Uc=function(t){return 0===this.zo.length?0:t-this.zo[0].batchId},t.prototype.qc=function(t){var e=this.Uc(t);return e<0||e>=this.zo.length?null:this.zo[e]},t}(),zp=function(){function t(t,e){this.Ei=t,this.Wc=e,this.docs=new Sh(Ec.H),this.size=0}return t.prototype.ai=function(t,e,n){var r=e.key,i=this.docs.get(r),o=i?i.size:0,s=this.Wc(e);return this.docs=this.docs.zt(r,{hi:e,size:s,readTime:n}),this.size+=s-o,this.Ei.qs(t,r.path.X())},t.prototype.li=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype._i=function(t,e){var n=this.docs.get(e);return Rf.resolve(n?n.hi:null)},t.prototype.getEntries=function(t,e){var n=this,r=Ph();return e.forEach(function(t){var e=n.docs.get(t);r=r.zt(t,e?e.hi:null)}),Rf.resolve(r)},t.prototype.Kr=function(t,e,n){for(var r=Rh(),i=new Ec(e.path.child("")),o=this.docs.ee(i);o.ce();){var s=o.oe(),u=s.value,a=u.hi,c=u.readTime;if(!e.path.nt(s.key.path))break;c._(n)<=0||a instanceof el&&Ul(e,a)&&(r=r.zt(a.key,a))}return Rf.resolve(r)},t.prototype.jc=function(t,e){return Rf.forEach(this.docs,function(t){return e(t)})},t.prototype.Nr=function(t){return new Bp(this)},t.prototype.Or=function(t){return Rf.resolve(this.size)},t}(),Bp=function(t){function e(e){var n=this;return(n=t.call(this)||this).jr=e,n}return Object(za.c)(e,t),e.prototype.wi=function(t){var e=this,n=[];return this.ri.forEach(function(r,i){i&&i.hi?n.push(e.jr.ai(t,i.hi,e.ci(r))):e.jr.li(r)}),Rf.Mn(n)},e.prototype.fi=function(t,e){return this.jr._i(t,e)},e.prototype.di=function(t,e){return this.jr.getEntries(t,e)},e}(qd),Gp=function(){function t(t){this.persistence=t,this.Gc=new Hd(function(t){return sl(t)},ul),this.lastRemoteSnapshotVersion=mc.min(),this.highestTargetId=0,this.zc=0,this.Hc=new Fp,this.targetCount=0,this.Jc=Kd.Mi()}return t.prototype.In=function(t,e){return this.Gc.forEach(function(t,n){return e(n)}),Rf.resolve()},t.prototype.Qi=function(t){return Rf.resolve(this.lastRemoteSnapshotVersion)},t.prototype.Ki=function(t){return Rf.resolve(this.zc)},t.prototype.Bi=function(t){return this.highestTargetId=this.Jc.next(),Rf.resolve(this.highestTargetId)},t.prototype.Wi=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.zc&&(this.zc=e),Rf.resolve()},t.prototype.Gi=function(t){this.Gc.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.Jc=new Kd(e),this.highestTargetId=e),t.sequenceNumber>this.zc&&(this.zc=t.sequenceNumber)},t.prototype.ji=function(t,e){return this.Gi(e),this.targetCount+=1,Rf.resolve()},t.prototype.Hi=function(t,e){return this.Gi(e),Rf.resolve()},t.prototype.Ji=function(t,e){return this.Gc.delete(e.target),this.Hc.Fc(e.targetId),this.targetCount-=1,Rf.resolve()},t.prototype.Xi=function(t,e,n){var r=this,i=0,o=[];return this.Gc.forEach(function(s,u){u.sequenceNumber<=e&&null===n.get(u.targetId)&&(r.Gc.delete(s),o.push(r.Yi(t,u.targetId)),i++)}),Rf.Mn(o).next(function(){return i})},t.prototype.Zi=function(t){return Rf.resolve(this.targetCount)},t.prototype.tr=function(t,e){var n=this.Gc.get(e)||null;return Rf.resolve(n)},t.prototype.er=function(t,e,n){return this.Hc.xc(e,n),Rf.resolve()},t.prototype.sr=function(t,e,n){this.Hc.$c(e,n);var r=this.persistence.Ti,i=[];return r&&e.forEach(function(e){i.push(r.Ni(t,e))}),Rf.Mn(i)},t.prototype.Yi=function(t,e){return this.Hc.Fc(e),Rf.resolve()},t.prototype.rr=function(t,e){var n=this.Hc.kc(e);return Rf.resolve(n)},t.prototype.Fi=function(t,e){return Rf.resolve(this.Hc.Fi(e))},t}(),$p=function(){function t(t,e){var n=this;this.Yc={},this.so=new vc(0),this.io=!1,this.io=!0,this.Ti=t(this),this._o=new Gp(this),this.Ei=new Dd,this.fo=function(t,e){return new zp(t,function(t){return n.Ti.Xc(t)})}(this.Ei),this.Qt=new wd(e),this.wo=new Vp(this.Qt)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.ko=function(){return this.io=!1,Promise.resolve()},Object.defineProperty(t.prototype,"Er",{get:function(){return this.io},enumerable:!1,configurable:!0}),t.prototype.Po=function(){},t.prototype.yo=function(){},t.prototype.Ko=function(){return this.Ei},t.prototype.Qo=function(t){var e=this.Yc[t.A()];return e||(e=new qp(this.Ei,this.Ti),this.Yc[t.A()]=e),e},t.prototype.Sr=function(){return this._o},t.prototype.$r=function(){return this.fo},t.prototype.Wo=function(){return this.wo},t.prototype.runTransaction=function(t,e,n){var r=this;Wa("MemoryPersistence","Starting transaction:",t);var i=new Qp(this.so.next());return this.Ti.Zc(),n(i).next(function(t){return r.Ti.ta(i).next(function(){return t})}).On().then(function(t){return i.Vs(),t})},t.prototype.ea=function(t,e){return Rf.Ln(Object.values(this.Yc).map(function(n){return function(){return n.Fi(t,e)}}))},t}(),Qp=function(t){function e(e){var n=this;return(n=t.call(this)||this).bs=e,n}return Object(za.c)(e,t),e}(Wf),Wp=function(){function t(t){this.persistence=t,this.na=new Fp,this.sa=null}return t.ia=function(e){return new t(e)},Object.defineProperty(t.prototype,"ra",{get:function(){if(this.sa)return this.sa;throw Xa()},enumerable:!1,configurable:!0}),t.prototype.nr=function(t,e,n){return this.na.nr(n,e),this.ra.delete(n.toString()),Rf.resolve()},t.prototype.ir=function(t,e,n){return this.na.ir(n,e),this.ra.add(n.toString()),Rf.resolve()},t.prototype.Ni=function(t,e){return this.ra.add(e.toString()),Rf.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.na.Fc(e.targetId).forEach(function(t){return n.ra.add(t.toString())});var r=this.persistence.Sr();return r.rr(t,e.targetId).next(function(t){t.forEach(function(t){return n.ra.add(t.toString())})}).next(function(){return r.Ji(t,e)})},t.prototype.Zc=function(){this.sa=new Set},t.prototype.ta=function(t){var e=this,n=this.persistence.$r().Nr();return Rf.forEach(this.ra,function(r){var i=Ec._t(r);return e.oa(t,i).next(function(t){t||n.li(i)})}).next(function(){return e.sa=null,n.apply(t)})},t.prototype.Fr=function(t,e){var n=this;return this.oa(t,e).next(function(t){t?n.ra.delete(e.toString()):n.ra.add(e.toString())})},t.prototype.Xc=function(t){return 0},t.prototype.oa=function(t,e){var n=this;return Rf.Ln([function(){return Rf.resolve(n.na.Fi(e))},function(){return n.persistence.Sr().Fi(t,e)},function(){return n.persistence.ea(t,e)}])},t}();function Yp(t,e){return"firestore_clients_"+t+"_"+e}function Kp(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.m()&&(r+="_"+e.uid),r}function Jp(t,e){return"firestore_targets_"+t+"_"+e}var Xp=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.ca=function(e,n,r){var i,o=JSON.parse(r),s="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return s&&o.error&&(s="string"==typeof o.error.message&&"string"==typeof o.error.code)&&(i=new ac(o.error.code,o.error.message)),s?new t(e,n,o.state,i):(Ya("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.aa=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Zp=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.ca=function(e,n){var r,i=JSON.parse(n),o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new ac(i.error.code,i.error.message)),o?new t(e,i.state,r):(Ya("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.aa=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),tg=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.ca=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=Hh(),s=0;i&&s<r.activeTargetIds.length;++s)i=Lc(r.activeTargetIds[s]),o=o.add(r.activeTargetIds[s]);return i?new t(e,o):(Ya("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),eg=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.ca=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(Ya("SharedClientState","Failed to parse online state: "+e),null)},t}(),ng=function(){function t(){this.activeTargetIds=Hh()}return t.prototype.ua=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.ha=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.aa=function(){var t={activeTargetIds:this.activeTargetIds.it(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),rg=function(){function t(t,e,n,r,i){this.window=t,this.Zr=e,this.persistenceKey=n,this.la=r,this._a=null,this.fa=null,this.k=null,this.da=this.wa.bind(this),this.Ea=new Sh(rc),this.Er=!1,this.Ta=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Ia=Yp(this.persistenceKey,this.la),this.ma=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.Ea=this.Ea.zt(this.la,new ng),this.Aa=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Ra=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.Pa=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.ya=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.ga=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.da)}return t.Kn=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return Object(za.b)(this,void 0,void 0,function(){var t,e,n,r,i,o,s,u,a,c,l=this;return Object(za.d)(this,function(h){switch(h.label){case 0:return[4,this._a.Uo()];case 1:for(t=h.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.la&&(i=this.getItem(Yp(this.persistenceKey,r)))&&(o=tg.ca(r,i))&&(this.Ea=this.Ea.zt(o.clientId,o));for(this.Va(),(s=this.storage.getItem(this.ya))&&(u=this.pa(s))&&this.ba(u),a=0,c=this.Ta;a<c.length;a++)this.wa(c[a]);return this.Ta=[],this.window.addEventListener("unload",function(){return l.ko()}),this.Er=!0,[2]}})})},t.prototype.B=function(t){this.setItem(this.ma,JSON.stringify(t))},t.prototype.va=function(){return this.Sa(this.Ea)},t.prototype.Da=function(t){var e=!1;return this.Ea.forEach(function(n,r){r.activeTargetIds.has(t)&&(e=!0)}),e},t.prototype.Ca=function(t){this.xa(t,"pending")},t.prototype.Na=function(t,e,n){this.xa(t,e,n),this.$a(t)},t.prototype.Fa=function(t){var e="not-current";if(this.Da(t)){var n=this.storage.getItem(Jp(this.persistenceKey,t));if(n){var r=Zp.ca(t,n);r&&(e=r.state)}}return this.Oa.ua(t),this.Va(),e},t.prototype.ka=function(t){this.Oa.ha(t),this.Va()},t.prototype.Ma=function(t){return this.Oa.activeTargetIds.has(t)},t.prototype.La=function(t){this.removeItem(Jp(this.persistenceKey,t))},t.prototype.Ba=function(t,e,n){this.qa(t,e,n)},t.prototype.Ua=function(t,e,n){var r=this;e.forEach(function(t){r.$a(t)}),this.currentUser=t,n.forEach(function(t){r.Ca(t)})},t.prototype.Qa=function(t){this.Ka(t)},t.prototype.Wa=function(){this.ja()},t.prototype.ko=function(){this.Er&&(this.window.removeEventListener("storage",this.da),this.removeItem(this.Ia),this.Er=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return Wa("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){Wa("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){Wa("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.wa=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(Wa("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Ia)return void Ya("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Zr.po(function(){return Object(za.b)(e,void 0,void 0,function(){var t,e,r,i,o,s;return Object(za.d)(this,function(u){if(this.Er){if(null!==n.key)if(this.Aa.test(n.key)){if(null==n.newValue)return t=this.Ga(n.key),[2,this.za(t,null)];if(e=this.Ha(n.key,n.newValue))return[2,this.za(e.clientId,e)]}else if(this.Ra.test(n.key)){if(null!==n.newValue&&(r=this.Ja(n.key,n.newValue)))return[2,this.Ya(r)]}else if(this.Pa.test(n.key)){if(null!==n.newValue&&(i=this.Xa(n.key,n.newValue)))return[2,this.Za(i)]}else if(n.key===this.ya){if(null!==n.newValue&&(o=this.pa(n.newValue)))return[2,this.ba(o)]}else if(n.key===this.ma)(s=function(t){var e=vc.q;if(null!=t)try{var n=JSON.parse(t);Za("number"==typeof n),e=n}catch(t){Ya("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==vc.q&&this.k(s);else if(n.key===this.ga)return[2,this._a.tu()]}else this.Ta.push(n);return[2]})})})}},Object.defineProperty(t.prototype,"Oa",{get:function(){return this.Ea.get(this.la)},enumerable:!1,configurable:!0}),t.prototype.Va=function(){this.setItem(this.Ia,this.Oa.aa())},t.prototype.xa=function(t,e,n){var r=new Xp(this.currentUser,t,e,n),i=Kp(this.persistenceKey,this.currentUser,t);this.setItem(i,r.aa())},t.prototype.$a=function(t){var e=Kp(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.Ka=function(t){this.storage.setItem(this.ya,JSON.stringify({clientId:this.la,onlineState:t}))},t.prototype.qa=function(t,e,n){var r=Jp(this.persistenceKey,t),i=new Zp(t,e,n);this.setItem(r,i.aa())},t.prototype.ja=function(){this.setItem(this.ga,"value-not-used")},t.prototype.Ga=function(t){var e=this.Aa.exec(t);return e?e[1]:null},t.prototype.Ha=function(t,e){var n=this.Ga(t);return tg.ca(n,e)},t.prototype.Ja=function(t,e){var n=this.Ra.exec(t),r=Number(n[1]);return Xp.ca(new lc(void 0!==n[2]?n[2]:null),r,e)},t.prototype.Xa=function(t,e){var n=this.Pa.exec(t),r=Number(n[1]);return Zp.ca(r,e)},t.prototype.pa=function(t){return eg.ca(t)},t.prototype.Ya=function(t){return Object(za.b)(this,void 0,void 0,function(){return Object(za.d)(this,function(e){return t.user.uid===this.currentUser.uid?[2,this._a.eu(t.batchId,t.state,t.error)]:(Wa("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])})})},t.prototype.Za=function(t){return this._a.nu(t.targetId,t.state,t.error)},t.prototype.za=function(t,e){var n=this,r=e?this.Ea.zt(t,e):this.Ea.remove(t),i=this.Sa(this.Ea),o=this.Sa(r),s=[],u=[];return o.forEach(function(t){i.has(t)||s.push(t)}),i.forEach(function(t){o.has(t)||u.push(t)}),this._a.su(s,u).then(function(){n.Ea=r})},t.prototype.ba=function(t){this.Ea.get(t.clientId)&&this.fa(t.onlineState)},t.prototype.Sa=function(t){var e=Hh();return t.forEach(function(t,n){e=e.Pe(n.activeTargetIds)}),e},t}(),ig=function(){function t(){this.iu=new ng,this.ru={},this.fa=null,this.k=null}return t.prototype.Ca=function(t){},t.prototype.Na=function(t,e,n){},t.prototype.Fa=function(t){return this.iu.ua(t),this.ru[t]||"not-current"},t.prototype.Ba=function(t,e,n){this.ru[t]=e},t.prototype.ka=function(t){this.iu.ha(t)},t.prototype.Ma=function(t){return this.iu.activeTargetIds.has(t)},t.prototype.La=function(t){delete this.ru[t]},t.prototype.va=function(){return this.iu.activeTargetIds},t.prototype.Da=function(t){return this.iu.activeTargetIds.has(t)},t.prototype.start=function(){return this.iu=new ng,Promise.resolve()},t.prototype.Ua=function(t,e,n){},t.prototype.Qa=function(t){},t.prototype.ko=function(){},t.prototype.B=function(t){},t.prototype.Wa=function(){},t}(),og=function(){function t(){}return t.prototype.ou=function(t){},t.prototype.ko=function(){},t}(),sg=function(){function t(){var t=this;this.cu=function(){return t.au()},this.uu=function(){return t.hu()},this.lu=[],this._u()}return t.prototype.ou=function(t){this.lu.push(t)},t.prototype.ko=function(){window.removeEventListener("online",this.cu),window.removeEventListener("offline",this.uu)},t.prototype._u=function(){window.addEventListener("online",this.cu),window.addEventListener("offline",this.uu)},t.prototype.au=function(){Wa("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.lu;t<e.length;t++)(0,e[t])(0)},t.prototype.hu=function(){Wa("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.lu;t<e.length;t++)(0,e[t])(1)},t.Kn=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),ug={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},ag=function(){function t(t){this.fu=t.fu,this.du=t.du}return t.prototype.wu=function(t){this.Eu=t},t.prototype.Tu=function(t){this.Iu=t},t.prototype.onMessage=function(t){this.mu=t},t.prototype.close=function(){this.du()},t.prototype.send=function(t){this.fu(t)},t.prototype.Au=function(){this.Eu()},t.prototype.Ru=function(t){this.Iu(t)},t.prototype.Pu=function(t){this.mu(t)},t}(),cg=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.i=e.i,n}return Object(za.c)(e,t),e.prototype.Su=function(t,e,n,r){return new Promise(function(i,o){var s=new qa;s.listenOnce(Va.COMPLETE,function(){try{switch(s.getLastErrorCode()){case Ua.NO_ERROR:var e=s.getResponseJson();Wa("Connection","XHR received:",JSON.stringify(e)),i(e);break;case Ua.TIMEOUT:Wa("Connection",'RPC "'+t+'" timed out'),o(new ac(uc.DEADLINE_EXCEEDED,"Request time out"));break;case Ua.HTTP_ERROR:var n=s.getStatus();if(Wa("Connection",'RPC "'+t+'" failed with status:',n,"response text:",s.getResponseText()),n>0){var r=s.getResponseJson().error;if(r&&r.status&&r.message){var u=function(t){var e=t.toLowerCase().replace(/_/g,"-");return Object.values(uc).indexOf(e)>=0?e:uc.UNKNOWN}(r.status);o(new ac(u,r.message))}else o(new ac(uc.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new ac(uc.UNAVAILABLE,"Connection failed."));break;default:Xa()}}finally{Wa("Connection",'RPC "'+t+'" completed.')}});var u=JSON.stringify(r);s.send(e,"POST",u,n,15)})},e.prototype.Cu=function(t,e){var n=[this.gu,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=new Pa,i=Ms(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.t.projectId+"/databases/"+this.t.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.i};this.vu(o.initMessageHeaders,e),Object(Fi.l)()||Object(Fi.n)()||Object(Fi.j)()||Object(Fi.k)()||Object(Fi.o)()||Object(Fi.i)()||(o.httpHeadersOverwriteParam="$httpHeaders");var s=n.join("");Wa("Connection","Creating WebChannel: "+s,o);var u=r.createWebChannel(s,o),a=!1,c=!1,l=new ag({fu:function(t){c?Wa("Connection","Not sending because WebChannel is closed:",t):(a||(Wa("Connection","Opening WebChannel transport."),u.open(),a=!0),Wa("Connection","WebChannel sending:",t),u.send(t))},du:function(){return u.close()}}),h=function(t,e,n){t.listen(e,function(t){try{n(t)}catch(t){setTimeout(function(){throw t},0)}})};return h(u,Ha.EventType.OPEN,function(){c||Wa("Connection","WebChannel transport opened.")}),h(u,Ha.EventType.CLOSE,function(){c||(c=!0,Wa("Connection","WebChannel transport closed"),l.Ru())}),h(u,Ha.EventType.ERROR,function(t){c||(c=!0,Ka("Connection","WebChannel transport errored:",t),l.Ru(new ac(uc.UNAVAILABLE,"The operation could not be completed")))}),h(u,Ha.EventType.MESSAGE,function(t){var e;if(!c){var n=t.data[0];Za(!!n);var r=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(r){Wa("Connection","WebChannel received error:",r);var i=r.status,o=function(t){var e=bh[t];if(void 0!==e)return Th(e)}(i),s=r.message;void 0===o&&(o=uc.INTERNAL,s="Unknown error status: "+i+" with message "+r.message),c=!0,l.Ru(new ac(o,s)),u.close()}else Wa("Connection","WebChannel received:",n),l.Pu(n)}}),h(i,Fa.STAT_EVENT,function(t){10===t.stat?Wa("Connection","Detected buffering proxy"):11===t.stat&&Wa("Connection","Detected no buffering proxy")}),setTimeout(function(){l.Au()},0),l},e}(function(){function t(t){this.yu=t,this.t=t.t,this.gu=(t.ssl?"https":"http")+"://"+t.host,this.Vu="projects/"+this.t.projectId+"/databases/"+this.t.database+"/documents"}return t.prototype.pu=function(t,e,n,r){var i=this.bu(t,e);Wa("RestConnection","Sending: ",i,n);var o={};return this.vu(o,r),this.Su(t,i,o,n).then(function(t){return Wa("RestConnection","Received: ",t),t},function(e){throw Ka("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e})},t.prototype.Du=function(t,e,n,r){return this.pu(t,e,n,r)},t.prototype.vu=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.3.0",t["Content-Type"]="text/plain",e)for(var n in e.g)e.g.hasOwnProperty(n)&&(t[n]=e.g[n])},t.prototype.bu=function(t,e){return this.gu+"/v1/"+e+":"+ug[t]},t}());function lg(){return"undefined"!=typeof window?window:null}function hg(){return"undefined"!=typeof document?document:null}function fg(t){return new nf(t,!0)}var dg=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Zr=t,this.fs=e,this.xu=n,this.Nu=r,this.$u=i,this.Fu=0,this.Ou=null,this.ku=Date.now(),this.reset()}return t.prototype.reset=function(){this.Fu=0},t.prototype.Mu=function(){this.Fu=this.$u},t.prototype.Lu=function(t){var e=this;this.cancel();var n=Math.floor(this.Fu+this.Bu()),r=Math.max(0,Date.now()-this.ku),i=Math.max(0,n-r);i>0&&Wa("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.Fu+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Ou=this.Zr.Tr(this.fs,i,function(){return e.ku=Date.now(),t()}),this.Fu*=this.Nu,this.Fu<this.xu&&(this.Fu=this.xu),this.Fu>this.$u&&(this.Fu=this.$u)},t.prototype.qu=function(){null!==this.Ou&&(this.Ou.Rs(),this.Ou=null)},t.prototype.cancel=function(){null!==this.Ou&&(this.Ou.cancel(),this.Ou=null)},t.prototype.Bu=function(){return(Math.random()-.5)*this.Fu},t}(),pg=function(){function t(t,e,n,r,i,o){this.Zr=t,this.Uu=n,this.Qu=r,this.Ku=i,this.listener=o,this.state=0,this.Wu=0,this.ju=null,this.stream=null,this.Gu=new dg(t,e)}return t.prototype.zu=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.Hu=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.Ju()},t.prototype.stop=function(){return Object(za.b)(this,void 0,void 0,function(){return Object(za.d)(this,function(t){switch(t.label){case 0:return this.zu()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},t.prototype.Yu=function(){this.state=0,this.Gu.reset()},t.prototype.Xu=function(){var t=this;this.Hu()&&null===this.ju&&(this.ju=this.Zr.Tr(this.Uu,6e4,function(){return t.Zu()}))},t.prototype.th=function(t){this.eh(),this.stream.send(t)},t.prototype.Zu=function(){return Object(za.b)(this,void 0,void 0,function(){return Object(za.d)(this,function(t){return this.Hu()?[2,this.close(0)]:[2]})})},t.prototype.eh=function(){this.ju&&(this.ju.cancel(),this.ju=null)},t.prototype.close=function(t,e){return Object(za.b)(this,void 0,void 0,function(){return Object(za.d)(this,function(n){switch(n.label){case 0:return this.eh(),this.Gu.cancel(),this.Wu++,3!==t?this.Gu.reset():e&&e.code===uc.RESOURCE_EXHAUSTED?(Ya(e.toString()),Ya("Using maximum backoff delay to prevent overloading the backend."),this.Gu.Mu()):e&&e.code===uc.UNAUTHENTICATED&&this.Ku.p(),null!==this.stream&&(this.nh(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Tu(e)];case 1:return n.sent(),[2]}})})},t.prototype.nh=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.sh(this.Wu),n=this.Wu;this.Ku.getToken().then(function(e){t.Wu===n&&t.ih(e)},function(n){e(function(){var e=new ac(uc.UNKNOWN,"Fetching auth token failed: "+n.message);return t.rh(e)})})},t.prototype.ih=function(t){var e=this,n=this.sh(this.Wu);this.stream=this.oh(t),this.stream.wu(function(){n(function(){return e.state=2,e.listener.wu()})}),this.stream.Tu(function(t){n(function(){return e.rh(t)})}),this.stream.onMessage(function(t){n(function(){return e.onMessage(t)})})},t.prototype.Ju=function(){var t=this;this.state=4,this.Gu.Lu(function(){return Object(za.b)(t,void 0,void 0,function(){return Object(za.d)(this,function(t){return this.state=0,this.start(),[2]})})})},t.prototype.rh=function(t){return Wa("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.sh=function(t){var e=this;return function(n){e.Zr.Ps(function(){return e.Wu===t?n():(Wa("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},t}(),gg=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).Qt=i,s}return Object(za.c)(e,t),e.prototype.oh=function(t){return this.Qu.Cu("Listen",t)},e.prototype.onMessage=function(t){this.Gu.reset();var e=function(t,e){var n;if("targetChange"in e){var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:Xa()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(t,e){return t.Bt?(Za(void 0===e||"string"==typeof e),sc.fromBase64String(e||"")):(Za(void 0===e||e instanceof Uint8Array),sc.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),s=(u=e.targetChange.cause)&&function(t){var e=void 0===t.code?uc.UNKNOWN:Th(t.code);return new ac(e,t.message||"")}(u);n=new Yh(r,i,o,s||null)}else if("documentChange"in e){i=hf(t,(r=e.documentChange).document.name),o=uf(r.document.updateTime);var u=new Jc({mapValue:{fields:r.document.fields}}),a=(s=new el(i,o,u,{}),r.targetIds||[]);n=new Qh(a,r.removedTargetIds||[],s.key,s)}else if("documentDelete"in e)i=hf(t,(r=e.documentDelete).document),o=r.readTime?uf(r.readTime):mc.min(),u=new nl(i,o),n=new Qh([],s=r.removedTargetIds||[],u.key,u);else if("documentRemove"in e)i=hf(t,(r=e.documentRemove).document),n=new Qh([],o=r.removedTargetIds||[],i,null);else{if(!("filter"in e))return Xa();var c=e.filter;i=new Eh(r=c.count||0),n=new Wh(o=c.targetId,i)}return n}(this.Qt,t),n=function(t){if(!("targetChange"in t))return mc.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?mc.min():e.readTime?uf(e.readTime):mc.min()}(t);return this.listener.ah(e,n)},e.prototype.uh=function(t){var e={};e.database=pf(this.Qt),e.addTarget=function(t,e){var n,r=e.target;return(n=al(r)?{documents:wf(t,r)}:{query:_f(t,r)}).targetId=e.targetId,e.resumeToken.l()>0?n.resumeToken=of(t,e.resumeToken):e.Ot._(mc.min())>0&&(n.readTime=rf(t,e.Ot.j())),n}(this.Qt,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Xa()}}(0,e.Ft);return null==n?null:{"goog-listen-tags":n}}(0,t);n&&(e.labels=n),this.th(e)},e.prototype.hh=function(t){var e={};e.database=pf(this.Qt),e.removeTarget=t,this.th(e)},e}(pg),vg=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).Qt=i,s.lh=!1,s}return Object(za.c)(e,t),Object.defineProperty(e.prototype,"_h",{get:function(){return this.lh},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.lh=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.nh=function(){this.lh&&this.fh([])},e.prototype.oh=function(t){return this.Qu.Cu("Write",t)},e.prototype.onMessage=function(t){if(Za(!!t.streamToken),this.lastStreamToken=t.streamToken,this.lh){this.Gu.reset();var e=function(t,e){return t&&t.length>0?(Za(void 0!==e),t.map(function(t){return function(t,e){var n=uf(t.updateTime?t.updateTime:e);return n.isEqual(mc.min())&&(n=uf(e)),new ih(n,t.transformResults||[])}(t,e)})):[]}(t.writeResults,t.commitTime),n=uf(t.commitTime);return this.listener.dh(n,e)}return Za(!t.writeResults||0===t.writeResults.length),this.lh=!0,this.listener.wh()},e.prototype.Eh=function(){var t={};t.database=pf(this.Qt),this.th(t)},e.prototype.fh=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map(function(t){return mf(e.Qt,t)})};this.th(n)},e}(pg),yg=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.Qu=n,i.Qt=r,i.Th=!1,i}return Object(za.c)(e,t),e.prototype.Ih=function(){if(this.Th)throw new ac(uc.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.pu=function(t,e,n){var r=this;return this.Ih(),this.credentials.getToken().then(function(i){return r.Qu.pu(t,e,n,i)}).catch(function(t){throw t.code===uc.UNAUTHENTICATED&&r.credentials.p(),t})},e.prototype.Du=function(t,e,n){var r=this;return this.Ih(),this.credentials.getToken().then(function(i){return r.Qu.Du(t,e,n,i)}).catch(function(t){throw t.code===uc.UNAUTHENTICATED&&r.credentials.p(),t})},e.prototype.terminate=function(){this.Th=!1},e}(function(){}),mg=function(){function t(t,e){this._s=t,this.fa=e,this.state="Unknown",this.mh=0,this.Ah=null,this.Rh=!0}return t.prototype.Ph=function(){var t=this;0===this.mh&&(this.yh("Unknown"),this.Ah=this._s.Tr("online_state_timeout",1e4,function(){return t.Ah=null,t.gh("Backend didn't respond within 10 seconds."),t.yh("Offline"),Promise.resolve()}))},t.prototype.Vh=function(t){"Online"===this.state?this.yh("Unknown"):(this.mh++,this.mh>=1&&(this.ph(),this.gh("Connection failed 1 times. Most recent error: "+t.toString()),this.yh("Offline")))},t.prototype.set=function(t){this.ph(),this.mh=0,"Online"===t&&(this.Rh=!1),this.yh(t)},t.prototype.yh=function(t){t!==this.state&&(this.state=t,this.fa(t))},t.prototype.gh=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Rh?(Ya(e),this.Rh=!1):Wa("OnlineStateTracker",e)},t.prototype.ph=function(){null!==this.Ah&&(this.Ah.cancel(),this.Ah=null)},t}(),bg=function(t,e,n,r,i){var o=this;this.bh=t,this.Sh=e,this._s=n,this.Dh={},this.Ch=[],this.xh=new Map,this.Nh=new Set,this.$h=[],this.Fh=i,this.Fh.ou(function(t){n.Ps(function(){return Object(za.b)(o,void 0,void 0,function(){return Object(za.d)(this,function(t){switch(t.label){case 0:return Cg(this)?(Wa("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return Object(za.b)(this,void 0,void 0,function(){var e;return Object(za.d)(this,function(n){switch(n.label){case 0:return(e=tc(t)).Nh.add(4),[4,_g(e)];case 1:return n.sent(),e.Oh.set("Unknown"),e.Nh.delete(4),[4,wg(e)];case 2:return n.sent(),[2]}})})}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})})}),this.Oh=new mg(n,r)};function wg(t){return Object(za.b)(this,void 0,void 0,function(){var e,n;return Object(za.d)(this,function(r){switch(r.label){case 0:if(!Cg(t))return[3,4];e=0,n=t.$h,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function _g(t){return Object(za.b)(this,void 0,void 0,function(){var e,n;return Object(za.d)(this,function(r){switch(r.label){case 0:e=0,n=t.$h,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function Og(t,e){var n=tc(t);n.xh.has(e.targetId)||(n.xh.set(e.targetId,e),xg(n)?Sg(n):zg(n).Hu()&&Ig(n,e))}function Eg(t,e){var n=tc(t),r=zg(n);n.xh.delete(e),r.Hu()&&Tg(n,e),0===n.xh.size&&(r.Hu()?r.Xu():Cg(n)&&n.Oh.set("Unknown"))}function Ig(t,e){t.kh.on(e.targetId),zg(t).uh(e)}function Tg(t,e){t.kh.on(e),zg(t).hh(e)}function Sg(t){t.kh=new Jh({vn:function(e){return t.Dh.vn(e)},Sn:function(e){return t.xh.get(e)||null}}),zg(t).start(),t.Oh.Ph()}function xg(t){return Cg(t)&&!zg(t).zu()&&t.xh.size>0}function Cg(t){return 0===tc(t).Nh.size}function jg(t){t.kh=void 0}function Ag(t){return Object(za.b)(this,void 0,void 0,function(){return Object(za.d)(this,function(e){return t.xh.forEach(function(e,n){Ig(t,e)}),[2]})})}function kg(t,e){return Object(za.b)(this,void 0,void 0,function(){return Object(za.d)(this,function(n){return jg(t),xg(t)?(t.Oh.Vh(e),Sg(t)):t.Oh.set("Unknown"),[2]})})}function Ng(t,e,n){return Object(za.b)(this,void 0,void 0,function(){var r,i,o;return Object(za.d)(this,function(s){switch(s.label){case 0:if(t.Oh.set("Online"),!(e instanceof Yh&&2===e.state&&e.cause))return[3,6];s.label=1;case 1:return s.trys.push([1,3,,5]),[4,function(t,e){return Object(za.b)(this,void 0,void 0,function(){var n,r,i,o;return Object(za.d)(this,function(s){switch(s.label){case 0:n=e.cause,r=0,i=e.targetIds,s.label=1;case 1:return r<i.length?t.xh.has(o=i[r])?[4,t.Dh.Mh(o,n)]:[3,3]:[3,5];case 2:s.sent(),t.xh.delete(o),t.kh.removeTarget(o),s.label=3;case 3:s.label=4;case 4:return r++,[3,1];case 5:return[2]}})})}(t,e)];case 2:return s.sent(),[3,5];case 3:return r=s.sent(),Wa("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,Pg(t,r)];case 4:return s.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof Qh?t.kh.dn(e):e instanceof Wh?t.kh.Pn(e):t.kh.Tn(e),n.isEqual(mc.min()))return[3,13];s.label=7;case 7:return s.trys.push([7,11,,13]),[4,xp(t.bh)];case 8:return i=s.sent(),n._(i)>=0?[4,function(t,e){var n=t.kh.Vn(e);return n.$e.forEach(function(n,r){if(n.resumeToken.l()>0){var i=t.xh.get(r);i&&t.xh.set(r,i.Mt(n.resumeToken,e))}}),n.Fe.forEach(function(e){var n=t.xh.get(e);if(n){t.xh.set(e,n.Mt(sc.T,n.Ot)),Tg(t,e);var r=new Hl(n.target,e,1,n.sequenceNumber);Ig(t,r)}}),t.Dh.Lh(n)}(t,n)]:[3,10];case 9:s.sent(),s.label=10;case 10:return[3,13];case 11:return Wa("RemoteStore","Failed to raise snapshot:",o=s.sent()),[4,Pg(t,o)];case 12:return s.sent(),[3,13];case 13:return[2]}})})}function Pg(t,e,n){return Object(za.b)(this,void 0,void 0,function(){var r=this;return Object(za.d)(this,function(i){switch(i.label){case 0:if(!Ff(e))throw e;return t.Nh.add(1),[4,_g(t)];case 1:return i.sent(),t.Oh.set("Offline"),n||(n=function(){return xp(t.bh)}),t._s.po(function(){return Object(za.b)(r,void 0,void 0,function(){return Object(za.d)(this,function(e){switch(e.label){case 0:return Wa("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.Nh.delete(1),[4,wg(t)];case 2:return e.sent(),[2]}})})}),[2]}})})}function Dg(t,e){return e().catch(function(n){return Pg(t,n,e)})}function Rg(t){return Object(za.b)(this,void 0,void 0,function(){var e,n,r,i,o;return Object(za.d)(this,function(s){switch(s.label){case 0:e=tc(t),n=Bg(e),r=e.Ch.length>0?e.Ch[e.Ch.length-1].batchId:-1,s.label=1;case 1:if(!function(t){return Cg(t)&&t.Ch.length<10}(e))return[3,7];s.label=2;case 2:return s.trys.push([2,4,,6]),[4,Ap(e.bh,r)];case 3:return null===(i=s.sent())?(0===e.Ch.length&&n.Xu(),[3,7]):(r=i.batchId,function(t,e){t.Ch.push(e);var n=Bg(t);n.Hu()&&n._h&&n.fh(e.mutations)}(e,i),[3,6]);case 4:return o=s.sent(),[4,Pg(e,o)];case 5:return s.sent(),[3,6];case 6:return[3,1];case 7:return Mg(e)&&Lg(e),[2]}})})}function Mg(t){return Cg(t)&&!Bg(t).zu()&&t.Ch.length>0}function Lg(t){Bg(t).start()}function Ug(t){return Object(za.b)(this,void 0,void 0,function(){return Object(za.d)(this,function(e){return Bg(t).Eh(),[2]})})}function Vg(t){return Object(za.b)(this,void 0,void 0,function(){var e,n,r;return Object(za.d)(this,function(i){for(e=Bg(t),n=0,r=t.Ch;n<r.length;n++)e.fh(r[n].mutations);return[2]})})}function Fg(t,e,n){return Object(za.b)(this,void 0,void 0,function(){var r,i;return Object(za.d)(this,function(o){switch(o.label){case 0:return r=t.Ch.shift(),i=bd.from(r,e,n),[4,Dg(t,function(){return t.Dh.Bh(i)})];case 1:return o.sent(),[4,Rg(t)];case 2:return o.sent(),[2]}})})}function Hg(t,e){return Object(za.b)(this,void 0,void 0,function(){return Object(za.d)(this,function(n){switch(n.label){case 0:return e&&Bg(t)._h?[4,function(t,e){return Object(za.b)(this,void 0,void 0,function(){var n,r;return Object(za.d)(this,function(i){switch(i.label){case 0:return Ih(r=e.code)&&r!==uc.ABORTED?(n=t.Ch.shift(),Bg(t).Yu(),[4,Dg(t,function(){return t.Dh.qh(n.batchId,e)})]):[3,3];case 1:return i.sent(),[4,Rg(t)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return Mg(t)&&Lg(t),[2]}})})}function qg(t,e){return Object(za.b)(this,void 0,void 0,function(){var n;return Object(za.d)(this,function(r){switch(r.label){case 0:return n=tc(t),e?(n.Nh.delete(2),[4,wg(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.Nh.add(2),[4,_g(n)]);case 3:r.sent(),n.Oh.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}})})}function zg(t){var e=this;return t.Uh||(t.Uh=function(t,e,n){var r=tc(t);return r.Ih(),new gg(e,r.Qu,r.credentials,r.Qt,n)}(t.Sh,t._s,{wu:Ag.bind(null,t),Tu:kg.bind(null,t),ah:Ng.bind(null,t)}),t.$h.push(function(n){return Object(za.b)(e,void 0,void 0,function(){return Object(za.d)(this,function(e){switch(e.label){case 0:return n?(t.Uh.Yu(),xg(t)?Sg(t):t.Oh.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Uh.stop()];case 2:e.sent(),jg(t),e.label=3;case 3:return[2]}})})})),t.Uh}function Bg(t){var e=this;return t.Qh||(t.Qh=function(t,e,n){var r=tc(t);return r.Ih(),new vg(e,r.Qu,r.credentials,r.Qt,n)}(t.Sh,t._s,{wu:Ug.bind(null,t),Tu:Hg.bind(null,t),wh:Vg.bind(null,t),dh:Fg.bind(null,t)}),t.$h.push(function(n){return Object(za.b)(e,void 0,void 0,function(){return Object(za.d)(this,function(e){switch(e.label){case 0:return n?(t.Qh.Yu(),[4,Rg(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.Qh.stop()];case 3:e.sent(),t.Ch.length>0&&(Wa("RemoteStore","Stopping write stream with "+t.Ch.length+" pending writes"),t.Ch=[]),e.label=4;case 4:return[2]}})})})),t.Qh}var Gg=function(){this.Kh=void 0,this.listeners=[]},$g=function(){this.queries=new Hd(function(t){return Ml(t)},Rl),this.onlineState="Unknown",this.Wh=new Set};function Qg(t,e){return Object(za.b)(this,void 0,void 0,function(){var n,r,i,o,s,u,a;return Object(za.d)(this,function(c){switch(c.label){case 0:if(n=tc(t),i=!1,(o=n.queries.get(r=e.query))||(i=!0,o=new Gg),!i)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),s=o,[4,n.jh(r)];case 2:return s.Kh=c.sent(),[3,4];case 3:return u=c.sent(),a=$f(u,"Initialization of query '"+Ll(e.query)+"' failed"),[2,void e.onError(a)];case 4:return n.queries.set(r,o),o.listeners.push(e),e.Gh(n.onlineState),o.Kh&&e.zh(o.Kh)&&Jg(n),[2]}})})}function Wg(t,e){return Object(za.b)(this,void 0,void 0,function(){var n,r,i,o,s;return Object(za.d)(this,function(u){return n=tc(t),i=!1,(o=n.queries.get(r=e.query))&&(s=o.listeners.indexOf(e))>=0&&(o.listeners.splice(s,1),i=0===o.listeners.length),i?[2,(n.queries.delete(r),n.Hh(r))]:[2]})})}function Yg(t,e){for(var n=tc(t),r=!1,i=0,o=e;i<o.length;i++){var s=o[i],u=n.queries.get(s.query);if(u){for(var a=0,c=u.listeners;a<c.length;a++)c[a].zh(s)&&(r=!0);u.Kh=s}}r&&Jg(n)}function Kg(t,e,n){var r=tc(t),i=r.queries.get(e);if(i)for(var o=0,s=i.listeners;o<s.length;o++)s[o].onError(n);r.queries.delete(e)}function Jg(t){t.Wh.forEach(function(t){t.next()})}var Xg=function(){function t(t,e,n){this.query=t,this.Jh=e,this.Yh=!1,this.Xh=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.zh=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new Bh(t.query,t.docs,t.Se,e,t.De,t.fromCache,t.Ce,!0)}var o=!1;return this.Yh?this.Zh(t)&&(this.Jh.next(t),o=!0):this.tl(t,this.onlineState)&&(this.el(t),o=!0),this.Xh=t,o},t.prototype.onError=function(t){this.Jh.error(t)},t.prototype.Gh=function(t){this.onlineState=t;var e=!1;return this.Xh&&!this.Yh&&this.tl(this.Xh,t)&&(this.el(this.Xh),e=!0),e},t.prototype.tl=function(t,e){return!t.fromCache||!(this.options.nl&&"Offline"!==e||t.docs.et()&&"Offline"!==e)},t.prototype.Zh=function(t){return t.docChanges.length>0||!!(t.Ce||this.Xh&&this.Xh.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.el=function(t){t=Bh.Ne(t.query,t.docs,t.De,t.fromCache),this.Yh=!0,this.Jh.next(t)},t}(),Zg=function(){function t(t,e){this.payload=t,this.byteLength=e}return t.prototype.sl=function(){return"metadata"in this.payload},t}(),tv=function(){function t(t){this.Qt=t}return t.prototype.Pc=function(t){return hf(this.Qt,t)},t.prototype.yc=function(t){return t.metadata.exists?yf(this.Qt,t.document,!1):new nl(this.Pc(t.metadata.name),this.gc(t.metadata.readTime))},t.prototype.gc=function(t){return uf(t)},t}();!function(){function t(t,e,n){this.il=t,this.bh=e,this.Qt=n,this.queries=[],this.documents=[],this.progress=function(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}(t)}t.prototype.rl=function(t){this.progress.bytesLoaded+=t.byteLength;var e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null},t.prototype.ol=function(t){for(var e=new Map,n=new tv(this.Qt),r=0,i=t;r<i.length;r++){var o=i[r];if(o.metadata.queries)for(var s=n.Pc(o.metadata.name),u=0,a=o.metadata.queries;u<a.length;u++){var c=a[u],l=(e.get(c)||Vh()).add(s);e.set(c,l)}}return e},t.prototype.complete=function(){return Object(za.b)(this,void 0,void 0,function(){var t,e,n,r,i;return Object(za.d)(this,function(o){switch(o.label){case 0:return[4,Lp(this.bh,new tv(this.Qt),this.documents,this.il.id)];case 1:t=o.sent(),e=this.ol(this.documents),n=0,r=this.queries,o.label=2;case 2:return n<r.length?[4,Up(this.bh,i=r[n],e.get(i.name))]:[3,5];case 3:o.sent(),o.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new bp(Object.assign({},this.progress),t))]}})})}}();var ev=function(t){this.key=t},nv=function(t){this.key=t},rv=function(){function t(t,e){this.query=t,this.cl=e,this.al=null,this.Be=!1,this.ul=Vh(),this.De=Vh(),this.hl=Vl(t),this.ll=new qh(this.hl)}return Object.defineProperty(t.prototype,"_l",{get:function(){return this.cl},enumerable:!1,configurable:!0}),t.prototype.fl=function(t,e){var n=this,r=e?e.dl:new zh,i=e?e.ll:this.ll,o=e?e.De:this.De,s=i,u=!1,a=xl(this.query)&&i.size===this.query.limit?i.last():null,c=Cl(this.query)&&i.size===this.query.limit?i.first():null;if(t.Xt(function(t,e){var l=i.get(t),h=e instanceof el?e:null;h&&(h=Ul(n.query,h)?h:null);var f=!!l&&n.De.has(l.key),d=!!h&&(h.Vt||n.De.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data().isEqual(h.data())?f!==d&&(r.track({type:3,doc:h}),p=!0):n.wl(l,h)||(r.track({type:2,doc:h}),p=!0,(a&&n.hl(h,a)>0||c&&n.hl(h,c)<0)&&(u=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(a||c)&&(u=!0)),p&&(h?(s=s.add(h),o=d?o.add(t):o.delete(t)):(s=s.delete(t),o=o.delete(t)))}),xl(this.query)||Cl(this.query))for(;s.size>this.query.limit;){var l=xl(this.query)?s.last():s.first();s=s.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{ll:s,dl:r,lc:u,De:o}},t.prototype.wl=function(t,e){return t.Vt&&e.hasCommittedMutations&&!e.Vt},t.prototype.wi=function(t,e,n){var r=this,i=this.ll;this.ll=t.ll,this.De=t.De;var o=t.dl.ve();o.sort(function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Xa()}};return n(t)-n(e)}(t.type,e.type)||r.hl(t.doc,e.doc)}),this.El(n);var s=e?this.Tl():[],u=0===this.ul.size&&this.Be?1:0,a=u!==this.al;return this.al=u,0!==o.length||a?{snapshot:new Bh(this.query,t.ll,i,o,t.De,0===u,a,!1),Il:s}:{Il:s}},t.prototype.Gh=function(t){return this.Be&&"Offline"===t?(this.Be=!1,this.wi({ll:this.ll,dl:new zh,De:this.De,lc:!1},!1)):{Il:[]}},t.prototype.ml=function(t){return!this.cl.has(t)&&!!this.ll.has(t)&&!this.ll.get(t).Vt},t.prototype.El=function(t){var e=this;t&&(t.qe.forEach(function(t){return e.cl=e.cl.add(t)}),t.Ue.forEach(function(t){}),t.Qe.forEach(function(t){return e.cl=e.cl.delete(t)}),this.Be=t.Be)},t.prototype.Tl=function(){var t=this;if(!this.Be)return[];var e=this.ul;this.ul=Vh(),this.ll.forEach(function(e){t.ml(e.key)&&(t.ul=t.ul.add(e.key))});var n=[];return e.forEach(function(e){t.ul.has(e)||n.push(new nv(e))}),this.ul.forEach(function(t){e.has(t)||n.push(new ev(t))}),n},t.prototype.Al=function(t){this.cl=t.Rc,this.ul=Vh();var e=this.fl(t.documents);return this.wi(e,!0)},t.prototype.Rl=function(){return Bh.Ne(this.query,this.ll,this.De,0===this.al)},t}(),iv=function(t,e,n){this.query=t,this.targetId=e,this.view=n},ov=function(t){this.key=t,this.Pl=!1},sv=function(){function t(t,e,n,r,i,o){this.bh=t,this.yl=e,this.gl=n,this.Vl=r,this.currentUser=i,this.pl=o,this.bl={},this.vl=new Hd(function(t){return Ml(t)},Rl),this.Sl=new Map,this.Dl=new Set,this.Cl=new Sh(Ec.H),this.xl=new Map,this.Nl=new Fp,this.$l={},this.Fl=new Map,this.Ol=Kd.Li(),this.onlineState="Unknown",this.kl=void 0}return Object.defineProperty(t.prototype,"Ml",{get:function(){return!0===this.kl},enumerable:!1,configurable:!0}),t}();function uv(t,e){return Object(za.b)(this,void 0,void 0,function(){var n,r,i,o,s;return Object(za.d)(this,function(u){switch(u.label){case 0:return n=Mv(t),(i=n.vl.get(e))?(n.Vl.Fa(i.targetId),r=i.view.Rl(),[3,4]):[3,1];case 1:return[4,kp(n.bh,Pl(e))];case 2:return o=u.sent(),s=n.Vl.Fa(o.targetId),[4,av(n,e,o.targetId,"current"===s)];case 3:r=u.sent(),n.Ml&&Og(n.yl,o),u.label=4;case 4:return[2,r]}})})}function av(t,e,n,r){return Object(za.b)(this,void 0,void 0,function(){var i,o,s,u,a,c;return Object(za.d)(this,function(l){switch(l.label){case 0:return t.Ll=function(e,n,r){return function(t,e,n,r){return Object(za.b)(this,void 0,void 0,function(){var i,o,s;return Object(za.d)(this,function(u){switch(u.label){case 0:return(i=e.view.fl(n)).lc?[4,Pp(t.bh,e.query,!1).then(function(t){return e.view.fl(t.documents,i)})]:[3,2];case 1:i=u.sent(),u.label=2;case 2:return o=r&&r.$e.get(e.targetId),s=e.view.wi(i,t.Ml,o),[2,(_v(t,e.targetId,s.Il),s.snapshot)]}})})}(t,e,n,r)},[4,Pp(t.bh,e,!0)];case 1:return i=l.sent(),o=new rv(e,i.Rc),s=o.fl(i.documents),u=$h.Le(n,r&&"Offline"!==t.onlineState),a=o.wi(s,t.Ml,u),_v(t,n,a.Il),c=new iv(e,n,o),[2,(t.vl.set(e,c),t.Sl.has(n)?t.Sl.get(n).push(e):t.Sl.set(n,[e]),a.snapshot)]}})})}function cv(t,e){return Object(za.b)(this,void 0,void 0,function(){var n,r,i;return Object(za.d)(this,function(o){switch(o.label){case 0:return n=tc(t),r=n.vl.get(e),(i=n.Sl.get(r.targetId)).length>1?[2,(n.Sl.set(r.targetId,i.filter(function(t){return!Rl(t,e)})),void n.vl.delete(e))]:n.Ml?(n.Vl.ka(r.targetId),n.Vl.Da(r.targetId)?[3,2]:[4,Np(n.bh,r.targetId,!1).then(function(){n.Vl.La(r.targetId),Eg(n.yl,r.targetId),bv(n,r.targetId)}).catch(Fd)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return bv(n,r.targetId),[4,Np(n.bh,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}})})}function lv(t,e,n){return Object(za.b)(this,void 0,void 0,function(){var r,i,o,s;return Object(za.d)(this,function(u){switch(u.label){case 0:r=Lv(t),u.label=1;case 1:return u.trys.push([1,5,,6]),[4,function(t,e){var n,r=tc(t),i=yc.now(),o=e.reduce(function(t,e){return t.add(e.key)},Vh());return r.persistence.runTransaction("Locally write mutations","readwrite",function(t){return r.Tc.Xo(t,o).next(function(o){n=o;for(var s=[],u=0,a=e;u<a.length;u++){var c=a[u],l=lh(c,n.get(c.key));null!=l&&s.push(new ph(c.key,l,Zc(l.proto.mapValue),oh.exists(!0)))}return r.zo.Ri(t,i,s,e)})}).then(function(t){var e=t.xs(n);return{batchId:t.batchId,ri:e}})}(r.bh,e)];case 2:return i=u.sent(),r.Vl.Ca(i.batchId),function(t,e,n){var r=t.$l[t.currentUser.A()];r||(r=new Sh(rc)),r=r.zt(e,n),t.$l[t.currentUser.A()]=r}(r,i.batchId,n),[4,Iv(r,i.ri)];case 3:return u.sent(),[4,Rg(r.yl)];case 4:return u.sent(),[3,6];case 5:return o=u.sent(),s=$f(o,"Failed to persist write"),n.reject(s),[3,6];case 6:return[2]}})})}function hv(t,e){return Object(za.b)(this,void 0,void 0,function(){var n,r;return Object(za.d)(this,function(i){switch(i.label){case 0:n=tc(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,Cp(n.bh,e)];case 2:return r=i.sent(),e.$e.forEach(function(t,e){var r=n.xl.get(e);r&&(Za(t.qe.size+t.Ue.size+t.Qe.size<=1),t.qe.size>0?r.Pl=!0:t.Ue.size>0?Za(r.Pl):t.Qe.size>0&&(Za(r.Pl),r.Pl=!1))}),[4,Iv(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,Fd(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}})})}function fv(t,e,n){var r=tc(t);if(r.Ml&&0===n||!r.Ml&&1===n){var i=[];r.vl.forEach(function(t,n){var r=n.view.Gh(e);r.snapshot&&i.push(r.snapshot)}),function(t,e){var n=tc(t);n.onlineState=e;var r=!1;n.queries.forEach(function(t,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].Gh(e)&&(r=!0)}),r&&Jg(n)}(r.gl,e),i.length&&r.bl.ah(i),r.onlineState=e,r.Ml&&r.Vl.Qa(e)}}function dv(t,e,n){return Object(za.b)(this,void 0,void 0,function(){var r,i,o,s,u,a;return Object(za.d)(this,function(c){switch(c.label){case 0:return(r=tc(t)).Vl.Ba(e,"rejected",n),i=r.xl.get(e),(o=i&&i.key)?(s=(s=new Sh(Ec.H)).zt(o,new nl(o,mc.min())),u=Vh().add(o),a=new Gh(mc.min(),new Map,new jh(rc),s,u),[4,hv(r,a)]):[3,2];case 1:return c.sent(),r.Cl=r.Cl.remove(o),r.xl.delete(e),Ev(r),[3,4];case 2:return[4,Np(r.bh,e,!1).then(function(){return bv(r,e,n)}).catch(Fd)];case 3:c.sent(),c.label=4;case 4:return[2]}})})}function pv(t,e){return Object(za.b)(this,void 0,void 0,function(){var n,r,i;return Object(za.d)(this,function(o){switch(o.label){case 0:n=tc(t),r=e.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,Sp(n.bh,e)];case 2:return i=o.sent(),mv(n,r,null),yv(n,r),n.Vl.Na(r,"acknowledged"),[4,Iv(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,Fd(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function gv(t,e,n){return Object(za.b)(this,void 0,void 0,function(){var r,i;return Object(za.d)(this,function(o){switch(o.label){case 0:r=tc(t),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(t,e){var n=tc(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",function(t){var r;return n.zo.Pi(t,e).next(function(e){return Za(null!==e),r=e.keys(),n.zo.Ci(t,e)}).next(function(){return n.zo.$i(t)}).next(function(){return n.Tc.Xo(t,r)})})}(r.bh,e)];case 2:return i=o.sent(),mv(r,e,n),yv(r,e),r.Vl.Na(e,"rejected",n),[4,Iv(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,Fd(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function vv(t,e){return Object(za.b)(this,void 0,void 0,function(){var n,r,i,o,s;return Object(za.d)(this,function(u){switch(u.label){case 0:Cg((n=tc(t)).yl)||Wa("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),u.label=1;case 1:return u.trys.push([1,3,,4]),[4,function(t){var e=tc(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(t){return e.zo.Vi(t)})}(n.bh)];case 2:return-1===(r=u.sent())?[2,void e.resolve()]:((i=n.Fl.get(r)||[]).push(e),n.Fl.set(r,i),[3,4]);case 3:return o=u.sent(),s=$f(o,"Initialization of waitForPendingWrites() operation failed"),e.reject(s),[3,4];case 4:return[2]}})})}function yv(t,e){(t.Fl.get(e)||[]).forEach(function(t){t.resolve()}),t.Fl.delete(e)}function mv(t,e,n){var r=tc(t),i=r.$l[r.currentUser.A()];if(i){var o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.$l[r.currentUser.A()]=i}}function bv(t,e,n){void 0===n&&(n=null),t.Vl.ka(e);for(var r=0,i=t.Sl.get(e);r<i.length;r++){var o=i[r];t.vl.delete(o),n&&t.bl.Bl(o,n)}t.Sl.delete(e),t.Ml&&t.Nl.Fc(e).forEach(function(e){t.Nl.Fi(e)||wv(t,e)})}function wv(t,e){t.Dl.delete(e.path.rt());var n=t.Cl.get(e);null!==n&&(Eg(t.yl,n),t.Cl=t.Cl.remove(e),t.xl.delete(n),Ev(t))}function _v(t,e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof ev?(t.Nl.nr(o.key,e),Ov(t,o)):o instanceof nv?(Wa("SyncEngine","Document no longer in limbo: "+o.key),t.Nl.ir(o.key,e),t.Nl.Fi(o.key)||wv(t,o.key)):Xa()}}function Ov(t,e){var n=e.key,r=n.path.rt();t.Cl.get(n)||t.Dl.has(r)||(Wa("SyncEngine","New document in limbo: "+n),t.Dl.add(r),Ev(t))}function Ev(t){for(;t.Dl.size>0&&t.Cl.size<t.pl;){var e=t.Dl.values().next().value;t.Dl.delete(e);var n=new Ec(wc.ot(e)),r=t.Ol.next();t.xl.set(r,new ov(n)),t.Cl=t.Cl.zt(n,r),Og(t.yl,new Hl(Pl(Sl(n.path)),r,2,vc.q))}}function Iv(t,e,n){return Object(za.b)(this,void 0,void 0,function(){var r,i,o,s;return Object(za.d)(this,function(u){switch(u.label){case 0:return r=tc(t),i=[],o=[],s=[],r.vl.et()?[3,3]:(r.vl.forEach(function(t,u){s.push(r.Ll(u,e,n).then(function(t){if(t){r.Ml&&r.Vl.Ba(u.targetId,t.fromCache?"not-current":"current"),i.push(t);var e=_p.oc(u.targetId,t);o.push(e)}}))}),[4,Promise.all(s)]);case 1:return u.sent(),r.bl.ah(i),[4,function(t,e){return Object(za.b)(this,void 0,void 0,function(){var n,r,i,o,s,u,a,c;return Object(za.d)(this,function(l){switch(l.label){case 0:n=tc(t),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(t){return Rf.forEach(e,function(e){return Rf.forEach(e.ic,function(r){return n.persistence.Ti.nr(t,e.targetId,r)}).next(function(){return Rf.forEach(e.rc,function(r){return n.persistence.Ti.ir(t,e.targetId,r)})})})})];case 2:return l.sent(),[3,4];case 3:if(!Ff(r=l.sent()))throw r;return Wa("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=e;i<o.length;i++)u=(s=o[i]).targetId,s.fromCache||(a=n.fc.get(u),c=a.Lt(a.Ot),n.fc=n.fc.zt(u,c));return[2]}})})}(r.bh,o)];case 2:u.sent(),u.label=3;case 3:return[2]}})})}function Tv(t,e){return Object(za.b)(this,void 0,void 0,function(){var n,r;return Object(za.d)(this,function(i){switch(i.label){case 0:return(n=tc(t)).currentUser.isEqual(e)?[3,3]:(Wa("SyncEngine","User change. New user:",e.A()),[4,Tp(n.bh,e)]);case 1:return r=i.sent(),n.currentUser=e,function(t,e){t.Fl.forEach(function(t){t.forEach(function(t){t.reject(new ac(uc.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),t.Fl.clear()}(n),n.Vl.Ua(e,r.mc,r.Ac),[4,Iv(n,r.Ic)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}function Sv(t,e){var n=tc(t),r=n.xl.get(e);if(r&&r.Pl)return Vh().add(r.key);var i=Vh(),o=n.Sl.get(e);if(!o)return i;for(var s=0,u=o;s<u.length;s++){var a=n.vl.get(u[s]);i=i.Pe(a.view._l)}return i}function xv(t,e){return Object(za.b)(this,void 0,void 0,function(){var n,r,i;return Object(za.d)(this,function(o){switch(o.label){case 0:return[4,Pp((n=tc(t)).bh,e.query,!0)];case 1:return r=o.sent(),i=e.view.Al(r),[2,(n.Ml&&_v(n,e.targetId,i.Il),i)]}})})}function Cv(t){return Object(za.b)(this,void 0,void 0,function(){var e;return Object(za.d)(this,function(n){return[2,Rp((e=tc(t)).bh).then(function(t){return Iv(e,t)})]})})}function jv(t,e,n,r){return Object(za.b)(this,void 0,void 0,function(){var i,o;return Object(za.d)(this,function(s){switch(s.label){case 0:return[4,function(t,e){var n=tc(t),r=tc(n.zo);return n.persistence.runTransaction("Lookup mutation documents","readonly",function(t){return r.yi(t,e).next(function(e){return e?n.Tc.Xo(t,e):Rf.resolve(null)})})}((i=tc(t)).bh,e)];case 1:return null===(o=s.sent())?[3,6]:"pending"!==n?[3,3]:[4,Rg(i.yl)];case 2:return s.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(mv(i,e,r||null),yv(i,e),function(t,e){tc(tc(t).zo).xi(e)}(i.bh,e)):Xa(),s.label=4;case 4:return[4,Iv(i,o)];case 5:return s.sent(),[3,7];case 6:Wa("SyncEngine","Cannot apply mutation batch with id: "+e),s.label=7;case 7:return[2]}})})}function Av(t,e){return Object(za.b)(this,void 0,void 0,function(){var n,r,i,o,s,u,a;return Object(za.d)(this,function(c){switch(c.label){case 0:return Mv(n=tc(t)),Lv(n),!0!==e||!0===n.kl?[3,3]:(r=n.Vl.va(),[4,kv(n,r.it())]);case 1:return i=c.sent(),n.kl=!0,[4,qg(n.yl,!0)];case 2:for(c.sent(),o=0,s=i;o<s.length;o++)Og(n.yl,s[o]);return[3,7];case 3:return!1!==e||!1===n.kl?[3,7]:(u=[],a=Promise.resolve(),n.Sl.forEach(function(t,e){n.Vl.Ma(e)?u.push(e):a=a.then(function(){return bv(n,e),Np(n.bh,e,!0)}),Eg(n.yl,e)}),[4,a]);case 4:return c.sent(),[4,kv(n,u)];case 5:return c.sent(),function(t){var e=tc(t);e.xl.forEach(function(t,n){Eg(e.yl,n)}),e.Nl.Oc(),e.xl=new Map,e.Cl=new Sh(Ec.H)}(n),n.kl=!1,[4,qg(n.yl,!1)];case 6:c.sent(),c.label=7;case 7:return[2]}})})}function kv(t,e,n){return Object(za.b)(this,void 0,void 0,function(){var n,r,i,o,s,u,a,c,l,h,f,d,p;return Object(za.d)(this,function(g){switch(g.label){case 0:n=tc(t),r=[],i=[],o=0,s=e,g.label=1;case 1:return o<s.length?(a=void 0,(c=n.Sl.get(u=s[o]))&&0!==c.length?[4,kp(n.bh,Pl(c[0]))]:[3,7]):[3,13];case 2:a=g.sent(),l=0,h=c,g.label=3;case 3:return l<h.length?(f=n.vl.get(h[l]),[4,xv(n,f)]):[3,6];case 4:(d=g.sent()).snapshot&&i.push(d.snapshot),g.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,Dp(n.bh,u)];case 8:return p=g.sent(),[4,kp(n.bh,p)];case 9:return a=g.sent(),[4,av(n,Nv(p),u,!1)];case 10:g.sent(),g.label=11;case 11:r.push(a),g.label=12;case 12:return o++,[3,1];case 13:return[2,(n.bl.ah(i),r)]}})})}function Nv(t){return Tl(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function Pv(t){var e=tc(t);return tc(tc(e.bh).persistence).Uo()}function Dv(t,e,n,r){return Object(za.b)(this,void 0,void 0,function(){var i,o,s;return Object(za.d)(this,function(u){switch(u.label){case 0:return(i=tc(t)).kl?(Wa("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Sl.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,Rp(i.bh)];case 3:return o=u.sent(),s=Gh.Me(e,"current"===n),[4,Iv(i,o,s)];case 4:return u.sent(),[3,8];case 5:return[4,Np(i.bh,e,!0)];case 6:return u.sent(),bv(i,e,r),[3,8];case 7:Xa(),u.label=8;case 8:return[2]}})})}function Rv(t,e,n){return Object(za.b)(this,void 0,void 0,function(){var r,i,o,s,u,a,c,l,h;return Object(za.d)(this,function(f){switch(f.label){case 0:if(!(r=Mv(t)).kl)return[3,10];i=0,o=e,f.label=1;case 1:return i<o.length?r.Sl.has(s=o[i])?(Wa("SyncEngine","Adding an already active target "+s),[3,5]):[4,Dp(r.bh,s)]:[3,6];case 2:return u=f.sent(),[4,kp(r.bh,u)];case 3:return a=f.sent(),[4,av(r,Nv(u),a.targetId,!1)];case 4:f.sent(),Og(r.yl,a),f.label=5;case 5:return i++,[3,1];case 6:c=function(t){return Object(za.d)(this,function(e){switch(e.label){case 0:return r.Sl.has(t)?[4,Np(r.bh,t,!1).then(function(){Eg(r.yl,t),bv(r,t)}).catch(Fd)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})},l=0,h=n,f.label=7;case 7:return l<h.length?[5,c(h[l])]:[3,10];case 8:f.sent(),f.label=9;case 9:return l++,[3,7];case 10:return[2]}})})}function Mv(t){var e=tc(t);return e.yl.Dh.Lh=hv.bind(null,e),e.yl.Dh.vn=Sv.bind(null,e),e.yl.Dh.Mh=dv.bind(null,e),e.bl.ah=Yg.bind(null,e.gl),e.bl.Bl=Kg.bind(null,e.gl),e}function Lv(t){var e=tc(t);return e.yl.Dh.Bh=pv.bind(null,e),e.yl.Dh.qh=gv.bind(null,e),e}var Uv=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return Object(za.b)(this,void 0,void 0,function(){return Object(za.d)(this,function(e){switch(e.label){case 0:return this.Qt=fg(t.yu.t),this.Vl=this.Wl(t),this.persistence=this.jl(t),[4,this.persistence.start()];case 1:return e.sent(),this.Gl=this.zl(t),this.bh=this.Hl(t),[2]}})})},t.prototype.zl=function(t){return null},t.prototype.Hl=function(t){return Ip(this.persistence,new Op,t.Jl,this.Qt)},t.prototype.jl=function(t){return new $p(Wp.ia,this.Qt)},t.prototype.Wl=function(t){return new ig},t.prototype.terminate=function(){return Object(za.b)(this,void 0,void 0,function(){return Object(za.d)(this,function(t){switch(t.label){case 0:return this.Gl&&this.Gl.stop(),[4,this.Vl.ko()];case 1:return t.sent(),[4,this.persistence.ko()];case 2:return t.sent(),[2]}})})},t}(),Vv=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Yl=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return Object(za.c)(e,t),e.prototype.initialize=function(e){return Object(za.b)(this,void 0,void 0,function(){return Object(za.d)(this,function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,Mp(this.bh)];case 2:return n.sent(),[4,this.Yl.initialize(this,e)];case 3:return n.sent(),[4,Lv(this.Yl._a)];case 4:return n.sent(),[4,Rg(this.Yl.yl)];case 5:return n.sent(),[2]}})})},e.prototype.Hl=function(t){return Ip(this.persistence,new Op,t.Jl,this.Qt)},e.prototype.zl=function(t){return new rp(this.persistence.Ti.lr,t._s)},e.prototype.jl=function(t){var e=mp(t.yu.t,t.yu.persistenceKey),n=void 0!==this.cacheSizeBytes?Vd.Ys(this.cacheSizeBytes):Vd.ti;return new gp(this.synchronizeTabs,e,t.clientId,n,t._s,lg(),hg(),this.Qt,this.Vl,!!this.forceOwnership)},e.prototype.Wl=function(t){return new ig},e}(Uv),Fv=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Yl=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return Object(za.c)(e,t),e.prototype.initialize=function(e){return Object(za.b)(this,void 0,void 0,function(){var n,r=this;return Object(za.d)(this,function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this.Yl._a,this.Vl instanceof rg?(this.Vl._a={eu:jv.bind(null,n),nu:Dv.bind(null,n),su:Rv.bind(null,n),Uo:Pv.bind(null,n),tu:Cv.bind(null,n)},[4,this.Vl.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.Ro(function(t){return Object(za.b)(r,void 0,void 0,function(){return Object(za.d)(this,function(e){switch(e.label){case 0:return[4,Av(this.Yl._a,t)];case 1:return e.sent(),this.Gl&&(t&&!this.Gl.Er?this.Gl.start(this.bh):t||this.Gl.stop()),[2]}})})})];case 4:return i.sent(),[2]}})})},e.prototype.Wl=function(t){var e=lg();if(!rg.Kn(e))throw new ac(uc.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=mp(t.yu.t,t.yu.persistenceKey);return new rg(e,t._s,n,t.clientId,t.Jl)},e}(Vv),Hv=function(){function t(){}return t.prototype.initialize=function(t,e){return Object(za.b)(this,void 0,void 0,function(){var n=this;return Object(za.d)(this,function(r){switch(r.label){case 0:return this.bh?[3,2]:(this.bh=t.bh,this.Vl=t.Vl,this.Sh=this.Xl(e),this.yl=this.Zl(e),this.gl=this.t_(e),this._a=this.e_(e,!t.synchronizeTabs),this.Vl.fa=function(t){return fv(n._a,t,1)},this.yl.Dh.n_=Tv.bind(null,this._a),[4,qg(this.yl,this._a.Ml)]);case 1:r.sent(),r.label=2;case 2:return[2]}})})},t.prototype.t_=function(t){return new $g},t.prototype.Xl=function(t){var e=fg(t.yu.t),n=new cg(t.yu);return function(t,e,n){return new yg(t,e,n)}(t.credentials,n,e)},t.prototype.Zl=function(t){var e,n,r,i,o,s=this;return e=this.bh,n=this.Sh,r=t._s,i=function(t){return fv(s._a,t,0)},o=sg.Kn()?new sg:new og,new bg(e,n,r,i,o)},t.prototype.e_=function(t,e){return function(t,e,n,r,i,o,s){var u=new sv(t,e,n,r,i,o);return s&&(u.kl=!0),u}(this.bh,this.yl,this.gl,this.Vl,t.Jl,t.pl,e)},t.prototype.terminate=function(){return function(t){return Object(za.b)(this,void 0,void 0,function(){var e;return Object(za.d)(this,function(n){switch(n.label){case 0:return e=tc(t),Wa("RemoteStore","RemoteStore shutting down."),e.Nh.add(5),[4,_g(e)];case 1:return n.sent(),e.Fh.ko(),e.Oh.set("Unknown"),[2]}})})}(this.yl)},t}(),qv=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.s_(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.s_(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.i_=function(){this.muted=!0},t.prototype.s_=function(t,e){var n=this;this.muted||setTimeout(function(){n.muted||t(e)},0)},t}(),zv=(function(){function t(t,e){var n=this;this.r_=t,this.Qt=e,this.metadata=new Df,this.buffer=new Uint8Array,this.o_=new TextDecoder("utf-8"),this.c_().then(function(t){t&&t.sl()?n.metadata.resolve(t.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==t?void 0:t.payload)))},function(t){return n.metadata.reject(t)})}t.prototype.close=function(){return this.r_.cancel()},t.prototype.getMetadata=function(){return Object(za.b)(this,void 0,void 0,function(){return Object(za.d)(this,function(t){return[2,this.metadata.promise]})})},t.prototype.Ql=function(){return Object(za.b)(this,void 0,void 0,function(){return Object(za.d)(this,function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.c_())]}})})},t.prototype.c_=function(){return Object(za.b)(this,void 0,void 0,function(){var t,e,n,r;return Object(za.d)(this,function(i){switch(i.label){case 0:return[4,this.a_()];case 1:return null===(t=i.sent())?[2,null]:(e=this.o_.decode(t),n=Number(e),isNaN(n)&&this.u_("length string ("+e+") is not valid number"),[4,this.h_(n)]);case 2:return r=i.sent(),[2,new Zg(JSON.parse(r),t.length+n)]}})})},t.prototype.l_=function(){return this.buffer.findIndex(function(t){return t==="{".charCodeAt(0)})},t.prototype.a_=function(){return Object(za.b)(this,void 0,void 0,function(){var t,e;return Object(za.d)(this,function(n){switch(n.label){case 0:return this.l_()<0?[4,this.__()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((t=this.l_())<0&&this.u_("Reached the end of bundle when a length string is expected."),e=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),e)])}})})},t.prototype.h_=function(t){return Object(za.b)(this,void 0,void 0,function(){var e;return Object(za.d)(this,function(n){switch(n.label){case 0:return this.buffer.length<t?[4,this.__()]:[3,3];case 1:n.sent()&&this.u_("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return e=this.o_.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),e)]}})})},t.prototype.u_=function(t){throw this.r_.cancel(),new Error("Invalid bundle format: "+t)},t.prototype.__=function(){return Object(za.b)(this,void 0,void 0,function(){var t,e;return Object(za.d)(this,function(n){switch(n.label){case 0:return[4,this.r_.read()];case 1:return(t=n.sent()).done||((e=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),e.set(t.value,this.buffer.length),this.buffer=e),[2,t.done]}})})}}(),function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new ac(uc.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this.f_=new Oc(t)}return t.prototype.isEqual=function(t){return this.f_.isEqual(t.f_)},t}()),Bv=function(t){this._methodName=t},Gv=function(t){this.d_=t};function $v(t,e,n){if(!n)throw new ac(uc.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function Qv(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new ac(uc.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function Wv(t,e,n,r){if(!0===e&&!0===r)throw new ac(uc.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function Yv(t){if(!Ec.wt(t))throw new ac(uc.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function Kv(t){if(Ec.wt(t))throw new ac(uc.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function Jv(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":Xa()}function Xv(t,e){if("_delegate"in t&&(t=t.d_),!(t instanceof e)){if(e.name===t.constructor.name)throw new ac(uc.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Jv(t);throw new ac(uc.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function Zv(t,e){if(e<=0)throw new ac(uc.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var ty=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new ac(uc.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new ac(uc.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,Wv("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},t}(),ey=new Map,ny=function(){function t(t,e){this.w_="(lite)",this.E_=new ty({}),this.T_=!1,t instanceof Ga?(this.I_=t,this.m_=new fc):(this.A_=t,this.I_=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new ac(uc.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ga(t.options.projectId)}(t),this.m_=new dc(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this.A_)throw new ac(uc.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.A_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"R_",{get:function(){return this.T_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"P_",{get:function(){return void 0!==this.y_},enumerable:!1,configurable:!0}),t.prototype.g_=function(t){if(this.T_)throw new ac(uc.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this.E_=new ty(t),void 0!==t.credentials&&(this.m_=function(t){if(!t)return new fc;switch(t.type){case"gapi":var e=t.client;return Za(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new gc(e,t.sessionIndex||"0");case"provider":return t.client;default:throw new ac(uc.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype.V_=function(){return this.E_},t.prototype.p_=function(){return this.T_=!0,this.E_},t.prototype._delete=function(){return this.y_||(this.y_=this.b_()),this.y_},t.prototype.toJSON=function(){return{app:this.A_,t:this.I_,settings:this.E_}},t.prototype.b_=function(){return(t=ey.get(this))&&(Wa("ComponentProvider","Removing Datastore"),ey.delete(this),t.terminate()),Promise.resolve();var t},t}(),ry=function(){function t(t,e,n){this.v_=e,this.S_=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"D_",{get:function(){return this.S_.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this.S_.path.tt()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this.S_.path.rt()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new oy(this.firestore,this.v_,this.S_.path.X())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this.S_)},t}(),iy=function(){function t(t,e,n){this.v_=e,this.C_=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this.C_)},t}(),oy=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,Sl(r))||this).firestore=e,i.D_=r,i.type="collection",i}return Object(za.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this.C_.path.tt()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.C_.path.rt()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this.D_.X();return t.et()?null:new ry(this.firestore,null,new Ec(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this.D_)},e}(iy);function sy(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t instanceof Gv&&(t=t.d_),$v("collection","path",e),t instanceof ny)return Kv(n=wc.ot.apply(wc,Object(za.f)([e],r))),new oy(t,null,n);if(!(t instanceof ry||t instanceof oy))throw new ac(uc.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Kv(n=wc.ot.apply(wc,Object(za.f)([t.path],r)).child(wc.ot(e))),new oy(t.firestore,null,n)}function uy(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t instanceof Gv&&(t=t.d_),1===arguments.length&&(e=nc.u()),$v("doc","path",e),t instanceof ny)return Yv(n=wc.ot.apply(wc,Object(za.f)([e],r))),new ry(t,null,new Ec(n));if(!(t instanceof ry||t instanceof oy))throw new ac(uc.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Yv(n=t.D_.child(wc.ot.apply(wc,Object(za.f)([e],r)))),new ry(t.firestore,t instanceof oy?t.v_:null,new Ec(n))}function ay(t,e){return t instanceof Gv&&(t=t.d_),e instanceof Gv&&(e=e.d_),(t instanceof ry||t instanceof oy)&&(e instanceof ry||e instanceof oy)&&t.firestore===e.firestore&&t.path===e.path&&t.v_===e.v_}function cy(t,e){return t instanceof Gv&&(t=t.d_),e instanceof Gv&&(e=e.d_),t instanceof iy&&e instanceof iy&&t.firestore===e.firestore&&Rl(t.C_,e.C_)&&t.v_===e.v_}var ly=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new ac(uc.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new ac(uc.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this.x_=t,this.N_=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this.x_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this.N_},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.x_===t.x_&&this.N_===t.N_},t.prototype.toJSON=function(){return{latitude:this.x_,longitude:this.N_}},t.prototype.U=function(t){return rc(this.x_,t.x_)||rc(this.N_,t.N_)},t}(),hy=/^__.*__$/,fy=function(){function t(t,e,n){this.data=t,this.Gt=e,this.fieldTransforms=n}return t.prototype.F_=function(t,e){return null!==this.Gt?new ph(t,this.data,this.Gt,e,this.fieldTransforms):new dh(t,this.data,e,this.fieldTransforms)},t}(),dy=function(){function t(t,e,n){this.data=t,this.Gt=e,this.fieldTransforms=n}return t.prototype.F_=function(t,e){return new ph(t,this.data,this.Gt,e,this.fieldTransforms)},t}();function py(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Xa()}}var gy=function(){function t(t,e,n,r,i,o){this.settings=t,this.t=e,this.Qt=n,this.ignoreUndefinedProperties=r,void 0===i&&this.O_(),this.fieldTransforms=i||[],this.Gt=o||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"k_",{get:function(){return this.settings.k_},enumerable:!1,configurable:!0}),t.prototype.M_=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.t,this.Qt,this.ignoreUndefinedProperties,this.fieldTransforms,this.Gt)},t.prototype.L_=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.M_({path:n,B_:!1});return r.q_(t),r},t.prototype.U_=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.M_({path:n,B_:!1});return r.O_(),r},t.prototype.Q_=function(t){return this.M_({path:void 0,B_:!0})},t.prototype.K_=function(t){return Ry(t,this.settings.methodName,this.settings.W_||!1,this.path,this.settings.j_)},t.prototype.contains=function(t){return void 0!==this.Gt.find(function(e){return t.nt(e)})||void 0!==this.fieldTransforms.find(function(e){return t.nt(e.field)})},t.prototype.O_=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.q_(this.path.get(t))},t.prototype.q_=function(t){if(0===t.length)throw this.K_("Document fields must not be empty");if(py(this.k_)&&hy.test(t))throw this.K_('Document fields cannot begin and end with "__"')},t}(),vy=function(){function t(t,e,n){this.t=t,this.ignoreUndefinedProperties=e,this.Qt=n||fg(t)}return t.prototype.G_=function(t,e,n,r){return void 0===r&&(r=!1),new gy({k_:t,methodName:e,j_:n,path:Oc.ct(),B_:!1,W_:r},this.t,this.Qt,this.ignoreUndefinedProperties)},t}();function yy(t){var e=t.p_(),n=fg(t.I_);return new vy(t.I_,!!e.ignoreUndefinedProperties,n)}function my(t,e,n,r,i,o){void 0===o&&(o={});var s=t.G_(o.merge||o.mergeFields?2:0,e,n,i);ky("Data must be an object, but it was:",s,r);var u,a,c=jy(r,s);if(o.merge)u=new xc(s.Gt),a=s.fieldTransforms;else if(o.mergeFields){for(var l=[],h=0,f=o.mergeFields;h<f.length;h++){var d=Ny(e,f[h],n);if(!s.contains(d))throw new ac(uc.INVALID_ARGUMENT,"Field '"+d+"' is specified in your field mask but missing from your input data.");My(l,d)||l.push(d)}u=new xc(l),a=s.fieldTransforms.filter(function(t){return u.Tt(t.field)})}else u=null,a=s.fieldTransforms;return new fy(new Jc(c),u,a)}var by=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(za.c)(e,t),e.prototype.z_=function(t){if(2!==t.k_)throw t.K_(1===t.k_?this._methodName+"() can only appear at the top level of your update data":this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.Gt.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(Bv);function wy(t,e,n){return new gy({k_:3,j_:e.settings.j_,methodName:t._methodName,B_:n},e.t,e.Qt,e.ignoreUndefinedProperties)}var _y=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(za.c)(e,t),e.prototype.z_=function(t){return new rh(t.path,new Yl)},e.prototype.isEqual=function(t){return t instanceof e},e}(Bv),Oy=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).H_=n,r}return Object(za.c)(e,t),e.prototype.z_=function(t){var e=wy(this,t,!0),n=this.H_.map(function(t){return Cy(t,e)}),r=new Kl(n);return new rh(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(Bv),Ey=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).H_=n,r}return Object(za.c)(e,t),e.prototype.z_=function(t){var e=wy(this,t,!0),n=this.H_.map(function(t){return Cy(t,e)}),r=new Xl(n);return new rh(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(Bv),Iy=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).J_=n,r}return Object(za.c)(e,t),e.prototype.z_=function(t){var e=new th(t.Qt,Bl(t.Qt,this.J_));return new rh(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(Bv);function Ty(t,e,n,r){var i=t.G_(1,e,n);ky("Data must be an object, but it was:",i,r);var o=[],s=new Xc;Tc(r,function(t,r){var u=Dy(e,t,n);r instanceof Gv&&(r=r.d_);var a=i.U_(u);if(r instanceof by)o.push(u);else{var c=Cy(r,a);null!=c&&(o.push(u),s.set(u,c))}});var u=new xc(o);return new dy(s.Pt(),u,i.fieldTransforms)}function Sy(t,e,n,r,i,o){var s=t.G_(1,e,n),u=[Ny(e,r,n)],a=[i];if(o.length%2!=0)throw new ac(uc.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)u.push(Ny(e,o[c])),a.push(o[c+1]);for(var l=[],h=new Xc,f=u.length-1;f>=0;--f)if(!My(l,u[f])){var d=u[f],p=a[f];p instanceof Gv&&(p=p.d_);var g=s.U_(d);if(p instanceof by)l.push(d);else{var v=Cy(p,g);null!=v&&(l.push(d),h.set(d,v))}}var y=new xc(l);return new dy(h.Pt(),y,s.fieldTransforms)}function xy(t,e,n,r){return void 0===r&&(r=!1),Cy(n,t.G_(r?4:3,e))}function Cy(t,e){if(t instanceof Gv&&(t=t.d_),Ay(t))return ky("Unsupported field value:",e,t),jy(t,e);if(t instanceof Bv)return function(t,e){if(!py(e.k_))throw e.K_(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.K_(t._methodName+"() is not currently supported inside arrays");var n=t.z_(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.Gt.push(e.path),t instanceof Array){if(e.settings.B_&&4!==e.k_)throw e.K_("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var s=Cy(o[i],e.Q_(r));null==s&&(s={nullValue:"NULL_VALUE"}),n.push(s),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(t instanceof Gv&&(t=t.d_),null===t)return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Bl(e.Qt,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=yc.fromDate(t);return{timestampValue:rf(e.Qt,n)}}if(t instanceof yc)return n=new yc(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:rf(e.Qt,n)};if(t instanceof ly)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof cc)return{bytesValue:of(e.Qt,t.I)};if(t instanceof ry){var r=t.firestore.I_;if(!r.isEqual(n=e.t))throw e.K_("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:af(t.firestore.I_||e.t,t.S_.path)}}throw e.K_("Unsupported field value: "+Jv(t))}(t,e)}function jy(t,e){var n={};return Sc(t)?e.path&&e.path.length>0&&e.Gt.push(e.path):Tc(t,function(t,r){var i=Cy(r,e.L_(t));null!=i&&(n[t]=i)}),{mapValue:{fields:n}}}function Ay(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof yc||t instanceof ly||t instanceof cc||t instanceof ry||t instanceof Bv)}function ky(t,e,n){if(!Ay(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var r=Jv(n);throw e.K_("an object"===r?t+" a custom object":t+" "+r)}}function Ny(t,e,n){if(e instanceof Gv&&(e=e.d_),e instanceof zv)return e.f_;if("string"==typeof e)return Dy(t,e);throw Ry("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var Py=new RegExp("[~\\*/\\[\\]]");function Dy(t,e,n){if(e.search(Py)>=0)throw Ry("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(zv.bind.apply(zv,Object(za.f)([void 0],e.split("."))))).f_}catch(r){throw Ry("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function Ry(t,e,n,r,i){var o=r&&!r.et(),s=void 0!==i,u="Function "+e+"() called with invalid data";n&&(u+=" (via `toFirestore()`)");var a="";return(o||s)&&(a+=" (found",o&&(a+=" in field "+r),s&&(a+=" in document "+i),a+=")"),new ac(uc.INVALID_ARGUMENT,(u+=". ")+t+a)}function My(t,e){return t.some(function(t){return t.isEqual(e)})}var Ly=function(){function t(t){this.Sh=t,this.Y_=new Map,this.mutations=[],this.X_=!1,this.Z_=null,this.tf=new Set}return t.prototype.ef=function(t){return Object(za.b)(this,void 0,void 0,function(){var e,n=this;return Object(za.d)(this,function(r){switch(r.label){case 0:if(this.nf(),this.mutations.length>0)throw new ac(uc.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return Object(za.b)(this,void 0,void 0,function(){var n,r,i,o,s,u;return Object(za.d)(this,function(a){switch(a.label){case 0:return n=tc(t),r=pf(n.Qt)+"/documents",i={documents:e.map(function(t){return lf(n.Qt,t)})},[4,n.Du("BatchGetDocuments",r,i)];case 1:return o=a.sent(),s=new Map,o.forEach(function(t){var e=function(t,e){return"found"in e?function(t,e){Za(!!e.found);var n=hf(t,e.found.name),r=uf(e.found.updateTime),i=new Jc({mapValue:{fields:e.found.fields}});return new el(n,r,i,{})}(t,e):"missing"in e?function(t,e){Za(!!e.missing),Za(!!e.readTime);var n=hf(t,e.missing),r=uf(e.readTime);return new nl(n,r)}(t,e):Xa()}(n.Qt,t);s.set(e.key.toString(),e)}),u=[],[2,(e.forEach(function(t){var e=s.get(t.toString());Za(!!e),u.push(e)}),u)]}})})}(this.Sh,t)];case 1:return[2,((e=r.sent()).forEach(function(t){t instanceof nl||t instanceof el?n.sf(t):Xa()}),e)]}})})},t.prototype.set=function(t,e){this.write(e.F_(t,this.jt(t))),this.tf.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.F_(t,this.rf(t)))}catch(t){this.Z_=t}this.tf.add(t.toString())},t.prototype.delete=function(t){this.write(new _h(t,this.jt(t))),this.tf.add(t.toString())},t.prototype.commit=function(){return Object(za.b)(this,void 0,void 0,function(){var t,e=this;return Object(za.d)(this,function(n){switch(n.label){case 0:if(this.nf(),this.Z_)throw this.Z_;return t=this.Y_,this.mutations.forEach(function(e){t.delete(e.key.toString())}),t.forEach(function(t,n){var r=Ec._t(n);e.mutations.push(new Oh(r,e.jt(r)))}),[4,function(t,e){return Object(za.b)(this,void 0,void 0,function(){var n,r,i;return Object(za.d)(this,function(o){switch(o.label){case 0:return n=tc(t),r=pf(n.Qt)+"/documents",i={writes:e.map(function(t){return mf(n.Qt,t)})},[4,n.pu("Commit",r,i)];case 1:return o.sent(),[2]}})})}(this.Sh,this.mutations)];case 1:return n.sent(),this.X_=!0,[2]}})})},t.prototype.sf=function(t){var e;if(t instanceof el)e=t.version;else{if(!(t instanceof nl))throw Xa();e=mc.min()}var n=this.Y_.get(t.key.toString());if(n){if(!e.isEqual(n))throw new ac(uc.ABORTED,"Document version changed between two reads.")}else this.Y_.set(t.key.toString(),e)},t.prototype.jt=function(t){var e=this.Y_.get(t.toString());return!this.tf.has(t.toString())&&e?oh.updateTime(e):oh.Kt()},t.prototype.rf=function(t){var e=this.Y_.get(t.toString());if(!this.tf.has(t.toString())&&e){if(e.isEqual(mc.min()))throw new ac(uc.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return oh.updateTime(e)}return oh.exists(!0)},t.prototype.write=function(t){this.nf(),this.mutations.push(t)},t.prototype.nf=function(){},t}(),Uy=function(){function t(t,e,n,r){this._s=t,this.Sh=e,this.updateFunction=n,this.Es=r,this.cf=5,this.Gu=new dg(this._s,"transaction_retry")}return t.prototype.run=function(){this.af()},t.prototype.af=function(){var t=this;this.Gu.Lu(function(){return Object(za.b)(t,void 0,void 0,function(){var t,e,n=this;return Object(za.d)(this,function(r){return t=new Ly(this.Sh),(e=this.uf(t))&&e.then(function(e){n._s.Ps(function(){return t.commit().then(function(){n.Es.resolve(e)}).catch(function(t){n.hf(t)})})}).catch(function(t){n.hf(t)}),[2]})})})},t.prototype.uf=function(t){try{var e=this.updateFunction(t);return!Rc(e)&&e.catch&&e.then?e:(this.Es.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.Es.reject(t),null}},t.prototype.hf=function(t){var e=this;this.cf>0&&this.lf(t)?(this.cf-=1,this._s.Ps(function(){return e.af(),Promise.resolve()})):this.Es.reject(t)},t.prototype.lf=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!Ih(e)}return!1},t}(),Vy=function(){function t(t,e,n){var r=this;this.credentials=t,this._s=e,this.yu=n,this.user=lc.UNAUTHENTICATED,this.clientId=nc.u(),this._f=function(){},this.C=new Df,this.credentials.v(function(t){Wa("FirestoreClient","Received user=",t.uid),r.user=t,r._f(t),r.C.resolve()})}return t.prototype.getConfiguration=function(){return Object(za.b)(this,void 0,void 0,function(){return Object(za.d)(this,function(t){switch(t.label){case 0:return[4,this.C.promise];case 1:return[2,(t.sent(),{_s:this._s,yu:this.yu,clientId:this.clientId,credentials:this.credentials,Jl:this.user,pl:100})]}})})},t.prototype.ff=function(t){var e=this;this._f=t,this.C.promise.then(function(){return e._f(e.user)})},t.prototype.df=function(){if(this._s.wf)throw new ac(uc.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this._s.Ef();var e=new Df;return this._s.Tf(function(){return Object(za.b)(t,void 0,void 0,function(){var t,n;return Object(za.d)(this,function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.If?[4,this.If.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.mf?[4,this.mf.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.S(),e.resolve(),[3,6];case 5:return t=r.sent(),n=$f(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}})})}),e.promise},t}();function Fy(t,e){return Object(za.b)(this,void 0,void 0,function(){var n,r,i=this;return Object(za.d)(this,function(o){switch(o.label){case 0:return t._s.Af(),Wa("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=o.sent(),[4,e.initialize(n)];case 2:return o.sent(),r=n.Jl,t.ff(function(n){r.isEqual(n)||(r=n,t._s.po(function(){return Object(za.b)(i,void 0,void 0,function(){return Object(za.d)(this,function(t){switch(t.label){case 0:return[4,Tp(e.bh,n)];case 1:return t.sent(),[2]}})})}))}),e.persistence.Po(function(){return t.terminate()}),t.mf=e,[2]}})})}function Hy(t,e){return Object(za.b)(this,void 0,void 0,function(){var n,r;return Object(za.d)(this,function(i){switch(i.label){case 0:return t._s.Af(),[4,qy(t)];case 1:return n=i.sent(),Wa("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.ff(function(n){return t._s.po(function(){return function(t,e){return Object(za.b)(this,void 0,void 0,function(){var n,r;return Object(za.d)(this,function(i){switch(i.label){case 0:return(n=tc(t))._s.Af(),Wa("RemoteStore","RemoteStore received new credentials"),r=Cg(n),n.Nh.add(3),[4,_g(n)];case 1:return i.sent(),r&&n.Oh.set("Unknown"),[4,n.Dh.n_(e)];case 2:return i.sent(),n.Nh.delete(3),[4,wg(n)];case 3:return i.sent(),[2]}})})}(e.yl,n)})}),t.If=e,[2]}})})}function qy(t){return Object(za.b)(this,void 0,void 0,function(){return Object(za.d)(this,function(e){switch(e.label){case 0:return t.mf?[3,2]:(Wa("FirestoreClient","Using default OfflineComponentProvider"),[4,Fy(t,new Uv)]);case 1:e.sent(),e.label=2;case 2:return[2,t.mf]}})})}function zy(t){return Object(za.b)(this,void 0,void 0,function(){return Object(za.d)(this,function(e){switch(e.label){case 0:return t.If?[3,2]:(Wa("FirestoreClient","Using default OnlineComponentProvider"),[4,Hy(t,new Hv)]);case 1:e.sent(),e.label=2;case 2:return[2,t.If]}})})}function By(t){return qy(t).then(function(t){return t.persistence})}function Gy(t){return qy(t).then(function(t){return t.bh})}function $y(t){return zy(t).then(function(t){return t.yl})}function Qy(t){return zy(t).then(function(t){return t._a})}function Wy(t){return Object(za.b)(this,void 0,void 0,function(){var e,n;return Object(za.d)(this,function(r){switch(r.label){case 0:return[4,zy(t)];case 1:return e=r.sent(),[2,((n=e.gl).jh=uv.bind(null,e._a),n.Hh=cv.bind(null,e._a),n)]}})})}function Yy(t,e,n){var r=this;void 0===n&&(n={});var i=new Df;return t._s.Ps(function(){return Object(za.b)(r,void 0,void 0,function(){var r;return Object(za.d)(this,function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new qv({next:function(o){e.Ps(function(){return Wg(t,s)});var u=o.docs.has(n);!u&&o.fromCache?i.reject(new ac(uc.UNAVAILABLE,"Failed to get document because the client is offline.")):u&&o.fromCache&&r&&"server"===r.source?i.reject(new ac(uc.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(t){return i.reject(t)}}),s=new Xg(Sl(n.path),o,{includeMetadataChanges:!0,nl:!0});return Qg(t,s)},[4,Wy(t)];case 1:return[2,r.apply(void 0,[o.sent(),t._s,e,n,i])]}})})}),i.promise}function Ky(t,e,n){var r=this;void 0===n&&(n={});var i=new Df;return t._s.Ps(function(){return Object(za.b)(r,void 0,void 0,function(){var r;return Object(za.d)(this,function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new qv({next:function(n){e.Ps(function(){return Wg(t,s)}),n.fromCache&&"server"===r.source?i.reject(new ac(uc.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),s=new Xg(n,o,{includeMetadataChanges:!0,nl:!0});return Qg(t,s)},[4,Wy(t)];case 1:return[2,r.apply(void 0,[o.sent(),t._s,e,n,i])]}})})}),i.promise}var Jy=function(){function t(){var t=this;this.Rf=Promise.resolve(),this.Pf=[],this.yf=!1,this.gf=[],this.Vf=null,this.pf=!1,this.bf=[],this.Gu=new dg(this,"async_queue_retry"),this.vf=function(){var e=hg();e&&Wa("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Gu.qu()};var e=hg();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.vf)}return Object.defineProperty(t.prototype,"wf",{get:function(){return this.yf},enumerable:!1,configurable:!0}),t.prototype.Ps=function(t){this.enqueue(t)},t.prototype.Tf=function(t){this.Sf(),this.Df(t)},t.prototype.Ef=function(){if(!this.yf){this.yf=!0;var t=hg();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.vf)}},t.prototype.enqueue=function(t){return this.Sf(),this.yf?new Promise(function(t){}):this.Df(t)},t.prototype.po=function(t){var e=this;this.Ps(function(){return e.Pf.push(t),e.Cf()})},t.prototype.Cf=function(){return Object(za.b)(this,void 0,void 0,function(){var t,e=this;return Object(za.d)(this,function(n){switch(n.label){case 0:if(0===this.Pf.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.Pf[0]()];case 2:return n.sent(),this.Pf.shift(),this.Gu.reset(),[3,4];case 3:if(!Ff(t=n.sent()))throw t;return Wa("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.Pf.length>0&&this.Gu.Lu(function(){return e.Cf()}),n.label=5;case 5:return[2]}})})},t.prototype.Df=function(t){var e=this,n=this.Rf.then(function(){return e.pf=!0,t().catch(function(t){throw e.Vf=t,e.pf=!1,Ya("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t}).then(function(t){return e.pf=!1,t})});return this.Rf=n,n},t.prototype.Tr=function(t,e,n){var r=this;this.Sf(),this.bf.indexOf(t)>-1&&(e=0);var i=Gf.Ts(this,t,e,n,function(t){return r.xf(t)});return this.gf.push(i),i},t.prototype.Sf=function(){this.Vf&&Xa()},t.prototype.Af=function(){},t.prototype.Nf=function(){return Object(za.b)(this,void 0,void 0,function(){var t;return Object(za.d)(this,function(e){switch(e.label){case 0:return[4,t=this.Rf];case 1:e.sent(),e.label=2;case 2:if(t!==this.Rf)return[3,0];e.label=3;case 3:return[2]}})})},t.prototype.$f=function(t){for(var e=0,n=this.gf;e<n.length;e++)if(n[e].fs===t)return!0;return!1},t.prototype.Ff=function(t){var e=this;return this.Nf().then(function(){e.gf.sort(function(t,e){return t.ds-e.ds});for(var n=0,r=e.gf;n<r.length;n++){var i=r[n];if(i.Rs(),"all"!==t&&i.fs===t)break}return e.Nf()})},t.prototype.Of=function(t){this.bf.push(t)},t.prototype.xf=function(t){var e=this.gf.indexOf(t);this.gf.splice(e,1)},t}();function Xy(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}!function(){function t(){this.kf={},this.Mf=new Df,this.Lf={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}t.prototype.onProgress=function(t,e,n){this.kf={next:t,error:e,complete:n}},t.prototype.catch=function(t){return this.Mf.promise.catch(t)},t.prototype.then=function(t,e){return this.Mf.promise.then(t,e)},t.prototype.ql=function(t){this.Ul(t),this.kf.complete&&this.kf.complete(),this.Mf.resolve(t)},t.prototype.Kl=function(t){this.Lf.taskState="Error",this.kf.next&&this.kf.next(this.Lf),this.kf.error&&this.kf.error(t),this.Mf.reject(t)},t.prototype.Ul=function(t){this.Lf=t,this.kf.next&&this.kf.next(t)}}();var Zy=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).Bf=new Jy,r.w_="name"in e?e.name:"[DEFAULT]",r}return Object(za.c)(e,t),e.prototype.b_=function(){return this.qf||em(this),this.qf.terminate()},e}(ny);function tm(t){return t.qf||em(t),t.qf.df(),t.qf}function em(t){var e=t.p_(),n=function(t,e,n){return new Ba(t,e,n.host,n.ssl,n.experimentalForceLongPolling,n.experimentalAutoDetectLongPolling)}(t.I_,t.w_,e);t.qf=new Vy(t.m_,t.Bf,n)}function nm(t,e,n){var r=this,i=new Df;return t._s.enqueue(function(){return Object(za.b)(r,void 0,void 0,function(){var r;return Object(za.d)(this,function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,Fy(t,n)];case 1:return o.sent(),[4,Hy(t,e)];case 2:return o.sent(),i.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===uc.FAILED_PRECONDITION||t.code===uc.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(r=o.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}})})}).then(function(){return i.promise})}function rm(t){if(t.R_||t.P_)throw new ac(uc.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var im=function(){function t(){}return t.prototype.Uf=function(t,e){switch(void 0===e&&(e="none"),Uc(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ac(t.integerValue||t.doubleValue);case 3:return this.Qf(t.timestampValue);case 4:return this.Kf(t,e);case 5:return t.stringValue;case 6:return this.Wf(kc(t.bytesValue));case 7:return this.jf(t.referenceValue);case 8:return this.Gf(t.geoPointValue);case 9:return this.zf(t.arrayValue,e);case 10:return this.Hf(t.mapValue,e);default:throw Xa()}},t.prototype.Hf=function(t,e){var n=this,r={};return Tc(t.fields||{},function(t,i){r[t]=n.Uf(i,e)}),r},t.prototype.Gf=function(t){return new ly(Ac(t.latitude),Ac(t.longitude))},t.prototype.zf=function(t,e){var n=this;return(t.values||[]).map(function(t){return n.Uf(t,e)})},t.prototype.Kf=function(t,e){switch(e){case"previous":var n=Pc(t);return null==n?null:this.Uf(n,e);case"estimate":return this.Qf(Dc(t));default:return null}},t.prototype.Qf=function(t){var e=jc(t);return new yc(e.seconds,e.nanos)},t.prototype.Jf=function(t,e){var n=wc.ot(t);Za(Pf(n));var r=new Ga(n.get(1),n.get(3)),i=new Ec(n.Y(5));return r.isEqual(e)||Ya("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}(),om=function(){function t(t,e,n,r,i){this.Yf=t,this.Xf=e,this.S_=n,this.Zf=r,this.v_=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this.S_.path.tt()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new ry(this.Yf,this.v_,this.S_)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this.Zf},t.prototype.data=function(){if(this.Zf){if(this.v_){var t=new sm(this.Yf,this.Xf,this.S_,this.Zf,null);return this.v_.fromFirestore(t)}return this.Xf.Uf(this.Zf.bt())}},t.prototype.get=function(t){if(this.Zf){var e=this.Zf.data().field(um("DocumentSnapshot.get",t));if(null!==e)return this.Xf.Uf(e)}},t}(),sm=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(za.c)(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(om);function um(t,e){return"string"==typeof e?Dy(t,e):e instanceof Gv?e.d_.f_:e.f_}function am(t){if(Cl(t)&&0===t.xt.length)throw new ac(uc.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var cm=function(){};function lm(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var o=i[r];t=o.td(t)}return t}var hm=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).ed=e,i.nd=n,i.sd=r,i.type="where",i}return Object(za.c)(e,t),e.prototype.td=function(t){var e=yy(t.firestore),n=function(t,e,n,r,i,o,s){var u;if(i.ut()){if("array-contains"===o||"array-contains-any"===o)throw new ac(uc.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){mm(s,o);for(var a=[],c=0,l=s;c<l.length;c++)a.push(ym(r,t,l[c]));u={arrayValue:{values:a}}}else u=ym(r,t,s)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||mm(s,o),u=xy(n,"where",s,"in"===o||"not-in"===o);var h=cl.create(i,o,u);return function(t,e){if(e.Ct()){var n=Al(t);if(null!==n&&!n.isEqual(e.field))throw new ac(uc.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=jl(t);null!==r&&bm(0,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw new ac(uc.INVALID_ARGUMENT,i===e.op?"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter.":"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,h),h}(t.C_,0,e,t.firestore.I_,this.ed,this.nd,this.sd);return new iy(t.firestore,t.v_,function(t,e){var n=t.filters.concat([e]);return new Il(t.path,t.collectionGroup,t.xt.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t.C_,n))},e}(cm),fm=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).ed=e,r.rd=n,r.type="orderBy",r}return Object(za.c)(e,t),e.prototype.td=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new ac(uc.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new ac(uc.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new wl(e,n);return function(t,e){if(null===jl(t)){var n=Al(t);null!==n&&bm(0,n,e.field)}}(t,r),r}(t.C_,this.ed,this.rd);return new iy(t.firestore,t.v_,function(t,e){var n=t.xt.concat([e]);return new Il(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t.C_,e))},e}(cm),dm=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.od=n,i.ad=r,i}return Object(za.c)(e,t),e.prototype.td=function(t){return new iy(t.firestore,t.v_,Dl(t.C_,this.od,this.ad))},e}(cm),pm=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.ud=n,i.hd=r,i}return Object(za.c)(e,t),e.prototype.td=function(t){var e=vm(t,this.type,this.ud,this.hd);return new iy(t.firestore,t.v_,function(t,e){return new Il(t.path,t.collectionGroup,t.xt.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t.C_,e))},e}(cm),gm=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.ud=n,i.hd=r,i}return Object(za.c)(e,t),e.prototype.td=function(t){var e=vm(t,this.type,this.ud,this.hd);return new iy(t.firestore,t.v_,function(t,e){return new Il(t.path,t.collectionGroup,t.xt.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t.C_,e))},e}(cm);function vm(t,e,n,r){if(n[0]instanceof Gv&&(n[0]=n[0].d_),n[0]instanceof om)return function(t,e,n,r,i){if(!r)throw new ac(uc.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],s=0,u=Nl(t);s<u.length;s++){var a=u[s];if(a.field.ut())o.push(Gc(e,r.key));else{var c=r.field(a.field);if(Nc(c))throw new ac(uc.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+a.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=a.field.rt();throw new ac(uc.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}o.push(c)}}return new ml(o,i)}(t.C_,t.firestore.I_,e,n[0].Zf,r);var i=yy(t.firestore);return function(t,e,n,r,i,o){var s=t.xt;if(i.length>s.length)throw new ac(uc.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var u=[],a=0;a<i.length;a++){var c=i[a];if(s[a].field.ut()){if("string"!=typeof c)throw new ac(uc.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!kl(t)&&-1!==c.indexOf("/"))throw new ac(uc.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=t.path.child(wc.ot(c));if(!Ec.wt(l))throw new ac(uc.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var h=new Ec(l);u.push(Gc(e,h))}else{var f=xy(n,r,c);u.push(f)}}return new ml(u,o)}(t.C_,t.firestore.I_,i,e,n,r)}function ym(t,e,n){if(n instanceof Gv&&(n=n.d_),"string"==typeof n){if(""===n)throw new ac(uc.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!kl(e)&&-1!==n.indexOf("/"))throw new ac(uc.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(wc.ot(n));if(!Ec.wt(r))throw new ac(uc.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return Gc(t,new Ec(r))}if(n instanceof ry)return Gc(t,n.S_);throw new ac(uc.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+Jv(n)+".")}function mm(t,e){if(!Array.isArray(t)||0===t.length)throw new ac(uc.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new ac(uc.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function bm(t,e,n){if(!n.isEqual(e))throw new ac(uc.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}function wm(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var _m=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(za.c)(e,t),e.prototype.Wf=function(t){return new cc(t)},e.prototype.jf=function(t){var e=this.Jf(t,this.firestore.I_);return new ry(this.firestore,null,e)},e}(im),Om=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),Em=function(t){function e(e,n,r,i,o,s){var u=this;return(u=t.call(this,e,n,r,i,s)||this).Yf=e,u.ld=e,u.metadata=o,u}return Object(za.c)(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this.Zf){if(this.v_){var e=new Im(this.Yf,this.Xf,this.S_,this.Zf,this.metadata,null);return this.v_.fromFirestore(e,t)}return this.Xf.Uf(this.Zf.bt(),t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this.Zf){var n=this.Zf.data().field(um("DocumentSnapshot.get",t));if(null!==n)return this.Xf.Uf(n,e.serverTimestamps)}},e}(om),Im=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(za.c)(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(Em),Tm=function(){function t(t,e,n,r){this.Yf=t,this.Xf=e,this._d=r,this.metadata=new Om(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach(function(e){return t.push(e)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._d.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this._d.docs.forEach(function(r){t.call(e,new Im(n.Yf,n.Xf,r.key,r,new Om(n._d.De.has(r.key),n._d.fromCache),n.query.v_))})},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this._d.xe)throw new ac(uc.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this.fd&&this.dd===e||(this.fd=function(t,e){if(t._d.Se.et()){var n=0;return t._d.docChanges.map(function(e){return{type:"added",doc:new Im(t.Yf,t.Xf,e.doc.key,e.doc,new Om(t._d.De.has(e.doc.key),t._d.fromCache),t.query.v_),oldIndex:-1,newIndex:n++}})}var r=t._d.Se;return t._d.docChanges.filter(function(t){return e||3!==t.type}).map(function(e){var n=new Im(t.Yf,t.Xf,e.doc.key,e.doc,new Om(t._d.De.has(e.doc.key),t._d.fromCache),t.query.v_),i=-1,o=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(o=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:Sm(e.type),doc:n,oldIndex:i,newIndex:o}})}(this,e),this.dd=e),this.fd},t}();function Sm(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Xa()}}function xm(t,e){return t instanceof Em&&e instanceof Em?t.Yf===e.Yf&&t.S_.isEqual(e.S_)&&(null===t.Zf?null===e.Zf:t.Zf.isEqual(e.Zf))&&t.v_===e.v_:t instanceof Tm&&e instanceof Tm&&t.Yf===e.Yf&&cy(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._d.isEqual(e._d)}var Cm=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(za.c)(e,t),e.prototype.Wf=function(t){return new cc(t)},e.prototype.jf=function(t){var e=this.Jf(t,this.firestore.I_);return new ry(this.firestore,null,e)},e}(im);function jm(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=Xv(t,ry);var o=Xv(t.firestore,Zy),s=yy(o);return e instanceof Gv&&(e=e.d_),km(o,[("string"==typeof e||e instanceof zv?Sy(s,"updateDoc",t.S_,e,n,r):Ty(s,"updateDoc",t.S_,e)).F_(t.S_,oh.exists(!0))])}function Am(t){for(var e,n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];t instanceof Gv&&(t=t.d_);var s={includeMetadataChanges:!1},u=0;"object"!=typeof i[u]||Xy(i[u])||(s=i[u],u++);var a,c,l,h={includeMetadataChanges:s.includeMetadataChanges};if(Xy(i[u])){var f=i[u];i[u]=null===(e=f.next)||void 0===e?void 0:e.bind(f),i[u+1]=null===(n=f.error)||void 0===n?void 0:n.bind(f),i[u+2]=null===(r=f.complete)||void 0===r?void 0:r.bind(f)}if(t instanceof ry)c=Xv(t.firestore,Zy),l=Sl(t.S_.path),a={next:function(e){i[u]&&i[u](Nm(c,t,e))},error:i[u+1],complete:i[u+2]};else{var d=Xv(t,iy);c=Xv(d.firestore,Zy),l=d.C_;var p=new Cm(c);a={next:function(t){i[u]&&i[u](new Tm(c,p,d,t))},error:i[u+1],complete:i[u+2]},am(t.C_)}return function(t,e,n,r){var i=this,o=new qv(r),s=new Xg(e,o,n);return t._s.Ps(function(){return Object(za.b)(i,void 0,void 0,function(){var e;return Object(za.d)(this,function(n){switch(n.label){case 0:return e=Qg,[4,Wy(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}})})}),function(){o.i_(),t._s.Ps(function(){return Object(za.b)(i,void 0,void 0,function(){var e;return Object(za.d)(this,function(n){switch(n.label){case 0:return e=Wg,[4,Wy(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}})})})}}(tm(c),l,h,a)}function km(t,e){return function(t,e){var n=this,r=new Df;return t._s.Ps(function(){return Object(za.b)(n,void 0,void 0,function(){var n;return Object(za.d)(this,function(i){switch(i.label){case 0:return n=lv,[4,Qy(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(tm(t),e)}function Nm(t,e,n){var r=n.docs.get(e.S_),i=new Cm(t);return new Em(t,i,e.S_,r,new Om(n.hasPendingWrites,n.fromCache),e.v_)}var Pm=function(){function t(t,e){this.Yf=t,this.wd=e,this.Ed=[],this.Td=!1,this.Id=yy(t)}return t.prototype.set=function(t,e,n){this.md();var r=Dm(t,this.Yf),i=wm(r.v_,e,n),o=my(this.Id,"WriteBatch.set",r.S_,i,null!==r.v_,n);return this.Ed.push(o.F_(r.S_,oh.Kt())),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this.md();var o,s=Dm(t,this.Yf);return e instanceof Gv&&(e=e.d_),o="string"==typeof e||e instanceof zv?Sy(this.Id,"WriteBatch.update",s.S_,e,n,r):Ty(this.Id,"WriteBatch.update",s.S_,e),this.Ed.push(o.F_(s.S_,oh.exists(!0))),this},t.prototype.delete=function(t){this.md();var e=Dm(t,this.Yf);return this.Ed=this.Ed.concat(new _h(e.S_,oh.Kt())),this},t.prototype.commit=function(){return this.md(),this.Td=!0,this.Ed.length>0?this.wd(this.Ed):Promise.resolve()},t.prototype.md=function(){if(this.Td)throw new ac(uc.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function Dm(t,e){if(t instanceof Gv&&(t=t.d_),t.firestore!==e)throw new ac(uc.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var Rm=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).Yf=e,r}return Object(za.c)(e,t),e.prototype.get=function(e){var n=this,r=Dm(e,this.Yf),i=new Cm(this.Yf);return t.prototype.get.call(this,e).then(function(t){return new Em(n.Yf,i,r.S_,t.Zf,new Om(!1,!1),r.v_)})},e}(function(){function t(t,e){this.Yf=t,this.Ad=e,this.Id=yy(t)}return t.prototype.get=function(t){var e=this,n=Dm(t,this.Yf),r=new _m(this.Yf);return this.Ad.ef([n.S_]).then(function(t){if(!t||1!==t.length)return Xa();var i=t[0];if(i instanceof nl)return new om(e.Yf,r,n.S_,null,n.v_);if(i instanceof el)return new om(e.Yf,r,i.key,i,n.v_);throw Xa()})},t.prototype.set=function(t,e,n){var r=Dm(t,this.Yf),i=wm(r.v_,e,n),o=my(this.Id,"Transaction.set",r.S_,i,null!==r.v_,n);return this.Ad.set(r.S_,o),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o,s=Dm(t,this.Yf);return e instanceof Gv&&(e=e.d_),o="string"==typeof e||e instanceof zv?Sy(this.Id,"Transaction.update",s.S_,e,n,r):Ty(this.Id,"Transaction.update",s.S_,e),this.Ad.update(s.S_,o),this},t.prototype.delete=function(t){var e=Dm(t,this.Yf);return this.Ad.delete(e.S_),this},t}());function Mm(){if("undefined"==typeof Uint8Array)throw new ac(uc.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function Lm(){if("undefined"==typeof atob)throw new ac(uc.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var Um=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(za.c)(e,t),e.fromBase64String=function(t){return Lm(),new e(cc.fromBase64String(t))},e.fromUint8Array=function(t){return Mm(),new e(cc.fromUint8Array(t))},e.prototype.toBase64=function(){return Lm(),this.d_.toBase64()},e.prototype.toUint8Array=function(){return Mm(),this.d_.toUint8Array()},e.prototype.isEqual=function(t){return this.d_.isEqual(t.d_)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(Gv),Vm=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){rm(t=Xv(t,Zy));var n=tm(t),r=t.p_(),i=new Hv;return nm(n,i,new Vv(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t.d_,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){rm(t=Xv(t,Zy));var e=tm(t),n=t.p_(),r=new Hv;return nm(e,r,new Fv(r,n.cacheSizeBytes))}(t.d_)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t.R_&&!t.P_)throw new ac(uc.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new Df;return t.Bf.Tf(function(){return Object(za.b)(e,void 0,void 0,function(){var e;return Object(za.d)(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return Object(za.b)(this,void 0,void 0,function(){return Object(za.d)(this,function(e){switch(e.label){case 0:return Lf.Kn()?[4,Lf.delete(t+"main")]:[2,Promise.resolve()];case 1:return e.sent(),[2]}})})}(mp(t.I_,t.w_))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}})})}),n.promise}(t.d_)},t}(),Fm=function(t){function e(e,n,r){var i=this;return(i=t.call(this,n)||this).Rd=r,i.INTERNAL={delete:function(){return i.terminate()}},e instanceof Ga||(i.Pd=e),i}return Object(za.c)(e,t),Object.defineProperty(e.prototype,"I_",{get:function(){return this.d_.I_},enumerable:!1,configurable:!0}),e.prototype.settings=function(t){t.merge&&delete(t=Object.assign(Object.assign({},this.d_.V_()),t)).merge,this.d_.g_(t)},e.prototype.useEmulator=function(t,e){!function(t,e,n){var r=(t=Xv(t,ny)).V_();"firestore.googleapis.com"!==r.host&&r.host!==e&&Ka("Host has been set in both settings() and useEmulator(), emulator host will be used"),t.g_(Object.assign(Object.assign({},r),{host:e+":"+n,ssl:!1}))}(this.d_,t,e)},e.prototype.enableNetwork=function(){return function(t){var e=this;return t._s.enqueue(function(){return Object(za.b)(e,void 0,void 0,function(){var e,n;return Object(za.d)(this,function(r){switch(r.label){case 0:return[4,By(t)];case 1:return e=r.sent(),[4,$y(t)];case 2:return n=r.sent(),[2,(e.yo(!0),function(t){var e=tc(t);return e.Nh.delete(0),wg(e)}(n))]}})})})}(tm(Xv(this.d_,Zy)))},e.prototype.disableNetwork=function(){return function(t){var e=this;return t._s.enqueue(function(){return Object(za.b)(e,void 0,void 0,function(){var e,n;return Object(za.d)(this,function(r){switch(r.label){case 0:return[4,By(t)];case 1:return e=r.sent(),[4,$y(t)];case 2:return n=r.sent(),[2,(e.yo(!1),function(t){return Object(za.b)(this,void 0,void 0,function(){var e;return Object(za.d)(this,function(n){switch(n.label){case 0:return(e=tc(t)).Nh.add(0),[4,_g(e)];case 1:return n.sent(),e.Oh.set("Offline"),[2]}})})}(n))]}})})})}(tm(Xv(this.d_,Zy)))},e.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&Wv("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.Rd.enableMultiTabIndexedDbPersistence(this):this.Rd.enableIndexedDbPersistence(this,n)},e.prototype.clearPersistence=function(){return this.Rd.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.Pd&&(this.Pd._removeServiceInstance("firestore"),this.Pd._removeServiceInstance("firestore-exp")),this.d_._delete()},e.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new Df;return t._s.Ps(function(){return Object(za.b)(e,void 0,void 0,function(){var e;return Object(za.d)(this,function(r){switch(r.label){case 0:return e=vv,[4,Qy(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}})})}),n.promise}(tm(Xv(this.d_,Zy)))},e.prototype.onSnapshotsInSync=function(t){return function(t,e){return function(t,e){var n=this,r=new qv(e);return t._s.Ps(function(){return Object(za.b)(n,void 0,void 0,function(){var e;return Object(za.d)(this,function(n){switch(n.label){case 0:return e=function(t,e){tc(t).Wh.add(e),e.next()},[4,Wy(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})}),function(){r.i_(),t._s.Ps(function(){return Object(za.b)(n,void 0,void 0,function(){var e;return Object(za.d)(this,function(n){switch(n.label){case 0:return e=function(t,e){tc(t).Wh.delete(e)},[4,Wy(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})})}}(tm(t=Xv(t,Zy)),Xy(e)?e:{next:e})}(this.d_,t)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.Pd)throw new ac(uc.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.Pd},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new tb(this,sy(this.d_,t))}catch(t){throw $m(t,"collection()","Firestore.collection()")}},e.prototype.doc=function(t){try{return new Gm(this,uy(this.d_,t))}catch(t){throw $m(t,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(t){try{return new Jm(this,function(t,e){if(t=Xv(t,ny),$v("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new ac(uc.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new iy(t,null,function(t){return new Il(wc.ct(),t)}(e))}(this.d_,t))}catch(t){throw $m(t,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(t){var e=this;return function(t,e){return function(t,e){var n=this,r=new Df;return t._s.Ps(function(){return Object(za.b)(n,void 0,void 0,function(){var n;return Object(za.d)(this,function(i){switch(i.label){case 0:return[4,function(t){return zy(t).then(function(t){return t.Sh})}(t)];case 1:return n=i.sent(),new Uy(t._s,n,e,r).run(),[2]}})})}),r.promise}(tm(t),function(n){return e(new Rm(t,n))})}(this.d_,function(n){return t(new qm(e,n))})},e.prototype.batch=function(){var t=this;return tm(this.d_),new zm(new Pm(this.d_,function(e){return km(t.d_,e)}))},e.prototype.loadBundle=function(t){throw new ac(uc.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},e.prototype.namedQuery=function(t){throw new ac(uc.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},e}(Gv),Hm=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(za.c)(e,t),e.prototype.Wf=function(t){return new Um(new cc(t))},e.prototype.jf=function(t){var e=this.Jf(t,this.firestore.I_);return Gm.yd(e,this.firestore,null)},e}(im),qm=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).Yf=e,r.Xf=new Hm(e),r}return Object(za.c)(e,t),e.prototype.get=function(t){var e=this,n=eb(t);return this.d_.get(n).then(function(t){return new Ym(e.Yf,new Em(e.Yf.d_,e.Xf,t.S_,t.Zf,t.metadata,n.v_))})},e.prototype.set=function(t,e,n){var r=eb(t);return n?(Qv("Transaction.set",n),this.d_.set(r,e,n)):this.d_.set(r,e),this},e.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=eb(t);return 2===arguments.length?this.d_.update(s,e):(r=this.d_).update.apply(r,Object(za.f)([s,e,n],i)),this},e.prototype.delete=function(t){var e=eb(t);return this.d_.delete(e),this},e}(Gv),zm=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(za.c)(e,t),e.prototype.set=function(t,e,n){var r=eb(t);return n?(Qv("WriteBatch.set",n),this.d_.set(r,e,n)):this.d_.set(r,e),this},e.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=eb(t);return 2===arguments.length?this.d_.update(s,e):(r=this.d_).update.apply(r,Object(za.f)([s,e,n],i)),this},e.prototype.delete=function(t){var e=eb(t);return this.d_.delete(e),this},e.prototype.commit=function(){return this.d_.commit()},e}(Gv),Bm=function(t){function e(e,n,r){var i=this;return(i=t.call(this,r)||this).Yf=e,i.Xf=n,i}return Object(za.c)(e,t),e.prototype.fromFirestore=function(t,e){var n=new Im(this.Yf.d_,this.Xf,t.S_,t.Zf,t.metadata,null);return this.d_.fromFirestore(new Km(this.Yf,n),null!=e?e:{})},e.prototype.toFirestore=function(t,e){return e?this.d_.toFirestore(t,e):this.d_.toFirestore(t)},e.gd=function(t,n){var r=e.Vd,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var o=i.get(n);return o||(o=new e(t,new Hm(t),n),i.set(n,o)),o},e}(Gv);Bm.Vd=new WeakMap;var Gm=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r.Xf=new Hm(e),r}return Object(za.c)(e,t),e.pd=function(t,n,r){if(t.length%2!=0)throw new ac(uc.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.rt()+" has "+t.length);return new e(n,new ry(n.d_,r,new Ec(t)))},e.yd=function(t,n,r){return new e(n,new ry(n.d_,r,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this.d_.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new tb(this.firestore,this.d_.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.d_.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new tb(this.firestore,sy(this.d_,t))}catch(t){throw $m(t,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(t){return t instanceof Gv&&(t=t.d_),t instanceof ry&&ay(this.d_,t)},e.prototype.set=function(t,e){e=Qv("DocumentReference.set",e);try{return function(t,e,n){t=Xv(t,ry);var r=Xv(t.firestore,Zy),i=wm(t.v_,e,n);return km(r,[my(yy(r),"setDoc",t.S_,i,null!==t.v_,n).F_(t.S_,oh.Kt())])}(this.d_,t,e)}catch(t){throw $m(t,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?jm(this.d_,t):jm.apply(void 0,Object(za.f)([this.d_,t,e],n))}catch(t){throw $m(t,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return km(Xv((t=this.d_).firestore,Zy),[new _h(t.S_,oh.Kt())]);var t},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=Qm(e),i=Wm(e,function(e){return new Ym(t.firestore,new Em(t.firestore.d_,t.Xf,e.S_,e.Zf,e.metadata,t.d_.v_))});return Am(this.d_,r,i)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=Xv(t,ry);var e=Xv(t.firestore,Zy),n=tm(e),r=new Cm(e);return function(t,e){var n=this,r=new Df;return t._s.Ps(function(){return Object(za.b)(n,void 0,void 0,function(){var n;return Object(za.d)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(za.b)(this,void 0,void 0,function(){var r,i;return Object(za.d)(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,function(t,e){var n=tc(t);return n.persistence.runTransaction("read document","readonly",function(t){return n.Tc.Ho(t,e)})}(t,e)];case 1:return(i=o.sent())instanceof el?n.resolve(i):i instanceof nl?n.resolve(null):n.reject(new ac(uc.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=o.sent(),i=$f(r,"Failed to get document '"+e+" from cache"),n.reject(i),[3,3];case 3:return[2]}})})},[4,Gy(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t.S_).then(function(n){return new Em(e,r,t.S_,n,new Om(n instanceof el&&n.Vt,!0),t.v_)})}(this.d_):"server"===(null==t?void 0:t.source)?function(t){t=Xv(t,ry);var e=Xv(t.firestore,Zy);return Yy(tm(e),t.S_,{source:"server"}).then(function(n){return Nm(e,t,n)})}(this.d_):function(t){t=Xv(t,ry);var e=Xv(t.firestore,Zy);return Yy(tm(e),t.S_).then(function(n){return Nm(e,t,n)})}(this.d_)).then(function(t){return new Ym(e.firestore,new Em(e.firestore.d_,e.Xf,t.S_,t.Zf,t.metadata,e.d_.v_))})},e.prototype.withConverter=function(t){return new e(this.firestore,this.d_.withConverter(t?Bm.gd(this.firestore,t):null))},e}(Gv);function $m(t,e,n){return t.message=t.message.replace(e,n),t}function Qm(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!Xy(r))return r}return{}}function Wm(t,e){var n,r,i;return{next:function(t){i.next&&i.next(e(t))},error:null===(n=(i=Xy(t[0])?t[0]:Xy(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var Ym=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).Yf=e,r}return Object(za.c)(e,t),Object.defineProperty(e.prototype,"ref",{get:function(){return new Gm(this.Yf,this.d_.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this.d_.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this.d_.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this.d_.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(t){return this.d_.data(t)},e.prototype.get=function(t,e){return this.d_.get(t,e)},e.prototype.isEqual=function(t){return xm(this.d_,t.d_)},e}(Gv),Km=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(za.c)(e,t),e.prototype.data=function(t){return this.d_.data(t)},e}(Ym),Jm=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r.Xf=new Hm(e),r}return Object(za.c)(e,t),e.prototype.where=function(t,n,r){try{return new e(this.firestore,lm(this.d_,function(t,e,n){var r=e,i=um("where",t);return new hm(i,r,n)}(t,n,r)))}catch(t){throw $m(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,lm(this.d_,function(t,e){void 0===e&&(e="asc");var n=e,r=um("orderBy",t);return new fm(r,n)}(t,n)))}catch(t){throw $m(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,lm(this.d_,function(t){return Zv("limit",t),new dm("limit",t,"F")}(t)))}catch(t){throw $m(t,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,lm(this.d_,function(t){return Zv("limitToLast",t),new dm("limitToLast",t,"L")}(t)))}catch(t){throw $m(t,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,lm(this.d_,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new pm("startAt",t,!0)}).apply(void 0,t)))}catch(t){throw $m(t,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,lm(this.d_,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new pm("startAfter",t,!1)}).apply(void 0,t)))}catch(t){throw $m(t,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,lm(this.d_,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new gm("endBefore",t,!0)}).apply(void 0,t)))}catch(t){throw $m(t,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,lm(this.d_,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new gm("endAt",t,!1)}).apply(void 0,t)))}catch(t){throw $m(t,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(t){return cy(this.d_,t.d_)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=Xv(t,iy);var e=Xv(t.firestore,Zy),n=tm(e),r=new Cm(e);return function(t,e){var n=this,r=new Df;return t._s.Ps(function(){return Object(za.b)(n,void 0,void 0,function(){var n;return Object(za.d)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(za.b)(this,void 0,void 0,function(){var r,i,o,s,u;return Object(za.d)(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,Pp(t,e,!0)];case 1:return u=a.sent(),r=new rv(e,u.Rc),i=r.fl(u.documents),o=r.wi(i,!1),n.resolve(o.snapshot),[3,3];case 2:return s=a.sent(),u=$f(s,"Failed to execute query '"+e+" against cache"),n.reject(u),[3,3];case 3:return[2]}})})},[4,Gy(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t.C_).then(function(n){return new Tm(e,r,t,n)})}(this.d_):"server"===(null==t?void 0:t.source)?function(t){t=Xv(t,iy);var e=Xv(t.firestore,Zy),n=tm(e),r=new Cm(e);return Ky(n,t.C_,{source:"server"}).then(function(n){return new Tm(e,r,t,n)})}(this.d_):function(t){t=Xv(t,iy);var e=Xv(t.firestore,Zy),n=tm(e),r=new Cm(e);return am(t.C_),Ky(n,t.C_).then(function(n){return new Tm(e,r,t,n)})}(this.d_)).then(function(t){return new Zm(e.firestore,new Tm(e.firestore.d_,e.Xf,e.d_,t._d))})},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=Qm(e),i=Wm(e,function(e){return new Zm(t.firestore,new Tm(t.firestore.d_,t.Xf,t.d_,e._d))});return Am(this.d_,r,i)},e.prototype.withConverter=function(t){return new e(this.firestore,this.d_.withConverter(t?Bm.gd(this.firestore,t):null))},e}(Gv),Xm=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).Yf=e,r}return Object(za.c)(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return this.d_.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new Km(this.Yf,this.d_.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this.d_.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this.d_.newIndex},enumerable:!1,configurable:!0}),e}(Gv),Zm=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).Yf=e,r}return Object(za.c)(e,t),Object.defineProperty(e.prototype,"query",{get:function(){return new Jm(this.Yf,this.d_.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this.d_.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this.d_.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this.d_.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var t=this;return this.d_.docs.map(function(e){return new Km(t.Yf,e)})},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(t){var e=this;return this.d_.docChanges(t).map(function(t){return new Xm(e.Yf,t)})},e.prototype.forEach=function(t,e){var n=this;this.d_.forEach(function(r){t.call(e,new Km(n.Yf,r))})},e.prototype.isEqual=function(t){return xm(this.d_,t.d_)},e}(Gv),tb=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r.d_=n,r}return Object(za.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this.d_.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.d_.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this.d_.parent;return t?new Gm(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new Gm(this.firestore,void 0===t?uy(this.d_):uy(this.d_,t))}catch(t){throw $m(t,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e=this;return function(t,e){var n=Xv(t.firestore,Zy),r=uy(t),i=wm(t.v_,e);return km(n,[my(yy(t.firestore),"addDoc",r.S_,i,null!==t.v_,{}).F_(r.S_,oh.exists(!1))]).then(function(){return r})}(this.d_,t).then(function(t){return new Gm(e.firestore,t)})},e.prototype.isEqual=function(t){return ay(this.d_,t.d_)},e.prototype.withConverter=function(t){return new e(this.firestore,this.d_.withConverter(t?Bm.gd(this.firestore,t):null))},e}(Jm);function eb(t){return t instanceof Gv&&(t=t.d_),Xv(t,ry)}var nb,rb=function(t){function e(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.call(this,new(zv.bind.apply(zv,Object(za.f)([void 0],e))))||this}return Object(za.c)(e,t),e.documentId=function(){return new e(Oc.ht().rt())},e.prototype.isEqual=function(t){return t instanceof Gv&&(t=t.d_),t instanceof zv&&this.d_.f_.isEqual(t.f_)},e}(Gv),ib=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(za.c)(e,t),e.serverTimestamp=function(){var t=new _y("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new by("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Oy("arrayUnion",t)}).apply(void 0,t);return r._methodName="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Ey("arrayRemove",t)}).apply(void 0,t);return r._methodName="FieldValue.arrayRemove",new e(r)},e.increment=function(t){var n=function(t){return new Iy("increment",t)}(t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(t){return this.d_.isEqual(t.d_)},e}(Gv),ob=n("/6Yf"),sb={Firestore:Fm,GeoPoint:ly,Timestamp:yc,Blob:Um,Transaction:qm,WriteBatch:zm,DocumentReference:Gm,DocumentSnapshot:Ym,Query:Jm,QueryDocumentSnapshot:Km,QuerySnapshot:Zm,CollectionReference:tb,FieldPath:rb,FieldValue:ib,setLogLevel:function(t){$a.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};function ub(t,e){return function(t,e=ki.a){return new It.a(n=>{let r;return null!=e?e.schedule(()=>{r=t.onSnapshot({includeMetadataChanges:!0},n)}):r=t.onSnapshot({includeMetadataChanges:!0},n),()=>{null!=r&&r()}})}(t,e)}function ab(t,e){return ub(t,e).pipe(Object(kt.a)(t=>({payload:t,type:"query"})))}function cb(t,e){return ab(t,e).pipe(Ht(void 0),Ni(),Object(kt.a)(([t,e])=>{const n=e.payload.docChanges(),r=n.map(t=>({type:t.type,payload:t}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(e.payload.metadata)&&e.payload.docs.forEach((e,i)=>{const o=n.find(t=>t.doc.ref.isEqual(e.ref)),s=null==t?void 0:t.payload.docs.find(t=>t.ref.isEqual(e.ref));o&&JSON.stringify(o.doc.metadata)===JSON.stringify(e.metadata)||!o&&s&&JSON.stringify(s.metadata)===JSON.stringify(e.metadata)||r.push({type:"modified",payload:{oldIndex:i,newIndex:i,type:"modified",doc:e}})}),r}))}function lb(t,e,n){return cb(t,n).pipe(qt((t,n)=>function(t,e,n){return e.forEach(e=>{n.indexOf(e.type)>-1&&(t=function(t,e){switch(e.type){case"added":if(!t[e.newIndex]||!t[e.newIndex].doc.ref.isEqual(e.doc.ref))return hb(t,e.newIndex,0,e);break;case"modified":if(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const n=t.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}return hb(t,e.newIndex,1,e)}break;case"removed":if(t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref))return hb(t,e.oldIndex,1)}return t}(t,e))}),t}(t,n.map(t=>t.payload),e),[]),t=>t.lift(new Ri(void 0,void 0)),Object(kt.a)(t=>t.map(t=>({type:t.type,payload:t}))))}function hb(t,e,n,...r){const i=t.slice();return i.splice(e,n,...r),i}function fb(t){return t&&0!==t.length||(t=["added","removed","modified"]),t}(function(t,e){t.INTERNAL.registerComponent(new ob.a("firestore",function(t){return function(t,e){return new Fm(t,new Zy(t,e),new Vm)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},sb)))})(nb=Ui.a),nb.registerVersion("@firebase/firestore","2.2.0");class db{constructor(t,e,n){this.ref=t,this.query=e,this.afs=n}stateChanges(t){let e=cb(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe(Object(kt.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)))),e.pipe(Ht(void 0),Ni(),Gt(([t,e])=>e.length>0||!t),Object(kt.a)(([t,e])=>e),this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(qt((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=fb(t);return lb(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return ab(this.query,this.afs.schedulers.outsideAngular).pipe(Object(kt.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(ht.a)(this.query.get(t)).pipe(Object(gi.b)(this.afs.schedulers.insideAngular))}add(t){return this.ref.add(t)}doc(t){return new pb(this.ref.doc(t),this.afs)}}class pb{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const n=this.ref.collection(t),{ref:r,query:i}=wb(n,e);return new db(r,i,this.afs)}snapshotChanges(){return ub(this.ref,this.afs.schedulers.outsideAngular).pipe(Ht(void 0),Ni(),Object(kt.a)(([t,e])=>e.exists?(null==t?void 0:t.exists)?{payload:e,type:"modified"}:{payload:e,type:"added"}:{payload:e,type:"removed"})).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return this.snapshotChanges().pipe(Object(kt.a)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return Object(ht.a)(this.ref.get(t)).pipe(Object(gi.b)(this.afs.schedulers.insideAngular))}}class gb{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?cb(this.query,this.afs.schedulers.outsideAngular).pipe(Object(kt.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)),Gt(t=>t.length>0),this.afs.keepUnstableUntilFirst):cb(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(qt((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=fb(t);return lb(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return ab(this.query,this.afs.schedulers.outsideAngular).pipe(Object(kt.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign({[t.idField]:e.id},e.data()):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(ht.a)(this.query.get(t)).pipe(Object(gi.b)(this.afs.schedulers.insideAngular))}}const vb=new r.r("angularfire2.enableFirestorePersistence"),yb=new r.r("angularfire2.firestore.persistenceSettings"),mb=new r.r("angularfire2.firestore.settings"),bb=new r.r("angularfire2.firestore.use-emulator");function wb(t,e=(t=>t)){return{query:e(t),ref:t}}let _b=(()=>{class t{constructor(t,e,n,r,i,o,s,u,a){this.schedulers=new fi.d(o),this.keepUnstableUntilFirst=Object(fi.h)(this.schedulers);const c=Object(fi.g)(t,o,e);!Li.a.auth&&a&&Object(fi.j)();const l=u;[this.firestore,this.persistenceEnabled$]=Object(fi.f)(`${c.name}.firestore`,"AngularFirestore",c,()=>{const t=o.runOutsideAngular(()=>c.firestore());if(r&&t.settings(r),l&&t.useEmulator(...l),n&&!N(i)){const e=()=>{try{return Object(ht.a)(t.enablePersistence(s||void 0).then(()=>!0,()=>!1))}catch(nb){return"undefined"!=typeof console&&console.warn(nb),Object(ft.a)(!1)}};return[t,o.runOutsideAngular(e)]}return[t,Object(ft.a)(!1)]},[r,l,n])}collection(t,e){let n;n="string"==typeof t?this.firestore.collection(t):t;const{ref:r,query:i}=wb(n,e),o=this.schedulers.ngZone.run(()=>r);return new db(o,i,this)}collectionGroup(t,e){const n=e||(t=>t),r=this.firestore.collectionGroup(t);return new gb(n(r),this)}doc(t){let e;e="string"==typeof t?this.firestore.doc(t):t;const n=this.schedulers.ngZone.run(()=>e);return new pb(n,this)}createId(){return this.firestore.collection("_").doc().id}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(fi.c),r.Mb(fi.b,8),r.Mb(vb,8),r.Mb(mb,8),r.Mb(r.C),r.Mb(r.A),r.Mb(yb,8),r.Mb(bb,8),r.Mb(Ei,8))},t.\u0275prov=Object(r.Cb)({factory:function(){return new t(Object(r.Mb)(fi.c),Object(r.Mb)(fi.b,8),Object(r.Mb)(vb,8),Object(r.Mb)(mb,8),Object(r.Mb)(r.C),Object(r.Mb)(r.A),Object(r.Mb)(yb,8),Object(r.Mb)(bb,8),Object(r.Mb)(Ei,8))},token:t,providedIn:"any"}),t})(),Ob=(()=>{class t{static enablePersistence(e){return{ngModule:t,providers:[{provide:vb,useValue:!0},{provide:yb,useValue:e}]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Eb({type:t}),t.\u0275inj=r.Db({providers:[_b]}),t})(),Eb=(()=>{class t{constructor(t,e,n,r){this.afs=t,this.afAuth=e,this.router=n,this.ngZone=r,this.afAuth.authState.subscribe(t=>{t?(this.userData=t,localStorage.setItem("user",JSON.stringify(this.userData)),JSON.parse(localStorage.getItem("user"))):(localStorage.setItem("user",null),JSON.parse(localStorage.getItem("user")))})}SignIn(t,e){return this.afAuth.signInWithEmailAndPassword(t,e).then(t=>{this.ngZone.run(()=>{this.router.navigate(["dashboard"])}),this.SetUserData(t.user)}).catch(t=>{window.alert(t.message)})}SignUp(t,e){return this.afAuth.createUserWithEmailAndPassword(t,e).then(t=>{this.SetUserData(t.user)}).catch(t=>{window.alert(t.message)})}get isLoggedIn(){return null!==JSON.parse(localStorage.getItem("user"))}AuthLogin(t){return this.afAuth.signInWithPopup(t).then(t=>{this.ngZone.run(()=>{this.router.navigate(["dashboard"])}),this.SetUserData(t.user)}).catch(t=>{window.alert(t)})}SetUserData(t){const e=this.afs.doc(`users/${t.uid}`),n={uid:t.uid,email:t.email,username:t.username=null};return console.log(n),e.set(n,{merge:!0})}SignOut(){return this.afAuth.signOut().then(()=>{localStorage.removeItem("user"),this.router.navigate(["sign-in"])})}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(_b),r.Mb(ji),r.Mb(Hr),r.Mb(r.A))},t.\u0275prov=r.Cb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Ib(t,e){if(1&t&&(r.Jb(0,"div",3),r.Jb(1,"div",15),r.Jb(2,"div",16),r.Jb(3,"div",17),r.Jb(4,"h1"),r.Yb(5,"Hello!! "),r.Jb(6,"strong"),r.Yb(7),r.Ib(),r.Ib(),r.Jb(8,"p"),r.Yb(9,"User ID: "),r.Jb(10,"strong"),r.Yb(11),r.Ib(),r.Ib(),r.Jb(12,"p"),r.Yb(13,"Email: "),r.Jb(14,"strong"),r.Yb(15),r.Ib(),r.Ib(),r.Ib(),r.Ib(),r.Ib(),r.Ib()),2&t){const t=e.ngIf;r.xb(7),r.Zb(t.username),r.xb(4),r.Zb(t.uid),r.xb(4),r.Zb(t.email)}}let Tb=(()=>{class t{constructor(t){this.authService=t}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)(r.Gb(Eb))},t.\u0275cmp=r.Ab({type:t,selectors:[["app-dashboard"]],inputs:{username:"username"},decls:25,vars:1,consts:[["href","//maxcdn.bootstrapcdn.com/bootstrap/3.3.0/css/bootstrap.min.css","rel","stylesheet","id","bootstrap-css"],["id","fullscreen_bg",1,"fullscreen_bg"],[1,"container"],[1,"row"],[1,"col-lg-5","col-md-12","col-sm-8","col-xs-9","bhoechie-tab-container"],[1,"col-lg-3","col-md-3","col-sm-3","col-xs-3","bhoechie-tab-menu"],[1,"list-group"],["href","#",1,"list-group-item","active"],[1,"glyphicon","glyphicon-home"],["href","#",1,"list-group-item"],[1,"glyphicon","glyphicon-tasks"],[1,"col-lg-9","col-md-9","col-sm-9","col-xs-9","bhoechie-tab"],[1,"bhoechie-tab-content","active"],[1,"glyphicon","glyphicon-user",2,"font-size","14em","color","#00001a"],["class","row",4,"ngIf"],[1,"col-md-12"],[1,"media"],[1,"media-body"]],template:function(t,e){1&t&&(r.Hb(0,"link",0),r.Jb(1,"div",1),r.Jb(2,"div",2),r.Jb(3,"div",3),r.Jb(4,"div",4),r.Jb(5,"div",5),r.Jb(6,"ul",6),r.Jb(7,"a",7),r.Hb(8,"br"),r.Hb(9,"br"),r.Hb(10,"i",8),r.Yb(11," User Profile"),r.Hb(12,"br"),r.Hb(13,"br"),r.Ib(),r.Jb(14,"a",9),r.Hb(15,"br"),r.Hb(16,"br"),r.Hb(17,"i",10),r.Yb(18," Log out"),r.Hb(19,"br"),r.Hb(20,"br"),r.Ib(),r.Ib(),r.Ib(),r.Jb(21,"div",11),r.Jb(22,"div",12),r.Hb(23,"h1",13),r.Xb(24,Ib,16,3,"div",14),r.Ib(),r.Ib(),r.Ib(),r.Ib(),r.Ib(),r.Ib()),2&t&&(r.xb(24),r.Rb("ngIf",e.authService.userData))},directives:[C],styles:['.fullscreen_bg[_ngcontent-%COMP%]{position:fixed;top:0;right:0;bottom:0;left:0;background-size:cover;background-position:50% 50%;background-image:url(https://cdn.hipwallpaper.com/i/71/17/Td1L4S.jpg);background-repeat:repeat}div.bhoechie-tab-container[_ngcontent-%COMP%]{z-index:10;background-color:#fff;padding:0!important;border-radius:4px;-moz-border-radius:4px;border:1px solid #ddd;margin-top:20px;margin-left:50px;box-shadow:0 6px 12px rgba(0,0,0,.175);-moz-box-shadow:0 6px 12px rgba(0,0,0,.175);background-clip:padding-box;opacity:.97;filter:alpha(opacity=97)}div.bhoechie-tab-menu[_ngcontent-%COMP%]{padding-right:0;padding-left:0;padding-bottom:0}div.bhoechie-tab-menu[_ngcontent-%COMP%]   ul.list-group[_ngcontent-%COMP%]{margin-bottom:0;list-style:none}div.bhoechie-tab-menu[_ngcontent-%COMP%]   ul.list-group[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{margin-bottom:0;text-align:left}div.bhoechie-tab-menu[_ngcontent-%COMP%]   ul.list-group[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]   .fa[_ngcontent-%COMP%], div.bhoechie-tab-menu[_ngcontent-%COMP%]   ul.list-group[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]   .glyphicon[_ngcontent-%COMP%]{color:#00001a}div.bhoechie-tab-menu[_ngcontent-%COMP%]   ul.list-group[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]:first-child{border-top-right-radius:0;-moz-border-top-right-radius:0}div.bhoechie-tab-menu[_ngcontent-%COMP%]   ul.list-group[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]:last-child{border-bottom-right-radius:0;-moz-border-bottom-right-radius:0}div.bhoechie-tab-menu[_ngcontent-%COMP%]   ul.list-group[_ngcontent-%COMP%] > a.active[_ngcontent-%COMP%], div.bhoechie-tab-menu[_ngcontent-%COMP%]   ul.list-group[_ngcontent-%COMP%] > a.active[_ngcontent-%COMP%]   .fa[_ngcontent-%COMP%], div.bhoechie-tab-menu[_ngcontent-%COMP%]   ul.list-group[_ngcontent-%COMP%] > a.active[_ngcontent-%COMP%]   .glyphicon[_ngcontent-%COMP%]{background-color:#004c99;background-image:#5a55a3;color:#fff}div.bhoechie-tab-menu[_ngcontent-%COMP%]   ul.list-group[_ngcontent-%COMP%] > a.active[_ngcontent-%COMP%]:after{content:"";position:absolute;left:100%;top:50%;margin-top:-13px;border-bottom:13px solid transparent;border-top:13px solid transparent;border-left:10px solid #5a55a3}div.bhoechie-tab-content[_ngcontent-%COMP%]{background-color:#fff;padding-left:20px;padding-top:10px}div.bhoechie-tab[_ngcontent-%COMP%]   div.bhoechie-tab-content[_ngcontent-%COMP%]:not(.active){display:none}']}),t})();const Sb=[{path:"",redirectTo:"/sign-in",pathMatch:"full"},{path:"sign-in",component:(()=>{class t{constructor(t){this.authService=t}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)(r.Gb(Eb))},t.\u0275cmp=r.Ab({type:t,selectors:[["app-sign-in"]],decls:25,vars:0,consts:[["href","//maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css","rel","stylesheet","id","bootstrap-css"],[1,"sidenav"],[1,"login-main-text"],[1,"main"],[1,"col-md-6","col-sm-12"],[1,"login-form"],[1,"formGroup"],["type","text","placeholder","Username","required","",1,"formControl"],["userName",""],["type","password","placeholder","Password","required","",1,"formControl"],["userPassword",""],["type","button","value","Log in",1,"btn","btn-black",3,"click"],[1,"redirectToLogin"],["routerLink","/register-user"]],template:function(t,e){if(1&t){const t=r.Kb();r.Hb(0,"link",0),r.Jb(1,"div",1),r.Jb(2,"div",2),r.Jb(3,"h2"),r.Yb(4,"Application"),r.Hb(5,"br"),r.Yb(6," Login Page"),r.Ib(),r.Jb(7,"p"),r.Yb(8,"Login or register from here to access."),r.Ib(),r.Ib(),r.Ib(),r.Jb(9,"div",3),r.Jb(10,"div",4),r.Jb(11,"div",5),r.Jb(12,"div",6),r.Hb(13,"input",7,8),r.Ib(),r.Jb(15,"div",6),r.Hb(16,"input",9,10),r.Ib(),r.Jb(18,"div",6),r.Jb(19,"input",11),r.Pb("click",function(){r.Ub(t);const n=r.Tb(14),i=r.Tb(17);return e.authService.SignIn(n.value,i.value)}),r.Ib(),r.Ib(),r.Jb(20,"div",12),r.Jb(21,"span"),r.Yb(22,"Don't have an account?"),r.Jb(23,"a",13),r.Yb(24," Sign Up"),r.Ib(),r.Ib(),r.Ib(),r.Ib(),r.Ib(),r.Ib()}},directives:[qr],styles:["body[_ngcontent-%COMP%]{font-family:Lato,sans-serif}.main-head[_ngcontent-%COMP%]{height:150px;background:#fff}.sidenav[_ngcontent-%COMP%]{height:100%;background-color:#000;overflow-x:hidden;padding-top:20px}.main[_ngcontent-%COMP%]{padding:0 10px}@media screen and (max-height:450px){.sidenav[_ngcontent-%COMP%]{padding-top:15px}}@media screen and (max-width:450px){.login-form[_ngcontent-%COMP%], .register-form[_ngcontent-%COMP%]{margin-top:10%}}@media screen and (min-width:768px){.main[_ngcontent-%COMP%]{margin-left:40%}.sidenav[_ngcontent-%COMP%]{width:40%;position:fixed;z-index:1;top:0;left:0}.login-form[_ngcontent-%COMP%]{margin-top:80%}.register-form[_ngcontent-%COMP%]{margin-top:20%}}.login-main-text[_ngcontent-%COMP%]{margin-top:20%;padding:60px;color:#fff}.login-main-text[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-weight:300}.btn-black[_ngcontent-%COMP%]{background-color:#000!important;color:#fff}.formGroup[_ngcontent-%COMP%]{padding-bottom:2%;margin-bottom:5%}"]}),t})()},{path:"register-user",component:(()=>{class t{constructor(t){this.authService=t,this.emitter=new r.n}ngOnInit(){}emit(t){this.emitter.emit(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Gb(Eb))},t.\u0275cmp=r.Ab({type:t,selectors:[["app-sign-up"]],outputs:{emitter:"emitter"},decls:29,vars:0,consts:[["href","//maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css","rel","stylesheet","id","bootstrap-css"],[1,"sidenav"],[1,"signup-main-text"],[1,"main"],[1,"col-md-6","col-sm-12"],[1,"signup-form"],[1,"formGroup"],["type","email","placeholder","Email Address","required","",1,"formControl"],["userEmail",""],["type","password","placeholder","Password","required","",1,"formControl"],["userPwd",""],["type","button","value","Sign Up",1,"btn","btn-black",3,"click"],[1,"or"],[1,"orInner"],[1,"redirectToLogin"],["routerLink","/sign-in"]],template:function(t,e){if(1&t){const t=r.Kb();r.Hb(0,"link",0),r.Jb(1,"div",1),r.Jb(2,"div",2),r.Jb(3,"h2"),r.Yb(4,"Application"),r.Hb(5,"br"),r.Yb(6," signup Page"),r.Ib(),r.Jb(7,"p"),r.Yb(8,"signup from here to access."),r.Ib(),r.Ib(),r.Ib(),r.Jb(9,"div",3),r.Jb(10,"div",4),r.Jb(11,"div",5),r.Jb(12,"div",6),r.Hb(13,"input",7,8),r.Ib(),r.Jb(15,"div",6),r.Hb(16,"input",9,10),r.Ib(),r.Jb(18,"div",6),r.Jb(19,"input",11),r.Pb("click",function(){r.Ub(t);const n=r.Tb(14),i=r.Tb(17);return e.authService.SignUp(n.value,i.value)}),r.Ib(),r.Ib(),r.Jb(20,"div",6),r.Jb(21,"span",12),r.Jb(22,"span",13),r.Yb(23,"Or"),r.Ib(),r.Ib(),r.Ib(),r.Jb(24,"div",14),r.Jb(25,"span"),r.Yb(26,"Already have an account? "),r.Jb(27,"a",15),r.Yb(28,"Log In"),r.Ib(),r.Ib(),r.Ib(),r.Ib(),r.Ib(),r.Ib()}},directives:[qr],styles:["body[_ngcontent-%COMP%]{font-family:Lato,sans-serif}.main-head[_ngcontent-%COMP%]{height:150px;background:#fff}.sidenav[_ngcontent-%COMP%]{height:100%;background-color:#000;overflow-x:hidden;padding-top:20px}.main[_ngcontent-%COMP%]{padding:0 10px}@media screen and (max-height:450px){.sidenav[_ngcontent-%COMP%]{padding-top:15px}}@media screen and (max-width:450px){.register-form[_ngcontent-%COMP%], .signup-form[_ngcontent-%COMP%]{margin-top:10%}}@media screen and (min-width:768px){.main[_ngcontent-%COMP%]{margin-left:40%}.sidenav[_ngcontent-%COMP%]{width:40%;position:fixed;z-index:1;top:0;left:0}.signup-form[_ngcontent-%COMP%]{margin-top:80%}.register-form[_ngcontent-%COMP%]{margin-top:20%}}.signup-main-text[_ngcontent-%COMP%]{margin-top:20%;padding:60px;color:#fff}.signup-main-text[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-weight:300}.btn-black[_ngcontent-%COMP%]{background-color:#000!important;color:#fff}.formGroup[_ngcontent-%COMP%]{padding-bottom:2%;margin-bottom:5px}"]}),t})()},{path:"dashboard",component:Tb,canActivate:[(()=>{class t{constructor(t,e){this.authService=t,this.router=e}canActivate(t,e){return!0!==this.authService.isLoggedIn&&this.router.navigate(["sign-in"]),!0}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(Eb),r.Mb(Hr))},t.\u0275prov=r.Cb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()]}];let xb=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Eb({type:t,bootstrap:[hi]}),t.\u0275inj=r.Db({providers:[Eb],imports:[[lt,li,fi.a.initializeApp(di,"assignment-website"),Ai,Ob,ti.forRoot(Sb)],ti]}),t})();Object(r.T)(),at().bootstrapModule(xb).catch(t=>console.error(t))},zn8P:function(t,e){function n(t){return Promise.resolve().then(function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e})}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"}},[[0,0]]]);